ARM GAS  /tmp/ccmQGMh6.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"w25qxx.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.W25qxx_Spi,"ax",%progbits
  20              		.align	1
  21              		.global	W25qxx_Spi
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	W25qxx_Spi:
  27              	.LVL0:
  28              	.LFB130:
  29              		.file 1 "Drivers/w25qxx/w25qxx.c"
   1:Drivers/w25qxx/w25qxx.c **** 
   2:Drivers/w25qxx/w25qxx.c **** #include "w25qxxConf.h"
   3:Drivers/w25qxx/w25qxx.c **** #include "w25qxx.h"
   4:Drivers/w25qxx/w25qxx.c **** 
   5:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
   6:Drivers/w25qxx/w25qxx.c **** #include <stdio.h>
   7:Drivers/w25qxx/w25qxx.c **** #endif
   8:Drivers/w25qxx/w25qxx.c **** 
   9:Drivers/w25qxx/w25qxx.c **** #define W25QXX_DUMMY_BYTE 0xA5
  10:Drivers/w25qxx/w25qxx.c **** 
  11:Drivers/w25qxx/w25qxx.c **** w25qxx_t w25qxx;
  12:Drivers/w25qxx/w25qxx.c **** extern SPI_HandleTypeDef _W25QXX_SPI;
  13:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_USE_FREERTOS == 1)
  14:Drivers/w25qxx/w25qxx.c **** #define W25qxx_Delay(delay) osDelay(delay)
  15:Drivers/w25qxx/w25qxx.c **** #include "cmsis_os.h"
  16:Drivers/w25qxx/w25qxx.c **** #else
  17:Drivers/w25qxx/w25qxx.c **** #define W25qxx_Delay(delay) HAL_Delay(delay)
  18:Drivers/w25qxx/w25qxx.c **** #endif
  19:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
  20:Drivers/w25qxx/w25qxx.c **** uint8_t W25qxx_Spi(uint8_t Data)
  21:Drivers/w25qxx/w25qxx.c **** {
  30              		.loc 1 21 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 16
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 21 1 is_stmt 0 view .LVU1
  35 0000 00B5     		push	{lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccmQGMh6.s 			page 2


  38              		.cfi_offset 14, -4
  39 0002 87B0     		sub	sp, sp, #28
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 32
  42 0004 8DF80F00 		strb	r0, [sp, #15]
  22:Drivers/w25qxx/w25qxx.c **** 	uint8_t ret;
  43              		.loc 1 22 2 is_stmt 1 view .LVU2
  23:Drivers/w25qxx/w25qxx.c **** 	HAL_SPI_TransmitReceive(&_W25QXX_SPI, &Data, &ret, 1, 100);
  44              		.loc 1 23 2 view .LVU3
  45 0008 6423     		movs	r3, #100
  46 000a 0093     		str	r3, [sp]
  47 000c 0123     		movs	r3, #1
  48 000e 0DF11702 		add	r2, sp, #23
  49 0012 0DF10F01 		add	r1, sp, #15
  50 0016 0448     		ldr	r0, .L3
  51              	.LVL1:
  52              		.loc 1 23 2 is_stmt 0 view .LVU4
  53 0018 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
  54              	.LVL2:
  24:Drivers/w25qxx/w25qxx.c **** 	return ret;
  55              		.loc 1 24 2 is_stmt 1 view .LVU5
  25:Drivers/w25qxx/w25qxx.c **** }
  56              		.loc 1 25 1 is_stmt 0 view .LVU6
  57 001c 9DF81700 		ldrb	r0, [sp, #23]	@ zero_extendqisi2
  58 0020 07B0     		add	sp, sp, #28
  59              	.LCFI2:
  60              		.cfi_def_cfa_offset 4
  61              		@ sp needed
  62 0022 5DF804FB 		ldr	pc, [sp], #4
  63              	.L4:
  64 0026 00BF     		.align	2
  65              	.L3:
  66 0028 00000000 		.word	hspi1
  67              		.cfi_endproc
  68              	.LFE130:
  70              		.section	.text.W25qxx_ReadID,"ax",%progbits
  71              		.align	1
  72              		.global	W25qxx_ReadID
  73              		.syntax unified
  74              		.thumb
  75              		.thumb_func
  77              	W25qxx_ReadID:
  78              	.LFB131:
  26:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
  27:Drivers/w25qxx/w25qxx.c **** uint32_t W25qxx_ReadID(void)
  28:Drivers/w25qxx/w25qxx.c **** {
  79              		.loc 1 28 1 is_stmt 1 view -0
  80              		.cfi_startproc
  81              		@ args = 0, pretend = 0, frame = 0
  82              		@ frame_needed = 0, uses_anonymous_args = 0
  83 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  84              	.LCFI3:
  85              		.cfi_def_cfa_offset 24
  86              		.cfi_offset 3, -24
  87              		.cfi_offset 4, -20
  88              		.cfi_offset 5, -16
  89              		.cfi_offset 6, -12
ARM GAS  /tmp/ccmQGMh6.s 			page 3


  90              		.cfi_offset 7, -8
  91              		.cfi_offset 14, -4
  29:Drivers/w25qxx/w25qxx.c **** 	uint32_t Temp = 0, Temp0 = 0, Temp1 = 0, Temp2 = 0;
  92              		.loc 1 29 2 view .LVU8
  93              	.LVL3:
  30:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
  94              		.loc 1 30 2 view .LVU9
  95 0002 104F     		ldr	r7, .L7
  96 0004 0022     		movs	r2, #0
  97 0006 1021     		movs	r1, #16
  98 0008 3846     		mov	r0, r7
  99 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 100              	.LVL4:
  31:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(0x9F);
 101              		.loc 1 31 2 view .LVU10
 102 000e 9F20     		movs	r0, #159
 103 0010 FFF7FEFF 		bl	W25qxx_Spi
 104              	.LVL5:
  32:Drivers/w25qxx/w25qxx.c **** 	Temp0 = W25qxx_Spi(W25QXX_DUMMY_BYTE);
 105              		.loc 1 32 2 view .LVU11
 106              		.loc 1 32 10 is_stmt 0 view .LVU12
 107 0014 A520     		movs	r0, #165
 108 0016 FFF7FEFF 		bl	W25qxx_Spi
 109              	.LVL6:
 110 001a 0646     		mov	r6, r0
 111              	.LVL7:
  33:Drivers/w25qxx/w25qxx.c **** 	Temp1 = W25qxx_Spi(W25QXX_DUMMY_BYTE);
 112              		.loc 1 33 2 is_stmt 1 view .LVU13
 113              		.loc 1 33 10 is_stmt 0 view .LVU14
 114 001c A520     		movs	r0, #165
 115              	.LVL8:
 116              		.loc 1 33 10 view .LVU15
 117 001e FFF7FEFF 		bl	W25qxx_Spi
 118              	.LVL9:
 119 0022 0446     		mov	r4, r0
 120              	.LVL10:
  34:Drivers/w25qxx/w25qxx.c **** 	Temp2 = W25qxx_Spi(W25QXX_DUMMY_BYTE);
 121              		.loc 1 34 2 is_stmt 1 view .LVU16
 122              		.loc 1 34 10 is_stmt 0 view .LVU17
 123 0024 A520     		movs	r0, #165
 124              	.LVL11:
 125              		.loc 1 34 10 view .LVU18
 126 0026 FFF7FEFF 		bl	W25qxx_Spi
 127              	.LVL12:
 128 002a 0546     		mov	r5, r0
 129              	.LVL13:
  35:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 130              		.loc 1 35 2 is_stmt 1 view .LVU19
 131 002c 0122     		movs	r2, #1
 132 002e 1021     		movs	r1, #16
 133 0030 3846     		mov	r0, r7
 134              	.LVL14:
 135              		.loc 1 35 2 is_stmt 0 view .LVU20
 136 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
 137              	.LVL15:
  36:Drivers/w25qxx/w25qxx.c **** 	Temp = (Temp0 << 16) | (Temp1 << 8) | Temp2;
 138              		.loc 1 36 2 is_stmt 1 view .LVU21
ARM GAS  /tmp/ccmQGMh6.s 			page 4


 139              		.loc 1 36 32 is_stmt 0 view .LVU22
 140 0036 2402     		lsls	r4, r4, #8
 141              	.LVL16:
 142              		.loc 1 36 23 view .LVU23
 143 0038 44EA0644 		orr	r4, r4, r6, lsl #16
 144              	.LVL17:
  37:Drivers/w25qxx/w25qxx.c **** 	return Temp;
 145              		.loc 1 37 2 is_stmt 1 view .LVU24
  38:Drivers/w25qxx/w25qxx.c **** }
 146              		.loc 1 38 1 is_stmt 0 view .LVU25
 147 003c 44EA0500 		orr	r0, r4, r5
 148              	.LVL18:
 149              		.loc 1 38 1 view .LVU26
 150 0040 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 151              	.LVL19:
 152              	.L8:
 153              		.loc 1 38 1 view .LVU27
 154 0042 00BF     		.align	2
 155              	.L7:
 156 0044 00000240 		.word	1073872896
 157              		.cfi_endproc
 158              	.LFE131:
 160              		.section	.text.W25qxx_ReadUniqID,"ax",%progbits
 161              		.align	1
 162              		.global	W25qxx_ReadUniqID
 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 167              	W25qxx_ReadUniqID:
 168              	.LFB132:
  39:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
  40:Drivers/w25qxx/w25qxx.c **** void W25qxx_ReadUniqID(void)
  41:Drivers/w25qxx/w25qxx.c **** {
 169              		.loc 1 41 1 is_stmt 1 view -0
 170              		.cfi_startproc
 171              		@ args = 0, pretend = 0, frame = 0
 172              		@ frame_needed = 0, uses_anonymous_args = 0
 173 0000 10B5     		push	{r4, lr}
 174              	.LCFI4:
 175              		.cfi_def_cfa_offset 8
 176              		.cfi_offset 4, -8
 177              		.cfi_offset 14, -4
  42:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 178              		.loc 1 42 2 view .LVU29
 179 0002 0022     		movs	r2, #0
 180 0004 1021     		movs	r1, #16
 181 0006 1048     		ldr	r0, .L16
 182 0008 FFF7FEFF 		bl	HAL_GPIO_WritePin
 183              	.LVL20:
  43:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(0x4B);
 184              		.loc 1 43 2 view .LVU30
 185 000c 4B20     		movs	r0, #75
 186 000e FFF7FEFF 		bl	W25qxx_Spi
 187              	.LVL21:
  44:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 4; i++)
 188              		.loc 1 44 2 view .LVU31
 189              	.LBB2:
ARM GAS  /tmp/ccmQGMh6.s 			page 5


 190              		.loc 1 44 7 view .LVU32
 191              		.loc 1 44 15 is_stmt 0 view .LVU33
 192 0012 0024     		movs	r4, #0
 193              	.LVL22:
 194              	.L10:
 195              		.loc 1 44 22 is_stmt 1 discriminator 1 view .LVU34
 196              		.loc 1 44 2 is_stmt 0 discriminator 1 view .LVU35
 197 0014 032C     		cmp	r4, #3
 198 0016 05D8     		bhi	.L15
  45:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(W25QXX_DUMMY_BYTE);
 199              		.loc 1 45 3 is_stmt 1 discriminator 3 view .LVU36
 200 0018 A520     		movs	r0, #165
 201 001a FFF7FEFF 		bl	W25qxx_Spi
 202              	.LVL23:
  44:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 4; i++)
 203              		.loc 1 44 29 discriminator 3 view .LVU37
  44:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 4; i++)
 204              		.loc 1 44 30 is_stmt 0 discriminator 3 view .LVU38
 205 001e 0134     		adds	r4, r4, #1
 206              	.LVL24:
  44:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 4; i++)
 207              		.loc 1 44 30 discriminator 3 view .LVU39
 208 0020 E4B2     		uxtb	r4, r4
 209              	.LVL25:
  44:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 4; i++)
 210              		.loc 1 44 30 discriminator 3 view .LVU40
 211 0022 F7E7     		b	.L10
 212              	.L15:
  44:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 4; i++)
 213              		.loc 1 44 30 discriminator 3 view .LVU41
 214              	.LBE2:
 215              	.LBB3:
  46:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 8; i++)
 216              		.loc 1 46 15 view .LVU42
 217 0024 0024     		movs	r4, #0
 218              	.LVL26:
 219              		.loc 1 46 15 view .LVU43
 220 0026 07E0     		b	.L12
 221              	.LVL27:
 222              	.L13:
  47:Drivers/w25qxx/w25qxx.c **** 		w25qxx.UniqID[i] = W25qxx_Spi(W25QXX_DUMMY_BYTE);
 223              		.loc 1 47 3 is_stmt 1 discriminator 3 view .LVU44
 224              		.loc 1 47 22 is_stmt 0 discriminator 3 view .LVU45
 225 0028 A520     		movs	r0, #165
 226 002a FFF7FEFF 		bl	W25qxx_Spi
 227              	.LVL28:
 228              		.loc 1 47 20 discriminator 3 view .LVU46
 229 002e 074B     		ldr	r3, .L16+4
 230 0030 2344     		add	r3, r3, r4
 231 0032 5870     		strb	r0, [r3, #1]
  46:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 8; i++)
 232              		.loc 1 46 29 is_stmt 1 discriminator 3 view .LVU47
  46:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 8; i++)
 233              		.loc 1 46 30 is_stmt 0 discriminator 3 view .LVU48
 234 0034 0134     		adds	r4, r4, #1
 235              	.LVL29:
  46:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 8; i++)
ARM GAS  /tmp/ccmQGMh6.s 			page 6


 236              		.loc 1 46 30 discriminator 3 view .LVU49
 237 0036 E4B2     		uxtb	r4, r4
 238              	.LVL30:
 239              	.L12:
  46:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 8; i++)
 240              		.loc 1 46 22 is_stmt 1 discriminator 1 view .LVU50
  46:Drivers/w25qxx/w25qxx.c **** 	for (uint8_t i = 0; i < 8; i++)
 241              		.loc 1 46 2 is_stmt 0 discriminator 1 view .LVU51
 242 0038 072C     		cmp	r4, #7
 243 003a F5D9     		bls	.L13
 244              	.LBE3:
  48:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 245              		.loc 1 48 2 is_stmt 1 view .LVU52
 246 003c 0122     		movs	r2, #1
 247 003e 1021     		movs	r1, #16
 248 0040 0148     		ldr	r0, .L16
 249 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
 250              	.LVL31:
  49:Drivers/w25qxx/w25qxx.c **** }
 251              		.loc 1 49 1 is_stmt 0 view .LVU53
 252 0046 10BD     		pop	{r4, pc}
 253              	.LVL32:
 254              	.L17:
 255              		.loc 1 49 1 view .LVU54
 256              		.align	2
 257              	.L16:
 258 0048 00000240 		.word	1073872896
 259 004c 00000000 		.word	.LANCHOR0
 260              		.cfi_endproc
 261              	.LFE132:
 263              		.section	.text.W25qxx_WriteEnable,"ax",%progbits
 264              		.align	1
 265              		.global	W25qxx_WriteEnable
 266              		.syntax unified
 267              		.thumb
 268              		.thumb_func
 270              	W25qxx_WriteEnable:
 271              	.LFB133:
  50:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
  51:Drivers/w25qxx/w25qxx.c **** void W25qxx_WriteEnable(void)
  52:Drivers/w25qxx/w25qxx.c **** {
 272              		.loc 1 52 1 is_stmt 1 view -0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 0
 275              		@ frame_needed = 0, uses_anonymous_args = 0
 276 0000 10B5     		push	{r4, lr}
 277              	.LCFI5:
 278              		.cfi_def_cfa_offset 8
 279              		.cfi_offset 4, -8
 280              		.cfi_offset 14, -4
  53:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 281              		.loc 1 53 2 view .LVU56
 282 0002 094C     		ldr	r4, .L20
 283 0004 0022     		movs	r2, #0
 284 0006 1021     		movs	r1, #16
 285 0008 2046     		mov	r0, r4
 286 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  /tmp/ccmQGMh6.s 			page 7


 287              	.LVL33:
  54:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(0x06);
 288              		.loc 1 54 2 view .LVU57
 289 000e 0620     		movs	r0, #6
 290 0010 FFF7FEFF 		bl	W25qxx_Spi
 291              	.LVL34:
  55:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 292              		.loc 1 55 2 view .LVU58
 293 0014 0122     		movs	r2, #1
 294 0016 1021     		movs	r1, #16
 295 0018 2046     		mov	r0, r4
 296 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 297              	.LVL35:
  56:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(1);
 298              		.loc 1 56 2 view .LVU59
 299 001e 0120     		movs	r0, #1
 300 0020 FFF7FEFF 		bl	HAL_Delay
 301              	.LVL36:
  57:Drivers/w25qxx/w25qxx.c **** }
 302              		.loc 1 57 1 is_stmt 0 view .LVU60
 303 0024 10BD     		pop	{r4, pc}
 304              	.L21:
 305 0026 00BF     		.align	2
 306              	.L20:
 307 0028 00000240 		.word	1073872896
 308              		.cfi_endproc
 309              	.LFE133:
 311              		.section	.text.W25qxx_WriteDisable,"ax",%progbits
 312              		.align	1
 313              		.global	W25qxx_WriteDisable
 314              		.syntax unified
 315              		.thumb
 316              		.thumb_func
 318              	W25qxx_WriteDisable:
 319              	.LFB134:
  58:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
  59:Drivers/w25qxx/w25qxx.c **** void W25qxx_WriteDisable(void)
  60:Drivers/w25qxx/w25qxx.c **** {
 320              		.loc 1 60 1 is_stmt 1 view -0
 321              		.cfi_startproc
 322              		@ args = 0, pretend = 0, frame = 0
 323              		@ frame_needed = 0, uses_anonymous_args = 0
 324 0000 10B5     		push	{r4, lr}
 325              	.LCFI6:
 326              		.cfi_def_cfa_offset 8
 327              		.cfi_offset 4, -8
 328              		.cfi_offset 14, -4
  61:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 329              		.loc 1 61 2 view .LVU62
 330 0002 094C     		ldr	r4, .L24
 331 0004 0022     		movs	r2, #0
 332 0006 1021     		movs	r1, #16
 333 0008 2046     		mov	r0, r4
 334 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 335              	.LVL37:
  62:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(0x04);
 336              		.loc 1 62 2 view .LVU63
ARM GAS  /tmp/ccmQGMh6.s 			page 8


 337 000e 0420     		movs	r0, #4
 338 0010 FFF7FEFF 		bl	W25qxx_Spi
 339              	.LVL38:
  63:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 340              		.loc 1 63 2 view .LVU64
 341 0014 0122     		movs	r2, #1
 342 0016 1021     		movs	r1, #16
 343 0018 2046     		mov	r0, r4
 344 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 345              	.LVL39:
  64:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(1);
 346              		.loc 1 64 2 view .LVU65
 347 001e 0120     		movs	r0, #1
 348 0020 FFF7FEFF 		bl	HAL_Delay
 349              	.LVL40:
  65:Drivers/w25qxx/w25qxx.c **** }
 350              		.loc 1 65 1 is_stmt 0 view .LVU66
 351 0024 10BD     		pop	{r4, pc}
 352              	.L25:
 353 0026 00BF     		.align	2
 354              	.L24:
 355 0028 00000240 		.word	1073872896
 356              		.cfi_endproc
 357              	.LFE134:
 359              		.section	.text.W25qxx_ReadStatusRegister,"ax",%progbits
 360              		.align	1
 361              		.global	W25qxx_ReadStatusRegister
 362              		.syntax unified
 363              		.thumb
 364              		.thumb_func
 366              	W25qxx_ReadStatusRegister:
 367              	.LVL41:
 368              	.LFB135:
  66:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
  67:Drivers/w25qxx/w25qxx.c **** uint8_t W25qxx_ReadStatusRegister(uint8_t SelectStatusRegister_1_2_3)
  68:Drivers/w25qxx/w25qxx.c **** {
 369              		.loc 1 68 1 is_stmt 1 view -0
 370              		.cfi_startproc
 371              		@ args = 0, pretend = 0, frame = 0
 372              		@ frame_needed = 0, uses_anonymous_args = 0
 373              		.loc 1 68 1 is_stmt 0 view .LVU68
 374 0000 10B5     		push	{r4, lr}
 375              	.LCFI7:
 376              		.cfi_def_cfa_offset 8
 377              		.cfi_offset 4, -8
 378              		.cfi_offset 14, -4
 379 0002 0446     		mov	r4, r0
  69:Drivers/w25qxx/w25qxx.c **** 	uint8_t status = 0;
 380              		.loc 1 69 2 is_stmt 1 view .LVU69
 381              	.LVL42:
  70:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 382              		.loc 1 70 2 view .LVU70
 383 0004 0022     		movs	r2, #0
 384 0006 1021     		movs	r1, #16
 385 0008 1648     		ldr	r0, .L33
 386              	.LVL43:
 387              		.loc 1 70 2 is_stmt 0 view .LVU71
ARM GAS  /tmp/ccmQGMh6.s 			page 9


 388 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 389              	.LVL44:
  71:Drivers/w25qxx/w25qxx.c **** 	if (SelectStatusRegister_1_2_3 == 1)
 390              		.loc 1 71 2 is_stmt 1 view .LVU72
 391              		.loc 1 71 5 is_stmt 0 view .LVU73
 392 000e 012C     		cmp	r4, #1
 393 0010 12D0     		beq	.L31
  72:Drivers/w25qxx/w25qxx.c **** 	{
  73:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x05);
  74:Drivers/w25qxx/w25qxx.c **** 		status = W25qxx_Spi(W25QXX_DUMMY_BYTE);
  75:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister1 = status;
  76:Drivers/w25qxx/w25qxx.c **** 	}
  77:Drivers/w25qxx/w25qxx.c **** 	else if (SelectStatusRegister_1_2_3 == 2)
 394              		.loc 1 77 7 is_stmt 1 view .LVU74
 395              		.loc 1 77 10 is_stmt 0 view .LVU75
 396 0012 022C     		cmp	r4, #2
 397 0014 1BD0     		beq	.L32
  78:Drivers/w25qxx/w25qxx.c **** 	{
  79:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x35);
  80:Drivers/w25qxx/w25qxx.c **** 		status = W25qxx_Spi(W25QXX_DUMMY_BYTE);
  81:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister2 = status;
  82:Drivers/w25qxx/w25qxx.c **** 	}
  83:Drivers/w25qxx/w25qxx.c **** 	else
  84:Drivers/w25qxx/w25qxx.c **** 	{
  85:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x15);
 398              		.loc 1 85 3 is_stmt 1 view .LVU76
 399 0016 1520     		movs	r0, #21
 400 0018 FFF7FEFF 		bl	W25qxx_Spi
 401              	.LVL45:
  86:Drivers/w25qxx/w25qxx.c **** 		status = W25qxx_Spi(W25QXX_DUMMY_BYTE);
 402              		.loc 1 86 3 view .LVU77
 403              		.loc 1 86 12 is_stmt 0 view .LVU78
 404 001c A520     		movs	r0, #165
 405 001e FFF7FEFF 		bl	W25qxx_Spi
 406              	.LVL46:
 407 0022 0446     		mov	r4, r0
 408              	.LVL47:
  87:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister3 = status;
 409              		.loc 1 87 3 is_stmt 1 view .LVU79
 410              		.loc 1 87 26 is_stmt 0 view .LVU80
 411 0024 104B     		ldr	r3, .L33+4
 412 0026 83F82600 		strb	r0, [r3, #38]
 413              	.L28:
 414              	.LVL48:
  88:Drivers/w25qxx/w25qxx.c **** 	}
  89:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 415              		.loc 1 89 2 is_stmt 1 view .LVU81
 416 002a 0122     		movs	r2, #1
 417 002c 1021     		movs	r1, #16
 418 002e 0D48     		ldr	r0, .L33
 419 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 420              	.LVL49:
  90:Drivers/w25qxx/w25qxx.c **** 	return status;
 421              		.loc 1 90 2 view .LVU82
  91:Drivers/w25qxx/w25qxx.c **** }
 422              		.loc 1 91 1 is_stmt 0 view .LVU83
 423 0034 2046     		mov	r0, r4
ARM GAS  /tmp/ccmQGMh6.s 			page 10


 424 0036 10BD     		pop	{r4, pc}
 425              	.LVL50:
 426              	.L31:
  73:Drivers/w25qxx/w25qxx.c **** 		status = W25qxx_Spi(W25QXX_DUMMY_BYTE);
 427              		.loc 1 73 3 is_stmt 1 view .LVU84
 428 0038 0520     		movs	r0, #5
 429 003a FFF7FEFF 		bl	W25qxx_Spi
 430              	.LVL51:
  74:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister1 = status;
 431              		.loc 1 74 3 view .LVU85
  74:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister1 = status;
 432              		.loc 1 74 12 is_stmt 0 view .LVU86
 433 003e A520     		movs	r0, #165
 434 0040 FFF7FEFF 		bl	W25qxx_Spi
 435              	.LVL52:
 436 0044 0446     		mov	r4, r0
 437              	.LVL53:
  75:Drivers/w25qxx/w25qxx.c **** 	}
 438              		.loc 1 75 3 is_stmt 1 view .LVU87
  75:Drivers/w25qxx/w25qxx.c **** 	}
 439              		.loc 1 75 26 is_stmt 0 view .LVU88
 440 0046 084B     		ldr	r3, .L33+4
 441 0048 83F82400 		strb	r0, [r3, #36]
 442 004c EDE7     		b	.L28
 443              	.LVL54:
 444              	.L32:
  79:Drivers/w25qxx/w25qxx.c **** 		status = W25qxx_Spi(W25QXX_DUMMY_BYTE);
 445              		.loc 1 79 3 is_stmt 1 view .LVU89
 446 004e 3520     		movs	r0, #53
 447 0050 FFF7FEFF 		bl	W25qxx_Spi
 448              	.LVL55:
  80:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister2 = status;
 449              		.loc 1 80 3 view .LVU90
  80:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister2 = status;
 450              		.loc 1 80 12 is_stmt 0 view .LVU91
 451 0054 A520     		movs	r0, #165
 452 0056 FFF7FEFF 		bl	W25qxx_Spi
 453              	.LVL56:
 454 005a 0446     		mov	r4, r0
 455              	.LVL57:
  81:Drivers/w25qxx/w25qxx.c **** 	}
 456              		.loc 1 81 3 is_stmt 1 view .LVU92
  81:Drivers/w25qxx/w25qxx.c **** 	}
 457              		.loc 1 81 26 is_stmt 0 view .LVU93
 458 005c 024B     		ldr	r3, .L33+4
 459 005e 83F82500 		strb	r0, [r3, #37]
 460 0062 E2E7     		b	.L28
 461              	.L34:
 462              		.align	2
 463              	.L33:
 464 0064 00000240 		.word	1073872896
 465 0068 00000000 		.word	.LANCHOR0
 466              		.cfi_endproc
 467              	.LFE135:
 469              		.section	.text.W25qxx_WriteStatusRegister,"ax",%progbits
 470              		.align	1
 471              		.global	W25qxx_WriteStatusRegister
ARM GAS  /tmp/ccmQGMh6.s 			page 11


 472              		.syntax unified
 473              		.thumb
 474              		.thumb_func
 476              	W25qxx_WriteStatusRegister:
 477              	.LVL58:
 478              	.LFB136:
  92:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
  93:Drivers/w25qxx/w25qxx.c **** void W25qxx_WriteStatusRegister(uint8_t SelectStatusRegister_1_2_3, uint8_t Data)
  94:Drivers/w25qxx/w25qxx.c **** {
 479              		.loc 1 94 1 is_stmt 1 view -0
 480              		.cfi_startproc
 481              		@ args = 0, pretend = 0, frame = 0
 482              		@ frame_needed = 0, uses_anonymous_args = 0
 483              		.loc 1 94 1 is_stmt 0 view .LVU95
 484 0000 38B5     		push	{r3, r4, r5, lr}
 485              	.LCFI8:
 486              		.cfi_def_cfa_offset 16
 487              		.cfi_offset 3, -16
 488              		.cfi_offset 4, -12
 489              		.cfi_offset 5, -8
 490              		.cfi_offset 14, -4
 491 0002 0546     		mov	r5, r0
 492 0004 0C46     		mov	r4, r1
  95:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 493              		.loc 1 95 2 is_stmt 1 view .LVU96
 494 0006 0022     		movs	r2, #0
 495 0008 1021     		movs	r1, #16
 496              	.LVL59:
 497              		.loc 1 95 2 is_stmt 0 view .LVU97
 498 000a 1248     		ldr	r0, .L42
 499              	.LVL60:
 500              		.loc 1 95 2 view .LVU98
 501 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 502              	.LVL61:
  96:Drivers/w25qxx/w25qxx.c **** 	if (SelectStatusRegister_1_2_3 == 1)
 503              		.loc 1 96 2 is_stmt 1 view .LVU99
 504              		.loc 1 96 5 is_stmt 0 view .LVU100
 505 0010 012D     		cmp	r5, #1
 506 0012 10D0     		beq	.L40
  97:Drivers/w25qxx/w25qxx.c **** 	{
  98:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x01);
  99:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister1 = Data;
 100:Drivers/w25qxx/w25qxx.c **** 	}
 101:Drivers/w25qxx/w25qxx.c **** 	else if (SelectStatusRegister_1_2_3 == 2)
 507              		.loc 1 101 7 is_stmt 1 view .LVU101
 508              		.loc 1 101 10 is_stmt 0 view .LVU102
 509 0014 022D     		cmp	r5, #2
 510 0016 15D0     		beq	.L41
 102:Drivers/w25qxx/w25qxx.c **** 	{
 103:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x31);
 104:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister2 = Data;
 105:Drivers/w25qxx/w25qxx.c **** 	}
 106:Drivers/w25qxx/w25qxx.c **** 	else
 107:Drivers/w25qxx/w25qxx.c **** 	{
 108:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x11);
 511              		.loc 1 108 3 is_stmt 1 view .LVU103
 512 0018 1120     		movs	r0, #17
ARM GAS  /tmp/ccmQGMh6.s 			page 12


 513 001a FFF7FEFF 		bl	W25qxx_Spi
 514              	.LVL62:
 109:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister3 = Data;
 515              		.loc 1 109 3 view .LVU104
 516              		.loc 1 109 26 is_stmt 0 view .LVU105
 517 001e 0E4B     		ldr	r3, .L42+4
 518 0020 83F82640 		strb	r4, [r3, #38]
 519              	.L37:
 110:Drivers/w25qxx/w25qxx.c **** 	}
 111:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(Data);
 520              		.loc 1 111 2 is_stmt 1 view .LVU106
 521 0024 2046     		mov	r0, r4
 522 0026 FFF7FEFF 		bl	W25qxx_Spi
 523              	.LVL63:
 112:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 524              		.loc 1 112 2 view .LVU107
 525 002a 0122     		movs	r2, #1
 526 002c 1021     		movs	r1, #16
 527 002e 0948     		ldr	r0, .L42
 528 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 529              	.LVL64:
 113:Drivers/w25qxx/w25qxx.c **** }
 530              		.loc 1 113 1 is_stmt 0 view .LVU108
 531 0034 38BD     		pop	{r3, r4, r5, pc}
 532              	.L40:
  98:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister1 = Data;
 533              		.loc 1 98 3 is_stmt 1 view .LVU109
 534 0036 0120     		movs	r0, #1
 535 0038 FFF7FEFF 		bl	W25qxx_Spi
 536              	.LVL65:
  99:Drivers/w25qxx/w25qxx.c **** 	}
 537              		.loc 1 99 3 view .LVU110
  99:Drivers/w25qxx/w25qxx.c **** 	}
 538              		.loc 1 99 26 is_stmt 0 view .LVU111
 539 003c 064B     		ldr	r3, .L42+4
 540 003e 83F82440 		strb	r4, [r3, #36]
 541 0042 EFE7     		b	.L37
 542              	.L41:
 103:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister2 = Data;
 543              		.loc 1 103 3 is_stmt 1 view .LVU112
 544 0044 3120     		movs	r0, #49
 545 0046 FFF7FEFF 		bl	W25qxx_Spi
 546              	.LVL66:
 104:Drivers/w25qxx/w25qxx.c **** 	}
 547              		.loc 1 104 3 view .LVU113
 104:Drivers/w25qxx/w25qxx.c **** 	}
 548              		.loc 1 104 26 is_stmt 0 view .LVU114
 549 004a 034B     		ldr	r3, .L42+4
 550 004c 83F82540 		strb	r4, [r3, #37]
 551 0050 E8E7     		b	.L37
 552              	.L43:
 553 0052 00BF     		.align	2
 554              	.L42:
 555 0054 00000240 		.word	1073872896
 556 0058 00000000 		.word	.LANCHOR0
 557              		.cfi_endproc
 558              	.LFE136:
ARM GAS  /tmp/ccmQGMh6.s 			page 13


 560              		.section	.text.W25qxx_WaitForWriteEnd,"ax",%progbits
 561              		.align	1
 562              		.global	W25qxx_WaitForWriteEnd
 563              		.syntax unified
 564              		.thumb
 565              		.thumb_func
 567              	W25qxx_WaitForWriteEnd:
 568              	.LFB137:
 114:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 115:Drivers/w25qxx/w25qxx.c **** void W25qxx_WaitForWriteEnd(void)
 116:Drivers/w25qxx/w25qxx.c **** {
 569              		.loc 1 116 1 is_stmt 1 view -0
 570              		.cfi_startproc
 571              		@ args = 0, pretend = 0, frame = 0
 572              		@ frame_needed = 0, uses_anonymous_args = 0
 573 0000 10B5     		push	{r4, lr}
 574              	.LCFI9:
 575              		.cfi_def_cfa_offset 8
 576              		.cfi_offset 4, -8
 577              		.cfi_offset 14, -4
 117:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(1);
 578              		.loc 1 117 2 view .LVU116
 579 0002 0120     		movs	r0, #1
 580 0004 FFF7FEFF 		bl	HAL_Delay
 581              	.LVL67:
 118:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 582              		.loc 1 118 2 view .LVU117
 583 0008 0022     		movs	r2, #0
 584 000a 1021     		movs	r1, #16
 585 000c 0C48     		ldr	r0, .L47
 586 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 587              	.LVL68:
 119:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(0x05);
 588              		.loc 1 119 2 view .LVU118
 589 0012 0520     		movs	r0, #5
 590 0014 FFF7FEFF 		bl	W25qxx_Spi
 591              	.LVL69:
 592              	.L45:
 120:Drivers/w25qxx/w25qxx.c **** 	do
 593              		.loc 1 120 2 discriminator 1 view .LVU119
 121:Drivers/w25qxx/w25qxx.c **** 	{
 122:Drivers/w25qxx/w25qxx.c **** 		w25qxx.StatusRegister1 = W25qxx_Spi(W25QXX_DUMMY_BYTE);
 594              		.loc 1 122 3 discriminator 1 view .LVU120
 595              		.loc 1 122 28 is_stmt 0 discriminator 1 view .LVU121
 596 0018 A520     		movs	r0, #165
 597 001a FFF7FEFF 		bl	W25qxx_Spi
 598              	.LVL70:
 599              		.loc 1 122 26 discriminator 1 view .LVU122
 600 001e 094C     		ldr	r4, .L47+4
 601 0020 84F82400 		strb	r0, [r4, #36]
 123:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 602              		.loc 1 123 3 is_stmt 1 discriminator 1 view .LVU123
 603 0024 0120     		movs	r0, #1
 604 0026 FFF7FEFF 		bl	HAL_Delay
 605              	.LVL71:
 124:Drivers/w25qxx/w25qxx.c **** 	} while ((w25qxx.StatusRegister1 & 0x01) == 0x01);
 606              		.loc 1 124 10 discriminator 1 view .LVU124
ARM GAS  /tmp/ccmQGMh6.s 			page 14


 607              		.loc 1 124 18 is_stmt 0 discriminator 1 view .LVU125
 608 002a 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 609              		.loc 1 124 2 discriminator 1 view .LVU126
 610 002e 13F0010F 		tst	r3, #1
 611 0032 F1D1     		bne	.L45
 125:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 612              		.loc 1 125 2 is_stmt 1 view .LVU127
 613 0034 0122     		movs	r2, #1
 614 0036 1021     		movs	r1, #16
 615 0038 0148     		ldr	r0, .L47
 616 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
 617              	.LVL72:
 126:Drivers/w25qxx/w25qxx.c **** }
 618              		.loc 1 126 1 is_stmt 0 view .LVU128
 619 003e 10BD     		pop	{r4, pc}
 620              	.L48:
 621              		.align	2
 622              	.L47:
 623 0040 00000240 		.word	1073872896
 624 0044 00000000 		.word	.LANCHOR0
 625              		.cfi_endproc
 626              	.LFE137:
 628              		.section	.text.W25qxx_Init,"ax",%progbits
 629              		.align	1
 630              		.global	W25qxx_Init
 631              		.syntax unified
 632              		.thumb
 633              		.thumb_func
 635              	W25qxx_Init:
 636              	.LFB138:
 127:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 128:Drivers/w25qxx/w25qxx.c **** bool W25qxx_Init(void)
 129:Drivers/w25qxx/w25qxx.c **** {
 637              		.loc 1 129 1 is_stmt 1 view -0
 638              		.cfi_startproc
 639              		@ args = 0, pretend = 0, frame = 0
 640              		@ frame_needed = 0, uses_anonymous_args = 0
 641 0000 10B5     		push	{r4, lr}
 642              	.LCFI10:
 643              		.cfi_def_cfa_offset 8
 644              		.cfi_offset 4, -8
 645              		.cfi_offset 14, -4
 130:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 646              		.loc 1 130 2 view .LVU130
 647              		.loc 1 130 14 is_stmt 0 view .LVU131
 648 0002 444B     		ldr	r3, .L67
 649 0004 0122     		movs	r2, #1
 650 0006 83F82720 		strb	r2, [r3, #39]
 131:Drivers/w25qxx/w25qxx.c **** 	while (HAL_GetTick() < 100)
 651              		.loc 1 131 2 is_stmt 1 view .LVU132
 652              		.loc 1 131 8 is_stmt 0 view .LVU133
 653 000a 02E0     		b	.L50
 654              	.L51:
 132:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 655              		.loc 1 132 3 is_stmt 1 view .LVU134
 656 000c 0120     		movs	r0, #1
 657 000e FFF7FEFF 		bl	HAL_Delay
ARM GAS  /tmp/ccmQGMh6.s 			page 15


 658              	.LVL73:
 659              	.L50:
 131:Drivers/w25qxx/w25qxx.c **** 	while (HAL_GetTick() < 100)
 660              		.loc 1 131 8 view .LVU135
 131:Drivers/w25qxx/w25qxx.c **** 	while (HAL_GetTick() < 100)
 661              		.loc 1 131 9 is_stmt 0 view .LVU136
 662 0012 FFF7FEFF 		bl	HAL_GetTick
 663              	.LVL74:
 131:Drivers/w25qxx/w25qxx.c **** 	while (HAL_GetTick() < 100)
 664              		.loc 1 131 8 view .LVU137
 665 0016 6328     		cmp	r0, #99
 666 0018 F8D9     		bls	.L51
 133:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 667              		.loc 1 133 2 is_stmt 1 view .LVU138
 668 001a 0122     		movs	r2, #1
 669 001c 1021     		movs	r1, #16
 670 001e 3E48     		ldr	r0, .L67+4
 671 0020 FFF7FEFF 		bl	HAL_GPIO_WritePin
 672              	.LVL75:
 134:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 673              		.loc 1 134 2 view .LVU139
 674 0024 6420     		movs	r0, #100
 675 0026 FFF7FEFF 		bl	HAL_Delay
 676              	.LVL76:
 135:Drivers/w25qxx/w25qxx.c **** 	uint32_t id;
 677              		.loc 1 135 2 view .LVU140
 136:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 137:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx Init Begin...\r\n");
 138:Drivers/w25qxx/w25qxx.c **** #endif
 139:Drivers/w25qxx/w25qxx.c **** 	id = W25qxx_ReadID();
 678              		.loc 1 139 2 view .LVU141
 679              		.loc 1 139 7 is_stmt 0 view .LVU142
 680 002a FFF7FEFF 		bl	W25qxx_ReadID
 681              	.LVL77:
 140:Drivers/w25qxx/w25qxx.c **** 
 141:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 142:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx ID:0x%X\r\n", id);
 143:Drivers/w25qxx/w25qxx.c **** #endif
 144:Drivers/w25qxx/w25qxx.c **** 	switch (id & 0x000000FF)
 682              		.loc 1 144 2 is_stmt 1 view .LVU143
 683              		.loc 1 144 13 is_stmt 0 view .LVU144
 684 002e C0B2     		uxtb	r0, r0
 685              	.LVL78:
 686              		.loc 1 144 2 view .LVU145
 687 0030 1138     		subs	r0, r0, #17
 688 0032 0F28     		cmp	r0, #15
 689 0034 69D8     		bhi	.L52
 690 0036 DFE800F0 		tbb	[pc, r0]
 691              	.L54:
 692 003a 62       		.byte	(.L63-.L54)/2
 693 003b 5C       		.byte	(.L62-.L54)/2
 694 003c 56       		.byte	(.L61-.L54)/2
 695 003d 50       		.byte	(.L60-.L54)/2
 696 003e 4A       		.byte	(.L59-.L54)/2
 697 003f 44       		.byte	(.L58-.L54)/2
 698 0040 3E       		.byte	(.L57-.L54)/2
 699 0041 37       		.byte	(.L56-.L54)/2
ARM GAS  /tmp/ccmQGMh6.s 			page 16


 700 0042 30       		.byte	(.L55-.L54)/2
 701 0043 68       		.byte	(.L52-.L54)/2
 702 0044 68       		.byte	(.L52-.L54)/2
 703 0045 68       		.byte	(.L52-.L54)/2
 704 0046 68       		.byte	(.L52-.L54)/2
 705 0047 68       		.byte	(.L52-.L54)/2
 706 0048 68       		.byte	(.L52-.L54)/2
 707 0049 08       		.byte	(.L53-.L54)/2
 708              		.p2align 1
 709              	.L53:
 145:Drivers/w25qxx/w25qxx.c **** 	{
 146:Drivers/w25qxx/w25qxx.c **** 	case 0x20: // 	w25q512
 147:Drivers/w25qxx/w25qxx.c **** 		w25qxx.ID = W25Q512;
 710              		.loc 1 147 3 is_stmt 1 view .LVU146
 711              		.loc 1 147 13 is_stmt 0 view .LVU147
 712 004a 324B     		ldr	r3, .L67
 713 004c 0A22     		movs	r2, #10
 714 004e 1A70     		strb	r2, [r3]
 148:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 1024;
 715              		.loc 1 148 3 is_stmt 1 view .LVU148
 716              		.loc 1 148 21 is_stmt 0 view .LVU149
 717 0050 4FF48062 		mov	r2, #1024
 718 0054 DA61     		str	r2, [r3, #28]
 149:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 150:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Chip: w25q512\r\n");
 151:Drivers/w25qxx/w25qxx.c **** #endif
 152:Drivers/w25qxx/w25qxx.c **** 		break;
 719              		.loc 1 152 3 is_stmt 1 view .LVU150
 720              	.L64:
 153:Drivers/w25qxx/w25qxx.c **** 	case 0x19: // 	w25q256
 154:Drivers/w25qxx/w25qxx.c **** 		w25qxx.ID = W25Q256;
 155:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 512;
 156:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 157:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Chip: w25q256\r\n");
 158:Drivers/w25qxx/w25qxx.c **** #endif
 159:Drivers/w25qxx/w25qxx.c **** 		break;
 160:Drivers/w25qxx/w25qxx.c **** 	case 0x18: // 	w25q128
 161:Drivers/w25qxx/w25qxx.c **** 		w25qxx.ID = W25Q128;
 162:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 256;
 163:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 164:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Chip: w25q128\r\n");
 165:Drivers/w25qxx/w25qxx.c **** #endif
 166:Drivers/w25qxx/w25qxx.c **** 		break;
 167:Drivers/w25qxx/w25qxx.c **** 	case 0x17: //	w25q64
 168:Drivers/w25qxx/w25qxx.c **** 		w25qxx.ID = W25Q64;
 169:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 128;
 170:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 171:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Chip: w25q64\r\n");
 172:Drivers/w25qxx/w25qxx.c **** #endif
 173:Drivers/w25qxx/w25qxx.c **** 		break;
 174:Drivers/w25qxx/w25qxx.c **** 	case 0x16: //	w25q32
 175:Drivers/w25qxx/w25qxx.c **** 		w25qxx.ID = W25Q32;
 176:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 64;
 177:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 178:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Chip: w25q32\r\n");
 179:Drivers/w25qxx/w25qxx.c **** #endif
 180:Drivers/w25qxx/w25qxx.c **** 		break;
ARM GAS  /tmp/ccmQGMh6.s 			page 17


 181:Drivers/w25qxx/w25qxx.c **** 	case 0x15: //	w25q16
 182:Drivers/w25qxx/w25qxx.c **** 		w25qxx.ID = W25Q16;
 183:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 32;
 184:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 185:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Chip: w25q16\r\n");
 186:Drivers/w25qxx/w25qxx.c **** #endif
 187:Drivers/w25qxx/w25qxx.c **** 		break;
 188:Drivers/w25qxx/w25qxx.c **** 	case 0x14: //	w25q80
 189:Drivers/w25qxx/w25qxx.c **** 		w25qxx.ID = W25Q80;
 190:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 16;
 191:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 192:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Chip: w25q80\r\n");
 193:Drivers/w25qxx/w25qxx.c **** #endif
 194:Drivers/w25qxx/w25qxx.c **** 		break;
 195:Drivers/w25qxx/w25qxx.c **** 	case 0x13: //	w25q40
 196:Drivers/w25qxx/w25qxx.c **** 		w25qxx.ID = W25Q40;
 197:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 8;
 198:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 199:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Chip: w25q40\r\n");
 200:Drivers/w25qxx/w25qxx.c **** #endif
 201:Drivers/w25qxx/w25qxx.c **** 		break;
 202:Drivers/w25qxx/w25qxx.c **** 	case 0x12: //	w25q20
 203:Drivers/w25qxx/w25qxx.c **** 		w25qxx.ID = W25Q20;
 204:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 4;
 205:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 206:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Chip: w25q20\r\n");
 207:Drivers/w25qxx/w25qxx.c **** #endif
 208:Drivers/w25qxx/w25qxx.c **** 		break;
 209:Drivers/w25qxx/w25qxx.c **** 	case 0x11: //	w25q10
 210:Drivers/w25qxx/w25qxx.c **** 		w25qxx.ID = W25Q10;
 211:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 2;
 212:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 213:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Chip: w25q10\r\n");
 214:Drivers/w25qxx/w25qxx.c **** #endif
 215:Drivers/w25qxx/w25qxx.c **** 		break;
 216:Drivers/w25qxx/w25qxx.c **** 	default:
 217:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 218:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx Unknown ID\r\n");
 219:Drivers/w25qxx/w25qxx.c **** #endif
 220:Drivers/w25qxx/w25qxx.c **** 		w25qxx.Lock = 0;
 221:Drivers/w25qxx/w25qxx.c **** 		return false;
 222:Drivers/w25qxx/w25qxx.c **** 	}
 223:Drivers/w25qxx/w25qxx.c **** 	w25qxx.PageSize = 256;
 721              		.loc 1 223 2 view .LVU151
 722              		.loc 1 223 18 is_stmt 0 view .LVU152
 723 0056 2F4C     		ldr	r4, .L67
 724 0058 4FF48073 		mov	r3, #256
 725 005c 6381     		strh	r3, [r4, #10]	@ movhi
 224:Drivers/w25qxx/w25qxx.c **** 	w25qxx.SectorSize = 0x1000;
 726              		.loc 1 224 2 is_stmt 1 view .LVU153
 727              		.loc 1 224 20 is_stmt 0 view .LVU154
 728 005e 4FF48053 		mov	r3, #4096
 729 0062 2361     		str	r3, [r4, #16]
 225:Drivers/w25qxx/w25qxx.c **** 	w25qxx.SectorCount = w25qxx.BlockCount * 16;
 730              		.loc 1 225 2 is_stmt 1 view .LVU155
 731              		.loc 1 225 29 is_stmt 0 view .LVU156
 732 0064 E369     		ldr	r3, [r4, #28]
ARM GAS  /tmp/ccmQGMh6.s 			page 18


 733              		.loc 1 225 41 view .LVU157
 734 0066 1A01     		lsls	r2, r3, #4
 735              		.loc 1 225 21 view .LVU158
 736 0068 6261     		str	r2, [r4, #20]
 226:Drivers/w25qxx/w25qxx.c **** 	w25qxx.PageCount = (w25qxx.SectorCount * w25qxx.SectorSize) / w25qxx.PageSize;
 737              		.loc 1 226 2 is_stmt 1 view .LVU159
 738              		.loc 1 226 41 is_stmt 0 view .LVU160
 739 006a 1B04     		lsls	r3, r3, #16
 740              		.loc 1 226 62 view .LVU161
 741 006c 1A0A     		lsrs	r2, r3, #8
 742              		.loc 1 226 19 view .LVU162
 743 006e E260     		str	r2, [r4, #12]
 227:Drivers/w25qxx/w25qxx.c **** 	w25qxx.BlockSize = w25qxx.SectorSize * 16;
 744              		.loc 1 227 2 is_stmt 1 view .LVU163
 745              		.loc 1 227 19 is_stmt 0 view .LVU164
 746 0070 4FF48032 		mov	r2, #65536
 747 0074 A261     		str	r2, [r4, #24]
 228:Drivers/w25qxx/w25qxx.c **** 	w25qxx.CapacityInKiloByte = (w25qxx.SectorCount * w25qxx.SectorSize) / 1024;
 748              		.loc 1 228 2 is_stmt 1 view .LVU165
 749              		.loc 1 228 71 is_stmt 0 view .LVU166
 750 0076 9B0A     		lsrs	r3, r3, #10
 751              		.loc 1 228 28 view .LVU167
 752 0078 2362     		str	r3, [r4, #32]
 229:Drivers/w25qxx/w25qxx.c **** 	W25qxx_ReadUniqID();
 753              		.loc 1 229 2 is_stmt 1 view .LVU168
 754 007a FFF7FEFF 		bl	W25qxx_ReadUniqID
 755              	.LVL79:
 230:Drivers/w25qxx/w25qxx.c **** 	W25qxx_ReadStatusRegister(1);
 756              		.loc 1 230 2 view .LVU169
 757 007e 0120     		movs	r0, #1
 758 0080 FFF7FEFF 		bl	W25qxx_ReadStatusRegister
 759              	.LVL80:
 231:Drivers/w25qxx/w25qxx.c **** 	W25qxx_ReadStatusRegister(2);
 760              		.loc 1 231 2 view .LVU170
 761 0084 0220     		movs	r0, #2
 762 0086 FFF7FEFF 		bl	W25qxx_ReadStatusRegister
 763              	.LVL81:
 232:Drivers/w25qxx/w25qxx.c **** 	W25qxx_ReadStatusRegister(3);
 764              		.loc 1 232 2 view .LVU171
 765 008a 0320     		movs	r0, #3
 766 008c FFF7FEFF 		bl	W25qxx_ReadStatusRegister
 767              	.LVL82:
 233:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 234:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx Page Size: %d Bytes\r\n", w25qxx.PageSize);
 235:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx Page Count: %d\r\n", w25qxx.PageCount);
 236:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx Sector Size: %d Bytes\r\n", w25qxx.SectorSize);
 237:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx Sector Count: %d\r\n", w25qxx.SectorCount);
 238:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx Block Size: %d Bytes\r\n", w25qxx.BlockSize);
 239:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx Block Count: %d\r\n", w25qxx.BlockCount);
 240:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx Capacity: %d KiloBytes\r\n", w25qxx.CapacityInKiloByte);
 241:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx Init Done\r\n");
 242:Drivers/w25qxx/w25qxx.c **** #endif
 243:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 768              		.loc 1 243 2 view .LVU172
 769              		.loc 1 243 14 is_stmt 0 view .LVU173
 770 0090 0023     		movs	r3, #0
 771 0092 84F82730 		strb	r3, [r4, #39]
ARM GAS  /tmp/ccmQGMh6.s 			page 19


 244:Drivers/w25qxx/w25qxx.c **** 	return true;
 772              		.loc 1 244 2 is_stmt 1 view .LVU174
 773              		.loc 1 244 9 is_stmt 0 view .LVU175
 774 0096 0120     		movs	r0, #1
 775              	.L65:
 245:Drivers/w25qxx/w25qxx.c **** }
 776              		.loc 1 245 1 view .LVU176
 777 0098 10BD     		pop	{r4, pc}
 778              	.L55:
 154:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 512;
 779              		.loc 1 154 3 is_stmt 1 view .LVU177
 154:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 512;
 780              		.loc 1 154 13 is_stmt 0 view .LVU178
 781 009a 1E4B     		ldr	r3, .L67
 782 009c 0922     		movs	r2, #9
 783 009e 1A70     		strb	r2, [r3]
 155:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 784              		.loc 1 155 3 is_stmt 1 view .LVU179
 155:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 785              		.loc 1 155 21 is_stmt 0 view .LVU180
 786 00a0 4FF40072 		mov	r2, #512
 787 00a4 DA61     		str	r2, [r3, #28]
 159:Drivers/w25qxx/w25qxx.c **** 	case 0x18: // 	w25q128
 788              		.loc 1 159 3 is_stmt 1 view .LVU181
 789 00a6 D6E7     		b	.L64
 790              	.L56:
 161:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 256;
 791              		.loc 1 161 3 view .LVU182
 161:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 256;
 792              		.loc 1 161 13 is_stmt 0 view .LVU183
 793 00a8 1A4B     		ldr	r3, .L67
 794 00aa 0822     		movs	r2, #8
 795 00ac 1A70     		strb	r2, [r3]
 162:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 796              		.loc 1 162 3 is_stmt 1 view .LVU184
 162:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 797              		.loc 1 162 21 is_stmt 0 view .LVU185
 798 00ae 4FF48072 		mov	r2, #256
 799 00b2 DA61     		str	r2, [r3, #28]
 166:Drivers/w25qxx/w25qxx.c **** 	case 0x17: //	w25q64
 800              		.loc 1 166 3 is_stmt 1 view .LVU186
 801 00b4 CFE7     		b	.L64
 802              	.L57:
 168:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 128;
 803              		.loc 1 168 3 view .LVU187
 168:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 128;
 804              		.loc 1 168 13 is_stmt 0 view .LVU188
 805 00b6 174B     		ldr	r3, .L67
 806 00b8 0722     		movs	r2, #7
 807 00ba 1A70     		strb	r2, [r3]
 169:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 808              		.loc 1 169 3 is_stmt 1 view .LVU189
 169:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 809              		.loc 1 169 21 is_stmt 0 view .LVU190
 810 00bc 8022     		movs	r2, #128
 811 00be DA61     		str	r2, [r3, #28]
 173:Drivers/w25qxx/w25qxx.c **** 	case 0x16: //	w25q32
ARM GAS  /tmp/ccmQGMh6.s 			page 20


 812              		.loc 1 173 3 is_stmt 1 view .LVU191
 813 00c0 C9E7     		b	.L64
 814              	.L58:
 175:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 64;
 815              		.loc 1 175 3 view .LVU192
 175:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 64;
 816              		.loc 1 175 13 is_stmt 0 view .LVU193
 817 00c2 144B     		ldr	r3, .L67
 818 00c4 0622     		movs	r2, #6
 819 00c6 1A70     		strb	r2, [r3]
 176:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 820              		.loc 1 176 3 is_stmt 1 view .LVU194
 176:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 821              		.loc 1 176 21 is_stmt 0 view .LVU195
 822 00c8 4022     		movs	r2, #64
 823 00ca DA61     		str	r2, [r3, #28]
 180:Drivers/w25qxx/w25qxx.c **** 	case 0x15: //	w25q16
 824              		.loc 1 180 3 is_stmt 1 view .LVU196
 825 00cc C3E7     		b	.L64
 826              	.L59:
 182:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 32;
 827              		.loc 1 182 3 view .LVU197
 182:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 32;
 828              		.loc 1 182 13 is_stmt 0 view .LVU198
 829 00ce 114B     		ldr	r3, .L67
 830 00d0 0522     		movs	r2, #5
 831 00d2 1A70     		strb	r2, [r3]
 183:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 832              		.loc 1 183 3 is_stmt 1 view .LVU199
 183:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 833              		.loc 1 183 21 is_stmt 0 view .LVU200
 834 00d4 2022     		movs	r2, #32
 835 00d6 DA61     		str	r2, [r3, #28]
 187:Drivers/w25qxx/w25qxx.c **** 	case 0x14: //	w25q80
 836              		.loc 1 187 3 is_stmt 1 view .LVU201
 837 00d8 BDE7     		b	.L64
 838              	.L60:
 189:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 16;
 839              		.loc 1 189 3 view .LVU202
 189:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 16;
 840              		.loc 1 189 13 is_stmt 0 view .LVU203
 841 00da 0E4B     		ldr	r3, .L67
 842 00dc 0422     		movs	r2, #4
 843 00de 1A70     		strb	r2, [r3]
 190:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 844              		.loc 1 190 3 is_stmt 1 view .LVU204
 190:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 845              		.loc 1 190 21 is_stmt 0 view .LVU205
 846 00e0 1022     		movs	r2, #16
 847 00e2 DA61     		str	r2, [r3, #28]
 194:Drivers/w25qxx/w25qxx.c **** 	case 0x13: //	w25q40
 848              		.loc 1 194 3 is_stmt 1 view .LVU206
 849 00e4 B7E7     		b	.L64
 850              	.L61:
 196:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 8;
 851              		.loc 1 196 3 view .LVU207
 196:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 8;
ARM GAS  /tmp/ccmQGMh6.s 			page 21


 852              		.loc 1 196 13 is_stmt 0 view .LVU208
 853 00e6 0B4B     		ldr	r3, .L67
 854 00e8 0322     		movs	r2, #3
 855 00ea 1A70     		strb	r2, [r3]
 197:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 856              		.loc 1 197 3 is_stmt 1 view .LVU209
 197:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 857              		.loc 1 197 21 is_stmt 0 view .LVU210
 858 00ec 0822     		movs	r2, #8
 859 00ee DA61     		str	r2, [r3, #28]
 201:Drivers/w25qxx/w25qxx.c **** 	case 0x12: //	w25q20
 860              		.loc 1 201 3 is_stmt 1 view .LVU211
 861 00f0 B1E7     		b	.L64
 862              	.L62:
 203:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 4;
 863              		.loc 1 203 3 view .LVU212
 203:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 4;
 864              		.loc 1 203 13 is_stmt 0 view .LVU213
 865 00f2 084B     		ldr	r3, .L67
 866 00f4 0222     		movs	r2, #2
 867 00f6 1A70     		strb	r2, [r3]
 204:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 868              		.loc 1 204 3 is_stmt 1 view .LVU214
 204:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 869              		.loc 1 204 21 is_stmt 0 view .LVU215
 870 00f8 0422     		movs	r2, #4
 871 00fa DA61     		str	r2, [r3, #28]
 208:Drivers/w25qxx/w25qxx.c **** 	case 0x11: //	w25q10
 872              		.loc 1 208 3 is_stmt 1 view .LVU216
 873 00fc ABE7     		b	.L64
 874              	.L63:
 210:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 2;
 875              		.loc 1 210 3 view .LVU217
 210:Drivers/w25qxx/w25qxx.c **** 		w25qxx.BlockCount = 2;
 876              		.loc 1 210 13 is_stmt 0 view .LVU218
 877 00fe 054B     		ldr	r3, .L67
 878 0100 0122     		movs	r2, #1
 879 0102 1A70     		strb	r2, [r3]
 211:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 880              		.loc 1 211 3 is_stmt 1 view .LVU219
 211:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 881              		.loc 1 211 21 is_stmt 0 view .LVU220
 882 0104 0222     		movs	r2, #2
 883 0106 DA61     		str	r2, [r3, #28]
 215:Drivers/w25qxx/w25qxx.c **** 	default:
 884              		.loc 1 215 3 is_stmt 1 view .LVU221
 885 0108 A5E7     		b	.L64
 886              	.L52:
 220:Drivers/w25qxx/w25qxx.c **** 		return false;
 887              		.loc 1 220 3 view .LVU222
 220:Drivers/w25qxx/w25qxx.c **** 		return false;
 888              		.loc 1 220 15 is_stmt 0 view .LVU223
 889 010a 0020     		movs	r0, #0
 890 010c 014B     		ldr	r3, .L67
 891 010e 83F82700 		strb	r0, [r3, #39]
 221:Drivers/w25qxx/w25qxx.c **** 	}
 892              		.loc 1 221 3 is_stmt 1 view .LVU224
ARM GAS  /tmp/ccmQGMh6.s 			page 22


 221:Drivers/w25qxx/w25qxx.c **** 	}
 893              		.loc 1 221 10 is_stmt 0 view .LVU225
 894 0112 C1E7     		b	.L65
 895              	.L68:
 896              		.align	2
 897              	.L67:
 898 0114 00000000 		.word	.LANCHOR0
 899 0118 00000240 		.word	1073872896
 900              		.cfi_endproc
 901              	.LFE138:
 903              		.section	.text.W25qxx_EraseChip,"ax",%progbits
 904              		.align	1
 905              		.global	W25qxx_EraseChip
 906              		.syntax unified
 907              		.thumb
 908              		.thumb_func
 910              	W25qxx_EraseChip:
 911              	.LFB139:
 246:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 247:Drivers/w25qxx/w25qxx.c **** void W25qxx_EraseChip(void)
 248:Drivers/w25qxx/w25qxx.c **** {
 912              		.loc 1 248 1 is_stmt 1 view -0
 913              		.cfi_startproc
 914              		@ args = 0, pretend = 0, frame = 0
 915              		@ frame_needed = 0, uses_anonymous_args = 0
 916 0000 70B5     		push	{r4, r5, r6, lr}
 917              	.LCFI11:
 918              		.cfi_def_cfa_offset 16
 919              		.cfi_offset 4, -16
 920              		.cfi_offset 5, -12
 921              		.cfi_offset 6, -8
 922              		.cfi_offset 14, -4
 249:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 923              		.loc 1 249 2 view .LVU227
 924              		.loc 1 249 8 is_stmt 0 view .LVU228
 925 0002 02E0     		b	.L70
 926              	.L71:
 250:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 927              		.loc 1 250 3 is_stmt 1 view .LVU229
 928 0004 0120     		movs	r0, #1
 929 0006 FFF7FEFF 		bl	HAL_Delay
 930              	.LVL83:
 931              	.L70:
 249:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 932              		.loc 1 249 8 view .LVU230
 249:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 933              		.loc 1 249 15 is_stmt 0 view .LVU231
 934 000a 114B     		ldr	r3, .L73
 935 000c 93F82730 		ldrb	r3, [r3, #39]	@ zero_extendqisi2
 249:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 936              		.loc 1 249 8 view .LVU232
 937 0010 012B     		cmp	r3, #1
 938 0012 F7D0     		beq	.L71
 251:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 939              		.loc 1 251 2 is_stmt 1 view .LVU233
 940              		.loc 1 251 14 is_stmt 0 view .LVU234
 941 0014 0E4C     		ldr	r4, .L73
ARM GAS  /tmp/ccmQGMh6.s 			page 23


 942 0016 0126     		movs	r6, #1
 943 0018 84F82760 		strb	r6, [r4, #39]
 252:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 253:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 254:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx EraseChip Begin...\r\n");
 255:Drivers/w25qxx/w25qxx.c **** #endif
 256:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WriteEnable();
 944              		.loc 1 256 2 is_stmt 1 view .LVU235
 945 001c FFF7FEFF 		bl	W25qxx_WriteEnable
 946              	.LVL84:
 257:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 947              		.loc 1 257 2 view .LVU236
 948 0020 0C4D     		ldr	r5, .L73+4
 949 0022 0022     		movs	r2, #0
 950 0024 1021     		movs	r1, #16
 951 0026 2846     		mov	r0, r5
 952 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 953              	.LVL85:
 258:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(0xC7);
 954              		.loc 1 258 2 view .LVU237
 955 002c C720     		movs	r0, #199
 956 002e FFF7FEFF 		bl	W25qxx_Spi
 957              	.LVL86:
 259:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 958              		.loc 1 259 2 view .LVU238
 959 0032 3246     		mov	r2, r6
 960 0034 1021     		movs	r1, #16
 961 0036 2846     		mov	r0, r5
 962 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 963              	.LVL87:
 260:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WaitForWriteEnd();
 964              		.loc 1 260 2 view .LVU239
 965 003c FFF7FEFF 		bl	W25qxx_WaitForWriteEnd
 966              	.LVL88:
 261:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 262:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx EraseBlock done after %d ms!\r\n", HAL_GetTick() - StartTime);
 263:Drivers/w25qxx/w25qxx.c **** #endif
 264:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(10);
 967              		.loc 1 264 2 view .LVU240
 968 0040 0A20     		movs	r0, #10
 969 0042 FFF7FEFF 		bl	HAL_Delay
 970              	.LVL89:
 265:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 971              		.loc 1 265 2 view .LVU241
 972              		.loc 1 265 14 is_stmt 0 view .LVU242
 973 0046 0023     		movs	r3, #0
 974 0048 84F82730 		strb	r3, [r4, #39]
 266:Drivers/w25qxx/w25qxx.c **** }
 975              		.loc 1 266 1 view .LVU243
 976 004c 70BD     		pop	{r4, r5, r6, pc}
 977              	.L74:
 978 004e 00BF     		.align	2
 979              	.L73:
 980 0050 00000000 		.word	.LANCHOR0
 981 0054 00000240 		.word	1073872896
 982              		.cfi_endproc
 983              	.LFE139:
ARM GAS  /tmp/ccmQGMh6.s 			page 24


 985              		.section	.text.W25qxx_EraseSector,"ax",%progbits
 986              		.align	1
 987              		.global	W25qxx_EraseSector
 988              		.syntax unified
 989              		.thumb
 990              		.thumb_func
 992              	W25qxx_EraseSector:
 993              	.LVL90:
 994              	.LFB140:
 267:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 268:Drivers/w25qxx/w25qxx.c **** void W25qxx_EraseSector(uint32_t SectorAddr)
 269:Drivers/w25qxx/w25qxx.c **** {
 995              		.loc 1 269 1 is_stmt 1 view -0
 996              		.cfi_startproc
 997              		@ args = 0, pretend = 0, frame = 0
 998              		@ frame_needed = 0, uses_anonymous_args = 0
 999              		.loc 1 269 1 is_stmt 0 view .LVU245
 1000 0000 70B5     		push	{r4, r5, r6, lr}
 1001              	.LCFI12:
 1002              		.cfi_def_cfa_offset 16
 1003              		.cfi_offset 4, -16
 1004              		.cfi_offset 5, -12
 1005              		.cfi_offset 6, -8
 1006              		.cfi_offset 14, -4
 1007 0002 0646     		mov	r6, r0
 270:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1008              		.loc 1 270 2 is_stmt 1 view .LVU246
 1009              		.loc 1 270 8 is_stmt 0 view .LVU247
 1010 0004 02E0     		b	.L76
 1011              	.LVL91:
 1012              	.L77:
 271:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 1013              		.loc 1 271 3 is_stmt 1 view .LVU248
 1014 0006 0120     		movs	r0, #1
 1015 0008 FFF7FEFF 		bl	HAL_Delay
 1016              	.LVL92:
 1017              	.L76:
 270:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1018              		.loc 1 270 8 view .LVU249
 270:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1019              		.loc 1 270 15 is_stmt 0 view .LVU250
 1020 000c 1D4B     		ldr	r3, .L81
 1021 000e 93F82730 		ldrb	r3, [r3, #39]	@ zero_extendqisi2
 270:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1022              		.loc 1 270 8 view .LVU251
 1023 0012 012B     		cmp	r3, #1
 1024 0014 F7D0     		beq	.L77
 272:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 1025              		.loc 1 272 2 is_stmt 1 view .LVU252
 1026              		.loc 1 272 14 is_stmt 0 view .LVU253
 1027 0016 1B4D     		ldr	r5, .L81
 1028 0018 0123     		movs	r3, #1
 1029 001a 85F82730 		strb	r3, [r5, #39]
 273:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 274:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 275:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx EraseSector %d Begin...\r\n", SectorAddr);
 276:Drivers/w25qxx/w25qxx.c **** #endif
ARM GAS  /tmp/ccmQGMh6.s 			page 25


 277:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WaitForWriteEnd();
 1030              		.loc 1 277 2 is_stmt 1 view .LVU254
 1031 001e FFF7FEFF 		bl	W25qxx_WaitForWriteEnd
 1032              	.LVL93:
 278:Drivers/w25qxx/w25qxx.c **** 	SectorAddr = SectorAddr * w25qxx.SectorSize;
 1033              		.loc 1 278 2 view .LVU255
 1034              		.loc 1 278 34 is_stmt 0 view .LVU256
 1035 0022 2C69     		ldr	r4, [r5, #16]
 1036              		.loc 1 278 13 view .LVU257
 1037 0024 06FB04F4 		mul	r4, r6, r4
 1038              	.LVL94:
 279:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WriteEnable();
 1039              		.loc 1 279 2 is_stmt 1 view .LVU258
 1040 0028 FFF7FEFF 		bl	W25qxx_WriteEnable
 1041              	.LVL95:
 280:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 1042              		.loc 1 280 2 view .LVU259
 1043 002c 0022     		movs	r2, #0
 1044 002e 1021     		movs	r1, #16
 1045 0030 1548     		ldr	r0, .L81+4
 1046 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1047              	.LVL96:
 281:Drivers/w25qxx/w25qxx.c **** 	if (w25qxx.ID >= W25Q256)
 1048              		.loc 1 281 2 view .LVU260
 1049              		.loc 1 281 12 is_stmt 0 view .LVU261
 1050 0036 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1051              		.loc 1 281 5 view .LVU262
 1052 0038 082B     		cmp	r3, #8
 1053 003a 1FD9     		bls	.L78
 282:Drivers/w25qxx/w25qxx.c **** 	{
 283:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x21);
 1054              		.loc 1 283 3 is_stmt 1 view .LVU263
 1055 003c 2120     		movs	r0, #33
 1056 003e FFF7FEFF 		bl	W25qxx_Spi
 1057              	.LVL97:
 284:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((SectorAddr & 0xFF000000) >> 24);
 1058              		.loc 1 284 3 view .LVU264
 1059 0042 200E     		lsrs	r0, r4, #24
 1060 0044 FFF7FEFF 		bl	W25qxx_Spi
 1061              	.LVL98:
 1062              	.L79:
 285:Drivers/w25qxx/w25qxx.c **** 	}
 286:Drivers/w25qxx/w25qxx.c **** 	else
 287:Drivers/w25qxx/w25qxx.c **** 	{
 288:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x20);
 289:Drivers/w25qxx/w25qxx.c **** 	}
 290:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((SectorAddr & 0xFF0000) >> 16);
 1063              		.loc 1 290 2 view .LVU265
 1064 0048 C4F30740 		ubfx	r0, r4, #16, #8
 1065 004c FFF7FEFF 		bl	W25qxx_Spi
 1066              	.LVL99:
 291:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((SectorAddr & 0xFF00) >> 8);
 1067              		.loc 1 291 2 view .LVU266
 1068 0050 C4F30720 		ubfx	r0, r4, #8, #8
 1069 0054 FFF7FEFF 		bl	W25qxx_Spi
 1070              	.LVL100:
 292:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(SectorAddr & 0xFF);
ARM GAS  /tmp/ccmQGMh6.s 			page 26


 1071              		.loc 1 292 2 view .LVU267
 1072 0058 E0B2     		uxtb	r0, r4
 1073 005a FFF7FEFF 		bl	W25qxx_Spi
 1074              	.LVL101:
 293:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 1075              		.loc 1 293 2 view .LVU268
 1076 005e 0122     		movs	r2, #1
 1077 0060 1021     		movs	r1, #16
 1078 0062 0948     		ldr	r0, .L81+4
 1079 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1080              	.LVL102:
 294:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WaitForWriteEnd();
 1081              		.loc 1 294 2 view .LVU269
 1082 0068 FFF7FEFF 		bl	W25qxx_WaitForWriteEnd
 1083              	.LVL103:
 295:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 296:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx EraseSector done after %d ms\r\n", HAL_GetTick() - StartTime);
 297:Drivers/w25qxx/w25qxx.c **** #endif
 298:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(1);
 1084              		.loc 1 298 2 view .LVU270
 1085 006c 0120     		movs	r0, #1
 1086 006e FFF7FEFF 		bl	HAL_Delay
 1087              	.LVL104:
 299:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 1088              		.loc 1 299 2 view .LVU271
 1089              		.loc 1 299 14 is_stmt 0 view .LVU272
 1090 0072 044B     		ldr	r3, .L81
 1091 0074 0022     		movs	r2, #0
 1092 0076 83F82720 		strb	r2, [r3, #39]
 300:Drivers/w25qxx/w25qxx.c **** }
 1093              		.loc 1 300 1 view .LVU273
 1094 007a 70BD     		pop	{r4, r5, r6, pc}
 1095              	.LVL105:
 1096              	.L78:
 288:Drivers/w25qxx/w25qxx.c **** 	}
 1097              		.loc 1 288 3 is_stmt 1 view .LVU274
 1098 007c 2020     		movs	r0, #32
 1099 007e FFF7FEFF 		bl	W25qxx_Spi
 1100              	.LVL106:
 1101 0082 E1E7     		b	.L79
 1102              	.L82:
 1103              		.align	2
 1104              	.L81:
 1105 0084 00000000 		.word	.LANCHOR0
 1106 0088 00000240 		.word	1073872896
 1107              		.cfi_endproc
 1108              	.LFE140:
 1110              		.section	.text.W25qxx_EraseBlock,"ax",%progbits
 1111              		.align	1
 1112              		.global	W25qxx_EraseBlock
 1113              		.syntax unified
 1114              		.thumb
 1115              		.thumb_func
 1117              	W25qxx_EraseBlock:
 1118              	.LVL107:
 1119              	.LFB141:
 301:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
ARM GAS  /tmp/ccmQGMh6.s 			page 27


 302:Drivers/w25qxx/w25qxx.c **** void W25qxx_EraseBlock(uint32_t BlockAddr)
 303:Drivers/w25qxx/w25qxx.c **** {
 1120              		.loc 1 303 1 view -0
 1121              		.cfi_startproc
 1122              		@ args = 0, pretend = 0, frame = 0
 1123              		@ frame_needed = 0, uses_anonymous_args = 0
 1124              		.loc 1 303 1 is_stmt 0 view .LVU276
 1125 0000 70B5     		push	{r4, r5, r6, lr}
 1126              	.LCFI13:
 1127              		.cfi_def_cfa_offset 16
 1128              		.cfi_offset 4, -16
 1129              		.cfi_offset 5, -12
 1130              		.cfi_offset 6, -8
 1131              		.cfi_offset 14, -4
 1132 0002 0646     		mov	r6, r0
 304:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1133              		.loc 1 304 2 is_stmt 1 view .LVU277
 1134              		.loc 1 304 8 is_stmt 0 view .LVU278
 1135 0004 02E0     		b	.L84
 1136              	.LVL108:
 1137              	.L85:
 305:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 1138              		.loc 1 305 3 is_stmt 1 view .LVU279
 1139 0006 0120     		movs	r0, #1
 1140 0008 FFF7FEFF 		bl	HAL_Delay
 1141              	.LVL109:
 1142              	.L84:
 304:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1143              		.loc 1 304 8 view .LVU280
 304:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1144              		.loc 1 304 15 is_stmt 0 view .LVU281
 1145 000c 1E4B     		ldr	r3, .L89
 1146 000e 93F82730 		ldrb	r3, [r3, #39]	@ zero_extendqisi2
 304:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1147              		.loc 1 304 8 view .LVU282
 1148 0012 012B     		cmp	r3, #1
 1149 0014 F7D0     		beq	.L85
 306:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 1150              		.loc 1 306 2 is_stmt 1 view .LVU283
 1151              		.loc 1 306 14 is_stmt 0 view .LVU284
 1152 0016 1C4D     		ldr	r5, .L89
 1153 0018 0123     		movs	r3, #1
 1154 001a 85F82730 		strb	r3, [r5, #39]
 307:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 308:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx EraseBlock %d Begin...\r\n", BlockAddr);
 309:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 310:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 311:Drivers/w25qxx/w25qxx.c **** #endif
 312:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WaitForWriteEnd();
 1155              		.loc 1 312 2 is_stmt 1 view .LVU285
 1156 001e FFF7FEFF 		bl	W25qxx_WaitForWriteEnd
 1157              	.LVL110:
 313:Drivers/w25qxx/w25qxx.c **** 	BlockAddr = BlockAddr * w25qxx.SectorSize * 16;
 1158              		.loc 1 313 2 view .LVU286
 1159              		.loc 1 313 32 is_stmt 0 view .LVU287
 1160 0022 2C69     		ldr	r4, [r5, #16]
 1161              		.loc 1 313 24 view .LVU288
ARM GAS  /tmp/ccmQGMh6.s 			page 28


 1162 0024 06FB04F4 		mul	r4, r6, r4
 1163              		.loc 1 313 12 view .LVU289
 1164 0028 2401     		lsls	r4, r4, #4
 1165              	.LVL111:
 314:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WriteEnable();
 1166              		.loc 1 314 2 is_stmt 1 view .LVU290
 1167 002a FFF7FEFF 		bl	W25qxx_WriteEnable
 1168              	.LVL112:
 315:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 1169              		.loc 1 315 2 view .LVU291
 1170 002e 0022     		movs	r2, #0
 1171 0030 1021     		movs	r1, #16
 1172 0032 1648     		ldr	r0, .L89+4
 1173 0034 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1174              	.LVL113:
 316:Drivers/w25qxx/w25qxx.c **** 	if (w25qxx.ID >= W25Q256)
 1175              		.loc 1 316 2 view .LVU292
 1176              		.loc 1 316 12 is_stmt 0 view .LVU293
 1177 0038 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1178              		.loc 1 316 5 view .LVU294
 1179 003a 082B     		cmp	r3, #8
 1180 003c 20D9     		bls	.L86
 317:Drivers/w25qxx/w25qxx.c **** 	{
 318:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0xDC);
 1181              		.loc 1 318 3 is_stmt 1 view .LVU295
 1182 003e DC20     		movs	r0, #220
 1183 0040 FFF7FEFF 		bl	W25qxx_Spi
 1184              	.LVL114:
 319:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((BlockAddr & 0xFF000000) >> 24);
 1185              		.loc 1 319 3 view .LVU296
 1186 0044 200E     		lsrs	r0, r4, #24
 1187 0046 FFF7FEFF 		bl	W25qxx_Spi
 1188              	.LVL115:
 1189              	.L87:
 320:Drivers/w25qxx/w25qxx.c **** 	}
 321:Drivers/w25qxx/w25qxx.c **** 	else
 322:Drivers/w25qxx/w25qxx.c **** 	{
 323:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0xD8);
 324:Drivers/w25qxx/w25qxx.c **** 	}
 325:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((BlockAddr & 0xFF0000) >> 16);
 1190              		.loc 1 325 2 view .LVU297
 1191 004a C4F30740 		ubfx	r0, r4, #16, #8
 1192 004e FFF7FEFF 		bl	W25qxx_Spi
 1193              	.LVL116:
 326:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((BlockAddr & 0xFF00) >> 8);
 1194              		.loc 1 326 2 view .LVU298
 1195 0052 C4F30720 		ubfx	r0, r4, #8, #8
 1196 0056 FFF7FEFF 		bl	W25qxx_Spi
 1197              	.LVL117:
 327:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(BlockAddr & 0xFF);
 1198              		.loc 1 327 2 view .LVU299
 1199 005a 04F0F000 		and	r0, r4, #240
 1200 005e FFF7FEFF 		bl	W25qxx_Spi
 1201              	.LVL118:
 328:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 1202              		.loc 1 328 2 view .LVU300
 1203 0062 0122     		movs	r2, #1
ARM GAS  /tmp/ccmQGMh6.s 			page 29


 1204 0064 1021     		movs	r1, #16
 1205 0066 0948     		ldr	r0, .L89+4
 1206 0068 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1207              	.LVL119:
 329:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WaitForWriteEnd();
 1208              		.loc 1 329 2 view .LVU301
 1209 006c FFF7FEFF 		bl	W25qxx_WaitForWriteEnd
 1210              	.LVL120:
 330:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 331:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx EraseBlock done after %d ms\r\n", HAL_GetTick() - StartTime);
 332:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 333:Drivers/w25qxx/w25qxx.c **** #endif
 334:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(1);
 1211              		.loc 1 334 2 view .LVU302
 1212 0070 0120     		movs	r0, #1
 1213 0072 FFF7FEFF 		bl	HAL_Delay
 1214              	.LVL121:
 335:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 1215              		.loc 1 335 2 view .LVU303
 1216              		.loc 1 335 14 is_stmt 0 view .LVU304
 1217 0076 044B     		ldr	r3, .L89
 1218 0078 0022     		movs	r2, #0
 1219 007a 83F82720 		strb	r2, [r3, #39]
 336:Drivers/w25qxx/w25qxx.c **** }
 1220              		.loc 1 336 1 view .LVU305
 1221 007e 70BD     		pop	{r4, r5, r6, pc}
 1222              	.LVL122:
 1223              	.L86:
 323:Drivers/w25qxx/w25qxx.c **** 	}
 1224              		.loc 1 323 3 is_stmt 1 view .LVU306
 1225 0080 D820     		movs	r0, #216
 1226 0082 FFF7FEFF 		bl	W25qxx_Spi
 1227              	.LVL123:
 1228 0086 E0E7     		b	.L87
 1229              	.L90:
 1230              		.align	2
 1231              	.L89:
 1232 0088 00000000 		.word	.LANCHOR0
 1233 008c 00000240 		.word	1073872896
 1234              		.cfi_endproc
 1235              	.LFE141:
 1237              		.section	.text.W25qxx_PageToSector,"ax",%progbits
 1238              		.align	1
 1239              		.global	W25qxx_PageToSector
 1240              		.syntax unified
 1241              		.thumb
 1242              		.thumb_func
 1244              	W25qxx_PageToSector:
 1245              	.LVL124:
 1246              	.LFB142:
 337:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 338:Drivers/w25qxx/w25qxx.c **** uint32_t W25qxx_PageToSector(uint32_t PageAddress)
 339:Drivers/w25qxx/w25qxx.c **** {
 1247              		.loc 1 339 1 view -0
 1248              		.cfi_startproc
 1249              		@ args = 0, pretend = 0, frame = 0
 1250              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccmQGMh6.s 			page 30


 1251              		@ link register save eliminated.
 340:Drivers/w25qxx/w25qxx.c **** 	return ((PageAddress * w25qxx.PageSize) / w25qxx.SectorSize);
 1252              		.loc 1 340 2 view .LVU308
 1253              		.loc 1 340 31 is_stmt 0 view .LVU309
 1254 0000 034A     		ldr	r2, .L92
 1255 0002 5389     		ldrh	r3, [r2, #10]
 1256              		.loc 1 340 23 view .LVU310
 1257 0004 00FB03F3 		mul	r3, r0, r3
 1258              		.loc 1 340 50 view .LVU311
 1259 0008 1069     		ldr	r0, [r2, #16]
 1260              	.LVL125:
 341:Drivers/w25qxx/w25qxx.c **** }
 1261              		.loc 1 341 1 view .LVU312
 1262 000a B3FBF0F0 		udiv	r0, r3, r0
 1263 000e 7047     		bx	lr
 1264              	.L93:
 1265              		.align	2
 1266              	.L92:
 1267 0010 00000000 		.word	.LANCHOR0
 1268              		.cfi_endproc
 1269              	.LFE142:
 1271              		.section	.text.W25qxx_PageToBlock,"ax",%progbits
 1272              		.align	1
 1273              		.global	W25qxx_PageToBlock
 1274              		.syntax unified
 1275              		.thumb
 1276              		.thumb_func
 1278              	W25qxx_PageToBlock:
 1279              	.LVL126:
 1280              	.LFB143:
 342:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 343:Drivers/w25qxx/w25qxx.c **** uint32_t W25qxx_PageToBlock(uint32_t PageAddress)
 344:Drivers/w25qxx/w25qxx.c **** {
 1281              		.loc 1 344 1 is_stmt 1 view -0
 1282              		.cfi_startproc
 1283              		@ args = 0, pretend = 0, frame = 0
 1284              		@ frame_needed = 0, uses_anonymous_args = 0
 1285              		@ link register save eliminated.
 345:Drivers/w25qxx/w25qxx.c **** 	return ((PageAddress * w25qxx.PageSize) / w25qxx.BlockSize);
 1286              		.loc 1 345 2 view .LVU314
 1287              		.loc 1 345 31 is_stmt 0 view .LVU315
 1288 0000 034A     		ldr	r2, .L95
 1289 0002 5389     		ldrh	r3, [r2, #10]
 1290              		.loc 1 345 23 view .LVU316
 1291 0004 00FB03F3 		mul	r3, r0, r3
 1292              		.loc 1 345 50 view .LVU317
 1293 0008 9069     		ldr	r0, [r2, #24]
 1294              	.LVL127:
 346:Drivers/w25qxx/w25qxx.c **** }
 1295              		.loc 1 346 1 view .LVU318
 1296 000a B3FBF0F0 		udiv	r0, r3, r0
 1297 000e 7047     		bx	lr
 1298              	.L96:
 1299              		.align	2
 1300              	.L95:
 1301 0010 00000000 		.word	.LANCHOR0
 1302              		.cfi_endproc
ARM GAS  /tmp/ccmQGMh6.s 			page 31


 1303              	.LFE143:
 1305              		.section	.text.W25qxx_SectorToBlock,"ax",%progbits
 1306              		.align	1
 1307              		.global	W25qxx_SectorToBlock
 1308              		.syntax unified
 1309              		.thumb
 1310              		.thumb_func
 1312              	W25qxx_SectorToBlock:
 1313              	.LVL128:
 1314              	.LFB144:
 347:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 348:Drivers/w25qxx/w25qxx.c **** uint32_t W25qxx_SectorToBlock(uint32_t SectorAddress)
 349:Drivers/w25qxx/w25qxx.c **** {
 1315              		.loc 1 349 1 is_stmt 1 view -0
 1316              		.cfi_startproc
 1317              		@ args = 0, pretend = 0, frame = 0
 1318              		@ frame_needed = 0, uses_anonymous_args = 0
 1319              		@ link register save eliminated.
 350:Drivers/w25qxx/w25qxx.c **** 	return ((SectorAddress * w25qxx.SectorSize) / w25qxx.BlockSize);
 1320              		.loc 1 350 2 view .LVU320
 1321              		.loc 1 350 33 is_stmt 0 view .LVU321
 1322 0000 034A     		ldr	r2, .L98
 1323 0002 1369     		ldr	r3, [r2, #16]
 1324              		.loc 1 350 25 view .LVU322
 1325 0004 00FB03F3 		mul	r3, r0, r3
 1326              		.loc 1 350 54 view .LVU323
 1327 0008 9069     		ldr	r0, [r2, #24]
 1328              	.LVL129:
 351:Drivers/w25qxx/w25qxx.c **** }
 1329              		.loc 1 351 1 view .LVU324
 1330 000a B3FBF0F0 		udiv	r0, r3, r0
 1331 000e 7047     		bx	lr
 1332              	.L99:
 1333              		.align	2
 1334              	.L98:
 1335 0010 00000000 		.word	.LANCHOR0
 1336              		.cfi_endproc
 1337              	.LFE144:
 1339              		.section	.text.W25qxx_SectorToPage,"ax",%progbits
 1340              		.align	1
 1341              		.global	W25qxx_SectorToPage
 1342              		.syntax unified
 1343              		.thumb
 1344              		.thumb_func
 1346              	W25qxx_SectorToPage:
 1347              	.LVL130:
 1348              	.LFB145:
 352:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 353:Drivers/w25qxx/w25qxx.c **** uint32_t W25qxx_SectorToPage(uint32_t SectorAddress)
 354:Drivers/w25qxx/w25qxx.c **** {
 1349              		.loc 1 354 1 is_stmt 1 view -0
 1350              		.cfi_startproc
 1351              		@ args = 0, pretend = 0, frame = 0
 1352              		@ frame_needed = 0, uses_anonymous_args = 0
 1353              		@ link register save eliminated.
 355:Drivers/w25qxx/w25qxx.c **** 	return (SectorAddress * w25qxx.SectorSize) / w25qxx.PageSize;
 1354              		.loc 1 355 2 view .LVU326
ARM GAS  /tmp/ccmQGMh6.s 			page 32


 1355              		.loc 1 355 32 is_stmt 0 view .LVU327
 1356 0000 034A     		ldr	r2, .L101
 1357 0002 1369     		ldr	r3, [r2, #16]
 1358              		.loc 1 355 24 view .LVU328
 1359 0004 00FB03F3 		mul	r3, r0, r3
 1360              		.loc 1 355 53 view .LVU329
 1361 0008 5089     		ldrh	r0, [r2, #10]
 1362              	.LVL131:
 356:Drivers/w25qxx/w25qxx.c **** }
 1363              		.loc 1 356 1 view .LVU330
 1364 000a B3FBF0F0 		udiv	r0, r3, r0
 1365 000e 7047     		bx	lr
 1366              	.L102:
 1367              		.align	2
 1368              	.L101:
 1369 0010 00000000 		.word	.LANCHOR0
 1370              		.cfi_endproc
 1371              	.LFE145:
 1373              		.section	.text.W25qxx_BlockToPage,"ax",%progbits
 1374              		.align	1
 1375              		.global	W25qxx_BlockToPage
 1376              		.syntax unified
 1377              		.thumb
 1378              		.thumb_func
 1380              	W25qxx_BlockToPage:
 1381              	.LVL132:
 1382              	.LFB146:
 357:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 358:Drivers/w25qxx/w25qxx.c **** uint32_t W25qxx_BlockToPage(uint32_t BlockAddress)
 359:Drivers/w25qxx/w25qxx.c **** {
 1383              		.loc 1 359 1 is_stmt 1 view -0
 1384              		.cfi_startproc
 1385              		@ args = 0, pretend = 0, frame = 0
 1386              		@ frame_needed = 0, uses_anonymous_args = 0
 1387              		@ link register save eliminated.
 360:Drivers/w25qxx/w25qxx.c **** 	return (BlockAddress * w25qxx.BlockSize) / w25qxx.PageSize;
 1388              		.loc 1 360 2 view .LVU332
 1389              		.loc 1 360 31 is_stmt 0 view .LVU333
 1390 0000 034A     		ldr	r2, .L104
 1391 0002 9369     		ldr	r3, [r2, #24]
 1392              		.loc 1 360 23 view .LVU334
 1393 0004 00FB03F3 		mul	r3, r0, r3
 1394              		.loc 1 360 51 view .LVU335
 1395 0008 5089     		ldrh	r0, [r2, #10]
 1396              	.LVL133:
 361:Drivers/w25qxx/w25qxx.c **** }
 1397              		.loc 1 361 1 view .LVU336
 1398 000a B3FBF0F0 		udiv	r0, r3, r0
 1399 000e 7047     		bx	lr
 1400              	.L105:
 1401              		.align	2
 1402              	.L104:
 1403 0010 00000000 		.word	.LANCHOR0
 1404              		.cfi_endproc
 1405              	.LFE146:
 1407              		.section	.text.W25qxx_IsEmptyPage,"ax",%progbits
 1408              		.align	1
ARM GAS  /tmp/ccmQGMh6.s 			page 33


 1409              		.global	W25qxx_IsEmptyPage
 1410              		.syntax unified
 1411              		.thumb
 1412              		.thumb_func
 1414              	W25qxx_IsEmptyPage:
 1415              	.LVL134:
 1416              	.LFB147:
 362:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 363:Drivers/w25qxx/w25qxx.c **** bool W25qxx_IsEmptyPage(uint32_t Page_Address, uint32_t OffsetInByte, uint32_t NumByteToCheck_up_to
 364:Drivers/w25qxx/w25qxx.c **** {
 1417              		.loc 1 364 1 is_stmt 1 view -0
 1418              		.cfi_startproc
 1419              		@ args = 0, pretend = 0, frame = 32
 1420              		@ frame_needed = 0, uses_anonymous_args = 0
 1421              		.loc 1 364 1 is_stmt 0 view .LVU338
 1422 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1423              	.LCFI14:
 1424              		.cfi_def_cfa_offset 20
 1425              		.cfi_offset 4, -20
 1426              		.cfi_offset 5, -16
 1427              		.cfi_offset 6, -12
 1428              		.cfi_offset 7, -8
 1429              		.cfi_offset 14, -4
 1430 0002 89B0     		sub	sp, sp, #36
 1431              	.LCFI15:
 1432              		.cfi_def_cfa_offset 56
 1433 0004 0446     		mov	r4, r0
 1434 0006 0D46     		mov	r5, r1
 365:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1435              		.loc 1 365 2 is_stmt 1 view .LVU339
 1436              		.loc 1 365 8 is_stmt 0 view .LVU340
 1437 0008 02E0     		b	.L107
 1438              	.LVL135:
 1439              	.L108:
 366:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 1440              		.loc 1 366 3 is_stmt 1 view .LVU341
 1441 000a 0120     		movs	r0, #1
 1442 000c FFF7FEFF 		bl	HAL_Delay
 1443              	.LVL136:
 1444              	.L107:
 365:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1445              		.loc 1 365 8 view .LVU342
 365:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1446              		.loc 1 365 15 is_stmt 0 view .LVU343
 1447 0010 4C4B     		ldr	r3, .L125
 1448 0012 93F82730 		ldrb	r3, [r3, #39]	@ zero_extendqisi2
 365:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1449              		.loc 1 365 8 view .LVU344
 1450 0016 012B     		cmp	r3, #1
 1451 0018 F7D0     		beq	.L108
 367:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 1452              		.loc 1 367 2 is_stmt 1 view .LVU345
 1453              		.loc 1 367 14 is_stmt 0 view .LVU346
 1454 001a 4A4B     		ldr	r3, .L125
 1455 001c 0122     		movs	r2, #1
 1456 001e 83F82720 		strb	r2, [r3, #39]
 368:Drivers/w25qxx/w25qxx.c **** 	if (((NumByteToCheck_up_to_PageSize + OffsetInByte) > w25qxx.PageSize) || (NumByteToCheck_up_to_Pa
ARM GAS  /tmp/ccmQGMh6.s 			page 34


 1457              		.loc 1 368 2 is_stmt 1 view .LVU347
 1458              	.LVL137:
 367:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 1459              		.loc 1 367 14 is_stmt 0 view .LVU348
 1460 0022 2F46     		mov	r7, r5
 1461              	.L109:
 1462              	.LVL138:
 369:Drivers/w25qxx/w25qxx.c **** 		NumByteToCheck_up_to_PageSize = w25qxx.PageSize - OffsetInByte;
 370:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 371:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx CheckPage:%d, Offset:%d, Bytes:%d begin...\r\n", Page_Address, OffsetInByte, NumByt
 372:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 373:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 374:Drivers/w25qxx/w25qxx.c **** #endif
 375:Drivers/w25qxx/w25qxx.c **** 	uint8_t pBuffer[32];
 376:Drivers/w25qxx/w25qxx.c **** 	uint32_t WorkAddress;
 377:Drivers/w25qxx/w25qxx.c **** 	uint32_t i;
 378:Drivers/w25qxx/w25qxx.c **** 	for (i = OffsetInByte; i < w25qxx.PageSize; i += sizeof(pBuffer))
 1463              		.loc 1 378 25 is_stmt 1 discriminator 1 view .LVU349
 1464              		.loc 1 378 35 is_stmt 0 discriminator 1 view .LVU350
 1465 0024 474B     		ldr	r3, .L125
 1466 0026 5B89     		ldrh	r3, [r3, #10]
 1467              		.loc 1 378 2 discriminator 1 view .LVU351
 1468 0028 BB42     		cmp	r3, r7
 1469 002a 3DD9     		bls	.L123
 379:Drivers/w25qxx/w25qxx.c **** 	{
 380:Drivers/w25qxx/w25qxx.c **** 		HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 1470              		.loc 1 380 3 is_stmt 1 view .LVU352
 1471 002c 0022     		movs	r2, #0
 1472 002e 1021     		movs	r1, #16
 1473 0030 4548     		ldr	r0, .L125+4
 1474 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1475              	.LVL139:
 381:Drivers/w25qxx/w25qxx.c **** 		WorkAddress = (i + Page_Address * w25qxx.PageSize);
 1476              		.loc 1 381 3 view .LVU353
 1477              		.loc 1 381 43 is_stmt 0 view .LVU354
 1478 0036 434B     		ldr	r3, .L125
 1479 0038 5E89     		ldrh	r6, [r3, #10]
 1480              		.loc 1 381 15 view .LVU355
 1481 003a 04FB0676 		mla	r6, r4, r6, r7
 1482              	.LVL140:
 382:Drivers/w25qxx/w25qxx.c **** 		if (w25qxx.ID >= W25Q256)
 1483              		.loc 1 382 3 is_stmt 1 view .LVU356
 1484              		.loc 1 382 13 is_stmt 0 view .LVU357
 1485 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1486              		.loc 1 382 6 view .LVU358
 1487 0040 082B     		cmp	r3, #8
 1488 0042 2BD9     		bls	.L110
 383:Drivers/w25qxx/w25qxx.c **** 		{
 384:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0x0C);
 1489              		.loc 1 384 4 is_stmt 1 view .LVU359
 1490 0044 0C20     		movs	r0, #12
 1491 0046 FFF7FEFF 		bl	W25qxx_Spi
 1492              	.LVL141:
 385:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi((WorkAddress & 0xFF000000) >> 24);
 1493              		.loc 1 385 4 view .LVU360
 1494 004a 300E     		lsrs	r0, r6, #24
 1495 004c FFF7FEFF 		bl	W25qxx_Spi
ARM GAS  /tmp/ccmQGMh6.s 			page 35


 1496              	.LVL142:
 1497              	.L111:
 386:Drivers/w25qxx/w25qxx.c **** 		}
 387:Drivers/w25qxx/w25qxx.c **** 		else
 388:Drivers/w25qxx/w25qxx.c **** 		{
 389:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0x0B);
 390:Drivers/w25qxx/w25qxx.c **** 		}
 391:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((WorkAddress & 0xFF0000) >> 16);
 1498              		.loc 1 391 3 view .LVU361
 1499 0050 C6F30740 		ubfx	r0, r6, #16, #8
 1500 0054 FFF7FEFF 		bl	W25qxx_Spi
 1501              	.LVL143:
 392:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((WorkAddress & 0xFF00) >> 8);
 1502              		.loc 1 392 3 view .LVU362
 1503 0058 C6F30720 		ubfx	r0, r6, #8, #8
 1504 005c FFF7FEFF 		bl	W25qxx_Spi
 1505              	.LVL144:
 393:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(WorkAddress & 0xFF);
 1506              		.loc 1 393 3 view .LVU363
 1507 0060 F0B2     		uxtb	r0, r6
 1508 0062 FFF7FEFF 		bl	W25qxx_Spi
 1509              	.LVL145:
 394:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0);
 1510              		.loc 1 394 3 view .LVU364
 1511 0066 0020     		movs	r0, #0
 1512 0068 FFF7FEFF 		bl	W25qxx_Spi
 1513              	.LVL146:
 395:Drivers/w25qxx/w25qxx.c **** 		HAL_SPI_Receive(&_W25QXX_SPI, pBuffer, sizeof(pBuffer), 100);
 1514              		.loc 1 395 3 view .LVU365
 1515 006c 6423     		movs	r3, #100
 1516 006e 2022     		movs	r2, #32
 1517 0070 6946     		mov	r1, sp
 1518 0072 3648     		ldr	r0, .L125+8
 1519 0074 FFF7FEFF 		bl	HAL_SPI_Receive
 1520              	.LVL147:
 396:Drivers/w25qxx/w25qxx.c **** 		HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 1521              		.loc 1 396 3 view .LVU366
 1522 0078 0122     		movs	r2, #1
 1523 007a 1021     		movs	r1, #16
 1524 007c 3248     		ldr	r0, .L125+4
 1525 007e FFF7FEFF 		bl	HAL_GPIO_WritePin
 1526              	.LVL148:
 397:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1527              		.loc 1 397 3 view .LVU367
 1528              	.LBB4:
 1529              		.loc 1 397 8 view .LVU368
 1530              		.loc 1 397 16 is_stmt 0 view .LVU369
 1531 0082 0023     		movs	r3, #0
 1532              	.LVL149:
 1533              	.L112:
 1534              		.loc 1 397 23 is_stmt 1 discriminator 1 view .LVU370
 1535              		.loc 1 397 3 is_stmt 0 discriminator 1 view .LVU371
 1536 0084 1F2B     		cmp	r3, #31
 1537 0086 0DD8     		bhi	.L124
 398:Drivers/w25qxx/w25qxx.c **** 		{
 399:Drivers/w25qxx/w25qxx.c **** 			if (pBuffer[x] != 0xFF)
 1538              		.loc 1 399 4 is_stmt 1 view .LVU372
ARM GAS  /tmp/ccmQGMh6.s 			page 36


 1539              		.loc 1 399 15 is_stmt 0 view .LVU373
 1540 0088 03F12002 		add	r2, r3, #32
 1541 008c 6A44     		add	r2, sp, r2
 1542 008e 12F8202C 		ldrb	r2, [r2, #-32]	@ zero_extendqisi2
 1543              		.loc 1 399 7 view .LVU374
 1544 0092 FF2A     		cmp	r2, #255
 1545 0094 4FD1     		bne	.L113
 397:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1546              		.loc 1 397 44 is_stmt 1 discriminator 2 view .LVU375
 397:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1547              		.loc 1 397 45 is_stmt 0 discriminator 2 view .LVU376
 1548 0096 0133     		adds	r3, r3, #1
 1549              	.LVL150:
 397:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1550              		.loc 1 397 45 discriminator 2 view .LVU377
 1551 0098 DBB2     		uxtb	r3, r3
 1552              	.LVL151:
 397:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1553              		.loc 1 397 45 discriminator 2 view .LVU378
 1554 009a F3E7     		b	.L112
 1555              	.LVL152:
 1556              	.L110:
 397:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1557              		.loc 1 397 45 discriminator 2 view .LVU379
 1558              	.LBE4:
 389:Drivers/w25qxx/w25qxx.c **** 		}
 1559              		.loc 1 389 4 is_stmt 1 view .LVU380
 1560 009c 0B20     		movs	r0, #11
 1561 009e FFF7FEFF 		bl	W25qxx_Spi
 1562              	.LVL153:
 1563 00a2 D5E7     		b	.L111
 1564              	.LVL154:
 1565              	.L124:
 378:Drivers/w25qxx/w25qxx.c **** 	{
 1566              		.loc 1 378 46 discriminator 2 view .LVU381
 378:Drivers/w25qxx/w25qxx.c **** 	{
 1567              		.loc 1 378 48 is_stmt 0 discriminator 2 view .LVU382
 1568 00a4 2037     		adds	r7, r7, #32
 1569              	.LVL155:
 378:Drivers/w25qxx/w25qxx.c **** 	{
 1570              		.loc 1 378 48 discriminator 2 view .LVU383
 1571 00a6 BDE7     		b	.L109
 1572              	.LVL156:
 1573              	.L123:
 400:Drivers/w25qxx/w25qxx.c **** 				goto NOT_EMPTY;
 401:Drivers/w25qxx/w25qxx.c **** 		}
 402:Drivers/w25qxx/w25qxx.c **** 	}
 403:Drivers/w25qxx/w25qxx.c **** 	if ((w25qxx.PageSize + OffsetInByte) % sizeof(pBuffer) != 0)
 1574              		.loc 1 403 2 is_stmt 1 view .LVU384
 1575              		.loc 1 403 23 is_stmt 0 view .LVU385
 1576 00a8 2B44     		add	r3, r3, r5
 1577              		.loc 1 403 5 view .LVU386
 1578 00aa 13F01F0F 		tst	r3, #31
 1579 00ae 3CD0     		beq	.L116
 404:Drivers/w25qxx/w25qxx.c **** 	{
 405:Drivers/w25qxx/w25qxx.c **** 		i -= sizeof(pBuffer);
 1580              		.loc 1 405 3 is_stmt 1 view .LVU387
ARM GAS  /tmp/ccmQGMh6.s 			page 37


 1581              		.loc 1 405 5 is_stmt 0 view .LVU388
 1582 00b0 203F     		subs	r7, r7, #32
 1583              	.LVL157:
 406:Drivers/w25qxx/w25qxx.c **** 		for (; i < w25qxx.PageSize; i++)
 1584              		.loc 1 406 3 is_stmt 1 view .LVU389
 1585 00b2 20E0     		b	.L117
 1586              	.LVL158:
 1587              	.L118:
 407:Drivers/w25qxx/w25qxx.c **** 		{
 408:Drivers/w25qxx/w25qxx.c **** 			HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 409:Drivers/w25qxx/w25qxx.c **** 			WorkAddress = (i + Page_Address * w25qxx.PageSize);
 410:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0x0B);
 411:Drivers/w25qxx/w25qxx.c **** 			if (w25qxx.ID >= W25Q256)
 412:Drivers/w25qxx/w25qxx.c **** 			{
 413:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi(0x0C);
 414:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi((WorkAddress & 0xFF000000) >> 24);
 415:Drivers/w25qxx/w25qxx.c **** 			}
 416:Drivers/w25qxx/w25qxx.c **** 			else
 417:Drivers/w25qxx/w25qxx.c **** 			{
 418:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi(0x0B);
 1588              		.loc 1 418 5 view .LVU390
 1589 00b4 0B20     		movs	r0, #11
 1590 00b6 FFF7FEFF 		bl	W25qxx_Spi
 1591              	.LVL159:
 1592              	.L119:
 419:Drivers/w25qxx/w25qxx.c **** 			}
 420:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi((WorkAddress & 0xFF0000) >> 16);
 1593              		.loc 1 420 4 view .LVU391
 1594 00ba C5F30740 		ubfx	r0, r5, #16, #8
 1595 00be FFF7FEFF 		bl	W25qxx_Spi
 1596              	.LVL160:
 421:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi((WorkAddress & 0xFF00) >> 8);
 1597              		.loc 1 421 4 view .LVU392
 1598 00c2 C5F30720 		ubfx	r0, r5, #8, #8
 1599 00c6 FFF7FEFF 		bl	W25qxx_Spi
 1600              	.LVL161:
 422:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(WorkAddress & 0xFF);
 1601              		.loc 1 422 4 view .LVU393
 1602 00ca E8B2     		uxtb	r0, r5
 1603 00cc FFF7FEFF 		bl	W25qxx_Spi
 1604              	.LVL162:
 423:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0);
 1605              		.loc 1 423 4 view .LVU394
 1606 00d0 0020     		movs	r0, #0
 1607 00d2 FFF7FEFF 		bl	W25qxx_Spi
 1608              	.LVL163:
 424:Drivers/w25qxx/w25qxx.c **** 			HAL_SPI_Receive(&_W25QXX_SPI, pBuffer, 1, 100);
 1609              		.loc 1 424 4 view .LVU395
 1610 00d6 6423     		movs	r3, #100
 1611 00d8 0122     		movs	r2, #1
 1612 00da 6946     		mov	r1, sp
 1613 00dc 1B48     		ldr	r0, .L125+8
 1614 00de FFF7FEFF 		bl	HAL_SPI_Receive
 1615              	.LVL164:
 425:Drivers/w25qxx/w25qxx.c **** 			HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 1616              		.loc 1 425 4 view .LVU396
 1617 00e2 0122     		movs	r2, #1
ARM GAS  /tmp/ccmQGMh6.s 			page 38


 1618 00e4 1021     		movs	r1, #16
 1619 00e6 1848     		ldr	r0, .L125+4
 1620 00e8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1621              	.LVL165:
 426:Drivers/w25qxx/w25qxx.c **** 			if (pBuffer[0] != 0xFF)
 1622              		.loc 1 426 4 view .LVU397
 1623              		.loc 1 426 15 is_stmt 0 view .LVU398
 1624 00ec 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 1625              		.loc 1 426 7 view .LVU399
 1626 00f0 FF2B     		cmp	r3, #255
 1627 00f2 20D1     		bne	.L113
 406:Drivers/w25qxx/w25qxx.c **** 		{
 1628              		.loc 1 406 31 is_stmt 1 view .LVU400
 406:Drivers/w25qxx/w25qxx.c **** 		{
 1629              		.loc 1 406 32 is_stmt 0 view .LVU401
 1630 00f4 0137     		adds	r7, r7, #1
 1631              	.LVL166:
 1632              	.L117:
 406:Drivers/w25qxx/w25qxx.c **** 		{
 1633              		.loc 1 406 10 is_stmt 1 discriminator 1 view .LVU402
 406:Drivers/w25qxx/w25qxx.c **** 		{
 1634              		.loc 1 406 20 is_stmt 0 discriminator 1 view .LVU403
 1635 00f6 134B     		ldr	r3, .L125
 1636 00f8 5B89     		ldrh	r3, [r3, #10]
 406:Drivers/w25qxx/w25qxx.c **** 		{
 1637              		.loc 1 406 3 discriminator 1 view .LVU404
 1638 00fa BB42     		cmp	r3, r7
 1639 00fc 15D9     		bls	.L116
 408:Drivers/w25qxx/w25qxx.c **** 			WorkAddress = (i + Page_Address * w25qxx.PageSize);
 1640              		.loc 1 408 4 is_stmt 1 view .LVU405
 1641 00fe 0022     		movs	r2, #0
 1642 0100 1021     		movs	r1, #16
 1643 0102 1148     		ldr	r0, .L125+4
 1644 0104 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1645              	.LVL167:
 409:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0x0B);
 1646              		.loc 1 409 4 view .LVU406
 409:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0x0B);
 1647              		.loc 1 409 44 is_stmt 0 view .LVU407
 1648 0108 0E4E     		ldr	r6, .L125
 1649 010a 7589     		ldrh	r5, [r6, #10]
 409:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0x0B);
 1650              		.loc 1 409 16 view .LVU408
 1651 010c 04FB0575 		mla	r5, r4, r5, r7
 1652              	.LVL168:
 410:Drivers/w25qxx/w25qxx.c **** 			if (w25qxx.ID >= W25Q256)
 1653              		.loc 1 410 4 is_stmt 1 view .LVU409
 1654 0110 0B20     		movs	r0, #11
 1655 0112 FFF7FEFF 		bl	W25qxx_Spi
 1656              	.LVL169:
 411:Drivers/w25qxx/w25qxx.c **** 			{
 1657              		.loc 1 411 4 view .LVU410
 411:Drivers/w25qxx/w25qxx.c **** 			{
 1658              		.loc 1 411 14 is_stmt 0 view .LVU411
 1659 0116 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 411:Drivers/w25qxx/w25qxx.c **** 			{
 1660              		.loc 1 411 7 view .LVU412
ARM GAS  /tmp/ccmQGMh6.s 			page 39


 1661 0118 082B     		cmp	r3, #8
 1662 011a CBD9     		bls	.L118
 413:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi((WorkAddress & 0xFF000000) >> 24);
 1663              		.loc 1 413 5 is_stmt 1 view .LVU413
 1664 011c 0C20     		movs	r0, #12
 1665 011e FFF7FEFF 		bl	W25qxx_Spi
 1666              	.LVL170:
 414:Drivers/w25qxx/w25qxx.c **** 			}
 1667              		.loc 1 414 5 view .LVU414
 1668 0122 280E     		lsrs	r0, r5, #24
 1669 0124 FFF7FEFF 		bl	W25qxx_Spi
 1670              	.LVL171:
 1671 0128 C7E7     		b	.L119
 1672              	.LVL172:
 1673              	.L116:
 427:Drivers/w25qxx/w25qxx.c **** 				goto NOT_EMPTY;
 428:Drivers/w25qxx/w25qxx.c **** 		}
 429:Drivers/w25qxx/w25qxx.c **** 	}
 430:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 431:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx CheckPage is Empty in %d ms\r\n", HAL_GetTick() - StartTime);
 432:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 433:Drivers/w25qxx/w25qxx.c **** #endif
 434:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 1674              		.loc 1 434 2 view .LVU415
 1675              		.loc 1 434 14 is_stmt 0 view .LVU416
 1676 012a 064B     		ldr	r3, .L125
 1677 012c 0022     		movs	r2, #0
 1678 012e 83F82720 		strb	r2, [r3, #39]
 435:Drivers/w25qxx/w25qxx.c **** 	return true;
 1679              		.loc 1 435 2 is_stmt 1 view .LVU417
 1680              		.loc 1 435 9 is_stmt 0 view .LVU418
 1681 0132 0120     		movs	r0, #1
 1682 0134 03E0     		b	.L121
 1683              	.L113:
 436:Drivers/w25qxx/w25qxx.c **** NOT_EMPTY:
 437:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 438:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx CheckPage is Not Empty in %d ms\r\n", HAL_GetTick() - StartTime);
 439:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 440:Drivers/w25qxx/w25qxx.c **** #endif
 441:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 1684              		.loc 1 441 2 is_stmt 1 view .LVU419
 1685              		.loc 1 441 14 is_stmt 0 view .LVU420
 1686 0136 0020     		movs	r0, #0
 1687 0138 024B     		ldr	r3, .L125
 1688 013a 83F82700 		strb	r0, [r3, #39]
 442:Drivers/w25qxx/w25qxx.c **** 	return false;
 1689              		.loc 1 442 2 is_stmt 1 view .LVU421
 1690              	.L121:
 443:Drivers/w25qxx/w25qxx.c **** }
 1691              		.loc 1 443 1 is_stmt 0 view .LVU422
 1692 013e 09B0     		add	sp, sp, #36
 1693              	.LCFI16:
 1694              		.cfi_def_cfa_offset 20
 1695              		@ sp needed
 1696 0140 F0BD     		pop	{r4, r5, r6, r7, pc}
 1697              	.LVL173:
 1698              	.L126:
ARM GAS  /tmp/ccmQGMh6.s 			page 40


 1699              		.loc 1 443 1 view .LVU423
 1700 0142 00BF     		.align	2
 1701              	.L125:
 1702 0144 00000000 		.word	.LANCHOR0
 1703 0148 00000240 		.word	1073872896
 1704 014c 00000000 		.word	hspi1
 1705              		.cfi_endproc
 1706              	.LFE147:
 1708              		.section	.text.W25qxx_IsEmptySector,"ax",%progbits
 1709              		.align	1
 1710              		.global	W25qxx_IsEmptySector
 1711              		.syntax unified
 1712              		.thumb
 1713              		.thumb_func
 1715              	W25qxx_IsEmptySector:
 1716              	.LVL174:
 1717              	.LFB148:
 444:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 445:Drivers/w25qxx/w25qxx.c **** bool W25qxx_IsEmptySector(uint32_t Sector_Address, uint32_t OffsetInByte, uint32_t NumByteToCheck_u
 446:Drivers/w25qxx/w25qxx.c **** {
 1718              		.loc 1 446 1 is_stmt 1 view -0
 1719              		.cfi_startproc
 1720              		@ args = 0, pretend = 0, frame = 32
 1721              		@ frame_needed = 0, uses_anonymous_args = 0
 1722              		.loc 1 446 1 is_stmt 0 view .LVU425
 1723 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1724              	.LCFI17:
 1725              		.cfi_def_cfa_offset 20
 1726              		.cfi_offset 4, -20
 1727              		.cfi_offset 5, -16
 1728              		.cfi_offset 6, -12
 1729              		.cfi_offset 7, -8
 1730              		.cfi_offset 14, -4
 1731 0002 89B0     		sub	sp, sp, #36
 1732              	.LCFI18:
 1733              		.cfi_def_cfa_offset 56
 1734 0004 0446     		mov	r4, r0
 1735 0006 0D46     		mov	r5, r1
 447:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1736              		.loc 1 447 2 is_stmt 1 view .LVU426
 1737              		.loc 1 447 8 is_stmt 0 view .LVU427
 1738 0008 02E0     		b	.L128
 1739              	.LVL175:
 1740              	.L129:
 448:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 1741              		.loc 1 448 3 is_stmt 1 view .LVU428
 1742 000a 0120     		movs	r0, #1
 1743 000c FFF7FEFF 		bl	HAL_Delay
 1744              	.LVL176:
 1745              	.L128:
 447:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1746              		.loc 1 447 8 view .LVU429
 447:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 1747              		.loc 1 447 15 is_stmt 0 view .LVU430
 1748 0010 4A4B     		ldr	r3, .L146
 1749 0012 93F82730 		ldrb	r3, [r3, #39]	@ zero_extendqisi2
 447:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
ARM GAS  /tmp/ccmQGMh6.s 			page 41


 1750              		.loc 1 447 8 view .LVU431
 1751 0016 012B     		cmp	r3, #1
 1752 0018 F7D0     		beq	.L129
 449:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 1753              		.loc 1 449 2 is_stmt 1 view .LVU432
 1754              		.loc 1 449 14 is_stmt 0 view .LVU433
 1755 001a 484B     		ldr	r3, .L146
 1756 001c 0122     		movs	r2, #1
 1757 001e 83F82720 		strb	r2, [r3, #39]
 450:Drivers/w25qxx/w25qxx.c **** 	if ((NumByteToCheck_up_to_SectorSize > w25qxx.SectorSize) || (NumByteToCheck_up_to_SectorSize == 0
 1758              		.loc 1 450 2 is_stmt 1 view .LVU434
 1759              	.LVL177:
 449:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 1760              		.loc 1 449 14 is_stmt 0 view .LVU435
 1761 0022 2F46     		mov	r7, r5
 1762              	.L130:
 1763              	.LVL178:
 451:Drivers/w25qxx/w25qxx.c **** 		NumByteToCheck_up_to_SectorSize = w25qxx.SectorSize;
 452:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 453:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx CheckSector:%d, Offset:%d, Bytes:%d begin...\r\n", Sector_Address, OffsetInByte, Nu
 454:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 455:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 456:Drivers/w25qxx/w25qxx.c **** #endif
 457:Drivers/w25qxx/w25qxx.c **** 	uint8_t pBuffer[32];
 458:Drivers/w25qxx/w25qxx.c **** 	uint32_t WorkAddress;
 459:Drivers/w25qxx/w25qxx.c **** 	uint32_t i;
 460:Drivers/w25qxx/w25qxx.c **** 	for (i = OffsetInByte; i < w25qxx.SectorSize; i += sizeof(pBuffer))
 1764              		.loc 1 460 25 is_stmt 1 discriminator 1 view .LVU436
 1765              		.loc 1 460 35 is_stmt 0 discriminator 1 view .LVU437
 1766 0024 454B     		ldr	r3, .L146
 1767 0026 1B69     		ldr	r3, [r3, #16]
 1768              		.loc 1 460 2 discriminator 1 view .LVU438
 1769 0028 BB42     		cmp	r3, r7
 1770 002a 3DD9     		bls	.L144
 461:Drivers/w25qxx/w25qxx.c **** 	{
 462:Drivers/w25qxx/w25qxx.c **** 		HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 1771              		.loc 1 462 3 is_stmt 1 view .LVU439
 1772 002c 0022     		movs	r2, #0
 1773 002e 1021     		movs	r1, #16
 1774 0030 4348     		ldr	r0, .L146+4
 1775 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1776              	.LVL179:
 463:Drivers/w25qxx/w25qxx.c **** 		WorkAddress = (i + Sector_Address * w25qxx.SectorSize);
 1777              		.loc 1 463 3 view .LVU440
 1778              		.loc 1 463 45 is_stmt 0 view .LVU441
 1779 0036 414B     		ldr	r3, .L146
 1780 0038 1E69     		ldr	r6, [r3, #16]
 1781              		.loc 1 463 15 view .LVU442
 1782 003a 04FB0676 		mla	r6, r4, r6, r7
 1783              	.LVL180:
 464:Drivers/w25qxx/w25qxx.c **** 		if (w25qxx.ID >= W25Q256)
 1784              		.loc 1 464 3 is_stmt 1 view .LVU443
 1785              		.loc 1 464 13 is_stmt 0 view .LVU444
 1786 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1787              		.loc 1 464 6 view .LVU445
 1788 0040 082B     		cmp	r3, #8
 1789 0042 2BD9     		bls	.L131
ARM GAS  /tmp/ccmQGMh6.s 			page 42


 465:Drivers/w25qxx/w25qxx.c **** 		{
 466:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0x0C);
 1790              		.loc 1 466 4 is_stmt 1 view .LVU446
 1791 0044 0C20     		movs	r0, #12
 1792 0046 FFF7FEFF 		bl	W25qxx_Spi
 1793              	.LVL181:
 467:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi((WorkAddress & 0xFF000000) >> 24);
 1794              		.loc 1 467 4 view .LVU447
 1795 004a 300E     		lsrs	r0, r6, #24
 1796 004c FFF7FEFF 		bl	W25qxx_Spi
 1797              	.LVL182:
 1798              	.L132:
 468:Drivers/w25qxx/w25qxx.c **** 		}
 469:Drivers/w25qxx/w25qxx.c **** 		else
 470:Drivers/w25qxx/w25qxx.c **** 		{
 471:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0x0B);
 472:Drivers/w25qxx/w25qxx.c **** 		}
 473:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((WorkAddress & 0xFF0000) >> 16);
 1799              		.loc 1 473 3 view .LVU448
 1800 0050 C6F30740 		ubfx	r0, r6, #16, #8
 1801 0054 FFF7FEFF 		bl	W25qxx_Spi
 1802              	.LVL183:
 474:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((WorkAddress & 0xFF00) >> 8);
 1803              		.loc 1 474 3 view .LVU449
 1804 0058 C6F30720 		ubfx	r0, r6, #8, #8
 1805 005c FFF7FEFF 		bl	W25qxx_Spi
 1806              	.LVL184:
 475:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(WorkAddress & 0xFF);
 1807              		.loc 1 475 3 view .LVU450
 1808 0060 F0B2     		uxtb	r0, r6
 1809 0062 FFF7FEFF 		bl	W25qxx_Spi
 1810              	.LVL185:
 476:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0);
 1811              		.loc 1 476 3 view .LVU451
 1812 0066 0020     		movs	r0, #0
 1813 0068 FFF7FEFF 		bl	W25qxx_Spi
 1814              	.LVL186:
 477:Drivers/w25qxx/w25qxx.c **** 		HAL_SPI_Receive(&_W25QXX_SPI, pBuffer, sizeof(pBuffer), 100);
 1815              		.loc 1 477 3 view .LVU452
 1816 006c 6423     		movs	r3, #100
 1817 006e 2022     		movs	r2, #32
 1818 0070 6946     		mov	r1, sp
 1819 0072 3448     		ldr	r0, .L146+8
 1820 0074 FFF7FEFF 		bl	HAL_SPI_Receive
 1821              	.LVL187:
 478:Drivers/w25qxx/w25qxx.c **** 		HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 1822              		.loc 1 478 3 view .LVU453
 1823 0078 0122     		movs	r2, #1
 1824 007a 1021     		movs	r1, #16
 1825 007c 3048     		ldr	r0, .L146+4
 1826 007e FFF7FEFF 		bl	HAL_GPIO_WritePin
 1827              	.LVL188:
 479:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1828              		.loc 1 479 3 view .LVU454
 1829              	.LBB5:
 1830              		.loc 1 479 8 view .LVU455
 1831              		.loc 1 479 16 is_stmt 0 view .LVU456
ARM GAS  /tmp/ccmQGMh6.s 			page 43


 1832 0082 0023     		movs	r3, #0
 1833              	.LVL189:
 1834              	.L133:
 1835              		.loc 1 479 23 is_stmt 1 discriminator 1 view .LVU457
 1836              		.loc 1 479 3 is_stmt 0 discriminator 1 view .LVU458
 1837 0084 1F2B     		cmp	r3, #31
 1838 0086 0DD8     		bhi	.L145
 480:Drivers/w25qxx/w25qxx.c **** 		{
 481:Drivers/w25qxx/w25qxx.c **** 			if (pBuffer[x] != 0xFF)
 1839              		.loc 1 481 4 is_stmt 1 view .LVU459
 1840              		.loc 1 481 15 is_stmt 0 view .LVU460
 1841 0088 03F12002 		add	r2, r3, #32
 1842 008c 6A44     		add	r2, sp, r2
 1843 008e 12F8202C 		ldrb	r2, [r2, #-32]	@ zero_extendqisi2
 1844              		.loc 1 481 7 view .LVU461
 1845 0092 FF2A     		cmp	r2, #255
 1846 0094 4CD1     		bne	.L134
 479:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1847              		.loc 1 479 44 is_stmt 1 discriminator 2 view .LVU462
 479:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1848              		.loc 1 479 45 is_stmt 0 discriminator 2 view .LVU463
 1849 0096 0133     		adds	r3, r3, #1
 1850              	.LVL190:
 479:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1851              		.loc 1 479 45 discriminator 2 view .LVU464
 1852 0098 DBB2     		uxtb	r3, r3
 1853              	.LVL191:
 479:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1854              		.loc 1 479 45 discriminator 2 view .LVU465
 1855 009a F3E7     		b	.L133
 1856              	.LVL192:
 1857              	.L131:
 479:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 1858              		.loc 1 479 45 discriminator 2 view .LVU466
 1859              	.LBE5:
 471:Drivers/w25qxx/w25qxx.c **** 		}
 1860              		.loc 1 471 4 is_stmt 1 view .LVU467
 1861 009c 0B20     		movs	r0, #11
 1862 009e FFF7FEFF 		bl	W25qxx_Spi
 1863              	.LVL193:
 1864 00a2 D5E7     		b	.L132
 1865              	.LVL194:
 1866              	.L145:
 460:Drivers/w25qxx/w25qxx.c **** 	{
 1867              		.loc 1 460 48 discriminator 2 view .LVU468
 460:Drivers/w25qxx/w25qxx.c **** 	{
 1868              		.loc 1 460 50 is_stmt 0 discriminator 2 view .LVU469
 1869 00a4 2037     		adds	r7, r7, #32
 1870              	.LVL195:
 460:Drivers/w25qxx/w25qxx.c **** 	{
 1871              		.loc 1 460 50 discriminator 2 view .LVU470
 1872 00a6 BDE7     		b	.L130
 1873              	.LVL196:
 1874              	.L144:
 482:Drivers/w25qxx/w25qxx.c **** 				goto NOT_EMPTY;
 483:Drivers/w25qxx/w25qxx.c **** 		}
 484:Drivers/w25qxx/w25qxx.c **** 	}
ARM GAS  /tmp/ccmQGMh6.s 			page 44


 485:Drivers/w25qxx/w25qxx.c **** 	if ((w25qxx.SectorSize + OffsetInByte) % sizeof(pBuffer) != 0)
 1875              		.loc 1 485 2 is_stmt 1 view .LVU471
 1876              		.loc 1 485 25 is_stmt 0 view .LVU472
 1877 00a8 2B44     		add	r3, r3, r5
 1878              		.loc 1 485 5 view .LVU473
 1879 00aa 13F01F0F 		tst	r3, #31
 1880 00ae 39D0     		beq	.L137
 486:Drivers/w25qxx/w25qxx.c **** 	{
 487:Drivers/w25qxx/w25qxx.c **** 		i -= sizeof(pBuffer);
 1881              		.loc 1 487 3 is_stmt 1 view .LVU474
 1882              		.loc 1 487 5 is_stmt 0 view .LVU475
 1883 00b0 203F     		subs	r7, r7, #32
 1884              	.LVL197:
 488:Drivers/w25qxx/w25qxx.c **** 		for (; i < w25qxx.SectorSize; i++)
 1885              		.loc 1 488 3 is_stmt 1 view .LVU476
 1886 00b2 20E0     		b	.L138
 1887              	.LVL198:
 1888              	.L139:
 489:Drivers/w25qxx/w25qxx.c **** 		{
 490:Drivers/w25qxx/w25qxx.c **** 			HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 491:Drivers/w25qxx/w25qxx.c **** 			WorkAddress = (i + Sector_Address * w25qxx.SectorSize);
 492:Drivers/w25qxx/w25qxx.c **** 			if (w25qxx.ID >= W25Q256)
 493:Drivers/w25qxx/w25qxx.c **** 			{
 494:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi(0x0C);
 495:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi((WorkAddress & 0xFF000000) >> 24);
 496:Drivers/w25qxx/w25qxx.c **** 			}
 497:Drivers/w25qxx/w25qxx.c **** 			else
 498:Drivers/w25qxx/w25qxx.c **** 			{
 499:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi(0x0B);
 1889              		.loc 1 499 5 view .LVU477
 1890 00b4 0B20     		movs	r0, #11
 1891 00b6 FFF7FEFF 		bl	W25qxx_Spi
 1892              	.LVL199:
 1893              	.L140:
 500:Drivers/w25qxx/w25qxx.c **** 			}
 501:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi((WorkAddress & 0xFF0000) >> 16);
 1894              		.loc 1 501 4 view .LVU478
 1895 00ba C5F30740 		ubfx	r0, r5, #16, #8
 1896 00be FFF7FEFF 		bl	W25qxx_Spi
 1897              	.LVL200:
 502:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi((WorkAddress & 0xFF00) >> 8);
 1898              		.loc 1 502 4 view .LVU479
 1899 00c2 C5F30720 		ubfx	r0, r5, #8, #8
 1900 00c6 FFF7FEFF 		bl	W25qxx_Spi
 1901              	.LVL201:
 503:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(WorkAddress & 0xFF);
 1902              		.loc 1 503 4 view .LVU480
 1903 00ca E8B2     		uxtb	r0, r5
 1904 00cc FFF7FEFF 		bl	W25qxx_Spi
 1905              	.LVL202:
 504:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0);
 1906              		.loc 1 504 4 view .LVU481
 1907 00d0 0020     		movs	r0, #0
 1908 00d2 FFF7FEFF 		bl	W25qxx_Spi
 1909              	.LVL203:
 505:Drivers/w25qxx/w25qxx.c **** 			HAL_SPI_Receive(&_W25QXX_SPI, pBuffer, 1, 100);
 1910              		.loc 1 505 4 view .LVU482
ARM GAS  /tmp/ccmQGMh6.s 			page 45


 1911 00d6 6423     		movs	r3, #100
 1912 00d8 0122     		movs	r2, #1
 1913 00da 6946     		mov	r1, sp
 1914 00dc 1948     		ldr	r0, .L146+8
 1915 00de FFF7FEFF 		bl	HAL_SPI_Receive
 1916              	.LVL204:
 506:Drivers/w25qxx/w25qxx.c **** 			HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 1917              		.loc 1 506 4 view .LVU483
 1918 00e2 0122     		movs	r2, #1
 1919 00e4 1021     		movs	r1, #16
 1920 00e6 1648     		ldr	r0, .L146+4
 1921 00e8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1922              	.LVL205:
 507:Drivers/w25qxx/w25qxx.c **** 			if (pBuffer[0] != 0xFF)
 1923              		.loc 1 507 4 view .LVU484
 1924              		.loc 1 507 15 is_stmt 0 view .LVU485
 1925 00ec 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 1926              		.loc 1 507 7 view .LVU486
 1927 00f0 FF2B     		cmp	r3, #255
 1928 00f2 1DD1     		bne	.L134
 488:Drivers/w25qxx/w25qxx.c **** 		{
 1929              		.loc 1 488 33 is_stmt 1 view .LVU487
 488:Drivers/w25qxx/w25qxx.c **** 		{
 1930              		.loc 1 488 34 is_stmt 0 view .LVU488
 1931 00f4 0137     		adds	r7, r7, #1
 1932              	.LVL206:
 1933              	.L138:
 488:Drivers/w25qxx/w25qxx.c **** 		{
 1934              		.loc 1 488 10 is_stmt 1 discriminator 1 view .LVU489
 488:Drivers/w25qxx/w25qxx.c **** 		{
 1935              		.loc 1 488 20 is_stmt 0 discriminator 1 view .LVU490
 1936 00f6 114B     		ldr	r3, .L146
 1937 00f8 1B69     		ldr	r3, [r3, #16]
 488:Drivers/w25qxx/w25qxx.c **** 		{
 1938              		.loc 1 488 3 discriminator 1 view .LVU491
 1939 00fa BB42     		cmp	r3, r7
 1940 00fc 12D9     		bls	.L137
 490:Drivers/w25qxx/w25qxx.c **** 			WorkAddress = (i + Sector_Address * w25qxx.SectorSize);
 1941              		.loc 1 490 4 is_stmt 1 view .LVU492
 1942 00fe 0022     		movs	r2, #0
 1943 0100 1021     		movs	r1, #16
 1944 0102 0F48     		ldr	r0, .L146+4
 1945 0104 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1946              	.LVL207:
 491:Drivers/w25qxx/w25qxx.c **** 			if (w25qxx.ID >= W25Q256)
 1947              		.loc 1 491 4 view .LVU493
 491:Drivers/w25qxx/w25qxx.c **** 			if (w25qxx.ID >= W25Q256)
 1948              		.loc 1 491 46 is_stmt 0 view .LVU494
 1949 0108 0C4B     		ldr	r3, .L146
 1950 010a 1D69     		ldr	r5, [r3, #16]
 491:Drivers/w25qxx/w25qxx.c **** 			if (w25qxx.ID >= W25Q256)
 1951              		.loc 1 491 16 view .LVU495
 1952 010c 04FB0575 		mla	r5, r4, r5, r7
 1953              	.LVL208:
 492:Drivers/w25qxx/w25qxx.c **** 			{
 1954              		.loc 1 492 4 is_stmt 1 view .LVU496
 492:Drivers/w25qxx/w25qxx.c **** 			{
ARM GAS  /tmp/ccmQGMh6.s 			page 46


 1955              		.loc 1 492 14 is_stmt 0 view .LVU497
 1956 0110 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 492:Drivers/w25qxx/w25qxx.c **** 			{
 1957              		.loc 1 492 7 view .LVU498
 1958 0112 082B     		cmp	r3, #8
 1959 0114 CED9     		bls	.L139
 494:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi((WorkAddress & 0xFF000000) >> 24);
 1960              		.loc 1 494 5 is_stmt 1 view .LVU499
 1961 0116 0C20     		movs	r0, #12
 1962 0118 FFF7FEFF 		bl	W25qxx_Spi
 1963              	.LVL209:
 495:Drivers/w25qxx/w25qxx.c **** 			}
 1964              		.loc 1 495 5 view .LVU500
 1965 011c 280E     		lsrs	r0, r5, #24
 1966 011e FFF7FEFF 		bl	W25qxx_Spi
 1967              	.LVL210:
 1968 0122 CAE7     		b	.L140
 1969              	.LVL211:
 1970              	.L137:
 508:Drivers/w25qxx/w25qxx.c **** 				goto NOT_EMPTY;
 509:Drivers/w25qxx/w25qxx.c **** 		}
 510:Drivers/w25qxx/w25qxx.c **** 	}
 511:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 512:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx CheckSector is Empty in %d ms\r\n", HAL_GetTick() - StartTime);
 513:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 514:Drivers/w25qxx/w25qxx.c **** #endif
 515:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 1971              		.loc 1 515 2 view .LVU501
 1972              		.loc 1 515 14 is_stmt 0 view .LVU502
 1973 0124 054B     		ldr	r3, .L146
 1974 0126 0022     		movs	r2, #0
 1975 0128 83F82720 		strb	r2, [r3, #39]
 516:Drivers/w25qxx/w25qxx.c **** 	return true;
 1976              		.loc 1 516 2 is_stmt 1 view .LVU503
 1977              		.loc 1 516 9 is_stmt 0 view .LVU504
 1978 012c 0120     		movs	r0, #1
 1979 012e 03E0     		b	.L142
 1980              	.L134:
 517:Drivers/w25qxx/w25qxx.c **** NOT_EMPTY:
 518:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 519:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx CheckSector is Not Empty in %d ms\r\n", HAL_GetTick() - StartTime);
 520:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 521:Drivers/w25qxx/w25qxx.c **** #endif
 522:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 1981              		.loc 1 522 2 is_stmt 1 view .LVU505
 1982              		.loc 1 522 14 is_stmt 0 view .LVU506
 1983 0130 0020     		movs	r0, #0
 1984 0132 024B     		ldr	r3, .L146
 1985 0134 83F82700 		strb	r0, [r3, #39]
 523:Drivers/w25qxx/w25qxx.c **** 	return false;
 1986              		.loc 1 523 2 is_stmt 1 view .LVU507
 1987              	.L142:
 524:Drivers/w25qxx/w25qxx.c **** }
 1988              		.loc 1 524 1 is_stmt 0 view .LVU508
 1989 0138 09B0     		add	sp, sp, #36
 1990              	.LCFI19:
 1991              		.cfi_def_cfa_offset 20
ARM GAS  /tmp/ccmQGMh6.s 			page 47


 1992              		@ sp needed
 1993 013a F0BD     		pop	{r4, r5, r6, r7, pc}
 1994              	.LVL212:
 1995              	.L147:
 1996              		.loc 1 524 1 view .LVU509
 1997              		.align	2
 1998              	.L146:
 1999 013c 00000000 		.word	.LANCHOR0
 2000 0140 00000240 		.word	1073872896
 2001 0144 00000000 		.word	hspi1
 2002              		.cfi_endproc
 2003              	.LFE148:
 2005              		.section	.text.W25qxx_IsEmptyBlock,"ax",%progbits
 2006              		.align	1
 2007              		.global	W25qxx_IsEmptyBlock
 2008              		.syntax unified
 2009              		.thumb
 2010              		.thumb_func
 2012              	W25qxx_IsEmptyBlock:
 2013              	.LVL213:
 2014              	.LFB149:
 525:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 526:Drivers/w25qxx/w25qxx.c **** bool W25qxx_IsEmptyBlock(uint32_t Block_Address, uint32_t OffsetInByte, uint32_t NumByteToCheck_up_
 527:Drivers/w25qxx/w25qxx.c **** {
 2015              		.loc 1 527 1 is_stmt 1 view -0
 2016              		.cfi_startproc
 2017              		@ args = 0, pretend = 0, frame = 32
 2018              		@ frame_needed = 0, uses_anonymous_args = 0
 2019              		.loc 1 527 1 is_stmt 0 view .LVU511
 2020 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2021              	.LCFI20:
 2022              		.cfi_def_cfa_offset 20
 2023              		.cfi_offset 4, -20
 2024              		.cfi_offset 5, -16
 2025              		.cfi_offset 6, -12
 2026              		.cfi_offset 7, -8
 2027              		.cfi_offset 14, -4
 2028 0002 89B0     		sub	sp, sp, #36
 2029              	.LCFI21:
 2030              		.cfi_def_cfa_offset 56
 2031 0004 0446     		mov	r4, r0
 2032 0006 0D46     		mov	r5, r1
 528:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2033              		.loc 1 528 2 is_stmt 1 view .LVU512
 2034              		.loc 1 528 8 is_stmt 0 view .LVU513
 2035 0008 02E0     		b	.L149
 2036              	.LVL214:
 2037              	.L150:
 529:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 2038              		.loc 1 529 3 is_stmt 1 view .LVU514
 2039 000a 0120     		movs	r0, #1
 2040 000c FFF7FEFF 		bl	HAL_Delay
 2041              	.LVL215:
 2042              	.L149:
 528:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2043              		.loc 1 528 8 view .LVU515
 528:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
ARM GAS  /tmp/ccmQGMh6.s 			page 48


 2044              		.loc 1 528 15 is_stmt 0 view .LVU516
 2045 0010 4A4B     		ldr	r3, .L167
 2046 0012 93F82730 		ldrb	r3, [r3, #39]	@ zero_extendqisi2
 528:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2047              		.loc 1 528 8 view .LVU517
 2048 0016 012B     		cmp	r3, #1
 2049 0018 F7D0     		beq	.L150
 530:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 2050              		.loc 1 530 2 is_stmt 1 view .LVU518
 2051              		.loc 1 530 14 is_stmt 0 view .LVU519
 2052 001a 484B     		ldr	r3, .L167
 2053 001c 0122     		movs	r2, #1
 2054 001e 83F82720 		strb	r2, [r3, #39]
 531:Drivers/w25qxx/w25qxx.c **** 	if ((NumByteToCheck_up_to_BlockSize > w25qxx.BlockSize) || (NumByteToCheck_up_to_BlockSize == 0))
 2055              		.loc 1 531 2 is_stmt 1 view .LVU520
 2056              	.LVL216:
 530:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 2057              		.loc 1 530 14 is_stmt 0 view .LVU521
 2058 0022 2F46     		mov	r7, r5
 2059              	.L151:
 2060              	.LVL217:
 532:Drivers/w25qxx/w25qxx.c **** 		NumByteToCheck_up_to_BlockSize = w25qxx.BlockSize;
 533:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 534:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx CheckBlock:%d, Offset:%d, Bytes:%d begin...\r\n", Block_Address, OffsetInByte, NumB
 535:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 536:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 537:Drivers/w25qxx/w25qxx.c **** #endif
 538:Drivers/w25qxx/w25qxx.c **** 	uint8_t pBuffer[32];
 539:Drivers/w25qxx/w25qxx.c **** 	uint32_t WorkAddress;
 540:Drivers/w25qxx/w25qxx.c **** 	uint32_t i;
 541:Drivers/w25qxx/w25qxx.c **** 	for (i = OffsetInByte; i < w25qxx.BlockSize; i += sizeof(pBuffer))
 2061              		.loc 1 541 25 is_stmt 1 discriminator 1 view .LVU522
 2062              		.loc 1 541 35 is_stmt 0 discriminator 1 view .LVU523
 2063 0024 454B     		ldr	r3, .L167
 2064 0026 9B69     		ldr	r3, [r3, #24]
 2065              		.loc 1 541 2 discriminator 1 view .LVU524
 2066 0028 BB42     		cmp	r3, r7
 2067 002a 3DD9     		bls	.L165
 542:Drivers/w25qxx/w25qxx.c **** 	{
 543:Drivers/w25qxx/w25qxx.c **** 		HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 2068              		.loc 1 543 3 is_stmt 1 view .LVU525
 2069 002c 0022     		movs	r2, #0
 2070 002e 1021     		movs	r1, #16
 2071 0030 4348     		ldr	r0, .L167+4
 2072 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2073              	.LVL218:
 544:Drivers/w25qxx/w25qxx.c **** 		WorkAddress = (i + Block_Address * w25qxx.BlockSize);
 2074              		.loc 1 544 3 view .LVU526
 2075              		.loc 1 544 44 is_stmt 0 view .LVU527
 2076 0036 414B     		ldr	r3, .L167
 2077 0038 9E69     		ldr	r6, [r3, #24]
 2078              		.loc 1 544 15 view .LVU528
 2079 003a 04FB0676 		mla	r6, r4, r6, r7
 2080              	.LVL219:
 545:Drivers/w25qxx/w25qxx.c **** 
 546:Drivers/w25qxx/w25qxx.c **** 		if (w25qxx.ID >= W25Q256)
 2081              		.loc 1 546 3 is_stmt 1 view .LVU529
ARM GAS  /tmp/ccmQGMh6.s 			page 49


 2082              		.loc 1 546 13 is_stmt 0 view .LVU530
 2083 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2084              		.loc 1 546 6 view .LVU531
 2085 0040 082B     		cmp	r3, #8
 2086 0042 2BD9     		bls	.L152
 547:Drivers/w25qxx/w25qxx.c **** 		{
 548:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0x0C);
 2087              		.loc 1 548 4 is_stmt 1 view .LVU532
 2088 0044 0C20     		movs	r0, #12
 2089 0046 FFF7FEFF 		bl	W25qxx_Spi
 2090              	.LVL220:
 549:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi((WorkAddress & 0xFF000000) >> 24);
 2091              		.loc 1 549 4 view .LVU533
 2092 004a 300E     		lsrs	r0, r6, #24
 2093 004c FFF7FEFF 		bl	W25qxx_Spi
 2094              	.LVL221:
 2095              	.L153:
 550:Drivers/w25qxx/w25qxx.c **** 		}
 551:Drivers/w25qxx/w25qxx.c **** 		else
 552:Drivers/w25qxx/w25qxx.c **** 		{
 553:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0x0B);
 554:Drivers/w25qxx/w25qxx.c **** 		}
 555:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((WorkAddress & 0xFF0000) >> 16);
 2096              		.loc 1 555 3 view .LVU534
 2097 0050 C6F30740 		ubfx	r0, r6, #16, #8
 2098 0054 FFF7FEFF 		bl	W25qxx_Spi
 2099              	.LVL222:
 556:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((WorkAddress & 0xFF00) >> 8);
 2100              		.loc 1 556 3 view .LVU535
 2101 0058 C6F30720 		ubfx	r0, r6, #8, #8
 2102 005c FFF7FEFF 		bl	W25qxx_Spi
 2103              	.LVL223:
 557:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(WorkAddress & 0xFF);
 2104              		.loc 1 557 3 view .LVU536
 2105 0060 F0B2     		uxtb	r0, r6
 2106 0062 FFF7FEFF 		bl	W25qxx_Spi
 2107              	.LVL224:
 558:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0);
 2108              		.loc 1 558 3 view .LVU537
 2109 0066 0020     		movs	r0, #0
 2110 0068 FFF7FEFF 		bl	W25qxx_Spi
 2111              	.LVL225:
 559:Drivers/w25qxx/w25qxx.c **** 		HAL_SPI_Receive(&_W25QXX_SPI, pBuffer, sizeof(pBuffer), 100);
 2112              		.loc 1 559 3 view .LVU538
 2113 006c 6423     		movs	r3, #100
 2114 006e 2022     		movs	r2, #32
 2115 0070 6946     		mov	r1, sp
 2116 0072 3448     		ldr	r0, .L167+8
 2117 0074 FFF7FEFF 		bl	HAL_SPI_Receive
 2118              	.LVL226:
 560:Drivers/w25qxx/w25qxx.c **** 		HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 2119              		.loc 1 560 3 view .LVU539
 2120 0078 0122     		movs	r2, #1
 2121 007a 1021     		movs	r1, #16
 2122 007c 3048     		ldr	r0, .L167+4
 2123 007e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2124              	.LVL227:
ARM GAS  /tmp/ccmQGMh6.s 			page 50


 561:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 2125              		.loc 1 561 3 view .LVU540
 2126              	.LBB6:
 2127              		.loc 1 561 8 view .LVU541
 2128              		.loc 1 561 16 is_stmt 0 view .LVU542
 2129 0082 0023     		movs	r3, #0
 2130              	.LVL228:
 2131              	.L154:
 2132              		.loc 1 561 23 is_stmt 1 discriminator 1 view .LVU543
 2133              		.loc 1 561 3 is_stmt 0 discriminator 1 view .LVU544
 2134 0084 1F2B     		cmp	r3, #31
 2135 0086 0DD8     		bhi	.L166
 562:Drivers/w25qxx/w25qxx.c **** 		{
 563:Drivers/w25qxx/w25qxx.c **** 			if (pBuffer[x] != 0xFF)
 2136              		.loc 1 563 4 is_stmt 1 view .LVU545
 2137              		.loc 1 563 15 is_stmt 0 view .LVU546
 2138 0088 03F12002 		add	r2, r3, #32
 2139 008c 6A44     		add	r2, sp, r2
 2140 008e 12F8202C 		ldrb	r2, [r2, #-32]	@ zero_extendqisi2
 2141              		.loc 1 563 7 view .LVU547
 2142 0092 FF2A     		cmp	r2, #255
 2143 0094 4CD1     		bne	.L155
 561:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 2144              		.loc 1 561 44 is_stmt 1 discriminator 2 view .LVU548
 561:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 2145              		.loc 1 561 45 is_stmt 0 discriminator 2 view .LVU549
 2146 0096 0133     		adds	r3, r3, #1
 2147              	.LVL229:
 561:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 2148              		.loc 1 561 45 discriminator 2 view .LVU550
 2149 0098 DBB2     		uxtb	r3, r3
 2150              	.LVL230:
 561:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 2151              		.loc 1 561 45 discriminator 2 view .LVU551
 2152 009a F3E7     		b	.L154
 2153              	.LVL231:
 2154              	.L152:
 561:Drivers/w25qxx/w25qxx.c **** 		for (uint8_t x = 0; x < sizeof(pBuffer); x++)
 2155              		.loc 1 561 45 discriminator 2 view .LVU552
 2156              	.LBE6:
 553:Drivers/w25qxx/w25qxx.c **** 		}
 2157              		.loc 1 553 4 is_stmt 1 view .LVU553
 2158 009c 0B20     		movs	r0, #11
 2159 009e FFF7FEFF 		bl	W25qxx_Spi
 2160              	.LVL232:
 2161 00a2 D5E7     		b	.L153
 2162              	.LVL233:
 2163              	.L166:
 541:Drivers/w25qxx/w25qxx.c **** 	{
 2164              		.loc 1 541 47 discriminator 2 view .LVU554
 541:Drivers/w25qxx/w25qxx.c **** 	{
 2165              		.loc 1 541 49 is_stmt 0 discriminator 2 view .LVU555
 2166 00a4 2037     		adds	r7, r7, #32
 2167              	.LVL234:
 541:Drivers/w25qxx/w25qxx.c **** 	{
 2168              		.loc 1 541 49 discriminator 2 view .LVU556
 2169 00a6 BDE7     		b	.L151
ARM GAS  /tmp/ccmQGMh6.s 			page 51


 2170              	.LVL235:
 2171              	.L165:
 564:Drivers/w25qxx/w25qxx.c **** 				goto NOT_EMPTY;
 565:Drivers/w25qxx/w25qxx.c **** 		}
 566:Drivers/w25qxx/w25qxx.c **** 	}
 567:Drivers/w25qxx/w25qxx.c **** 	if ((w25qxx.BlockSize + OffsetInByte) % sizeof(pBuffer) != 0)
 2172              		.loc 1 567 2 is_stmt 1 view .LVU557
 2173              		.loc 1 567 24 is_stmt 0 view .LVU558
 2174 00a8 2B44     		add	r3, r3, r5
 2175              		.loc 1 567 5 view .LVU559
 2176 00aa 13F01F0F 		tst	r3, #31
 2177 00ae 39D0     		beq	.L158
 568:Drivers/w25qxx/w25qxx.c **** 	{
 569:Drivers/w25qxx/w25qxx.c **** 		i -= sizeof(pBuffer);
 2178              		.loc 1 569 3 is_stmt 1 view .LVU560
 2179              		.loc 1 569 5 is_stmt 0 view .LVU561
 2180 00b0 203F     		subs	r7, r7, #32
 2181              	.LVL236:
 570:Drivers/w25qxx/w25qxx.c **** 		for (; i < w25qxx.BlockSize; i++)
 2182              		.loc 1 570 3 is_stmt 1 view .LVU562
 2183 00b2 20E0     		b	.L159
 2184              	.LVL237:
 2185              	.L160:
 571:Drivers/w25qxx/w25qxx.c **** 		{
 572:Drivers/w25qxx/w25qxx.c **** 			HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 573:Drivers/w25qxx/w25qxx.c **** 			WorkAddress = (i + Block_Address * w25qxx.BlockSize);
 574:Drivers/w25qxx/w25qxx.c **** 
 575:Drivers/w25qxx/w25qxx.c **** 			if (w25qxx.ID >= W25Q256)
 576:Drivers/w25qxx/w25qxx.c **** 			{
 577:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi(0x0C);
 578:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi((WorkAddress & 0xFF000000) >> 24);
 579:Drivers/w25qxx/w25qxx.c **** 			}
 580:Drivers/w25qxx/w25qxx.c **** 			else
 581:Drivers/w25qxx/w25qxx.c **** 			{
 582:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi(0x0B);
 2186              		.loc 1 582 5 view .LVU563
 2187 00b4 0B20     		movs	r0, #11
 2188 00b6 FFF7FEFF 		bl	W25qxx_Spi
 2189              	.LVL238:
 2190              	.L161:
 583:Drivers/w25qxx/w25qxx.c **** 			}
 584:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi((WorkAddress & 0xFF0000) >> 16);
 2191              		.loc 1 584 4 view .LVU564
 2192 00ba C5F30740 		ubfx	r0, r5, #16, #8
 2193 00be FFF7FEFF 		bl	W25qxx_Spi
 2194              	.LVL239:
 585:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi((WorkAddress & 0xFF00) >> 8);
 2195              		.loc 1 585 4 view .LVU565
 2196 00c2 C5F30720 		ubfx	r0, r5, #8, #8
 2197 00c6 FFF7FEFF 		bl	W25qxx_Spi
 2198              	.LVL240:
 586:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(WorkAddress & 0xFF);
 2199              		.loc 1 586 4 view .LVU566
 2200 00ca E8B2     		uxtb	r0, r5
 2201 00cc FFF7FEFF 		bl	W25qxx_Spi
 2202              	.LVL241:
 587:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Spi(0);
ARM GAS  /tmp/ccmQGMh6.s 			page 52


 2203              		.loc 1 587 4 view .LVU567
 2204 00d0 0020     		movs	r0, #0
 2205 00d2 FFF7FEFF 		bl	W25qxx_Spi
 2206              	.LVL242:
 588:Drivers/w25qxx/w25qxx.c **** 			HAL_SPI_Receive(&_W25QXX_SPI, pBuffer, 1, 100);
 2207              		.loc 1 588 4 view .LVU568
 2208 00d6 6423     		movs	r3, #100
 2209 00d8 0122     		movs	r2, #1
 2210 00da 6946     		mov	r1, sp
 2211 00dc 1948     		ldr	r0, .L167+8
 2212 00de FFF7FEFF 		bl	HAL_SPI_Receive
 2213              	.LVL243:
 589:Drivers/w25qxx/w25qxx.c **** 			HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 2214              		.loc 1 589 4 view .LVU569
 2215 00e2 0122     		movs	r2, #1
 2216 00e4 1021     		movs	r1, #16
 2217 00e6 1648     		ldr	r0, .L167+4
 2218 00e8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2219              	.LVL244:
 590:Drivers/w25qxx/w25qxx.c **** 			if (pBuffer[0] != 0xFF)
 2220              		.loc 1 590 4 view .LVU570
 2221              		.loc 1 590 15 is_stmt 0 view .LVU571
 2222 00ec 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 2223              		.loc 1 590 7 view .LVU572
 2224 00f0 FF2B     		cmp	r3, #255
 2225 00f2 1DD1     		bne	.L155
 570:Drivers/w25qxx/w25qxx.c **** 		{
 2226              		.loc 1 570 32 is_stmt 1 view .LVU573
 570:Drivers/w25qxx/w25qxx.c **** 		{
 2227              		.loc 1 570 33 is_stmt 0 view .LVU574
 2228 00f4 0137     		adds	r7, r7, #1
 2229              	.LVL245:
 2230              	.L159:
 570:Drivers/w25qxx/w25qxx.c **** 		{
 2231              		.loc 1 570 10 is_stmt 1 discriminator 1 view .LVU575
 570:Drivers/w25qxx/w25qxx.c **** 		{
 2232              		.loc 1 570 20 is_stmt 0 discriminator 1 view .LVU576
 2233 00f6 114B     		ldr	r3, .L167
 2234 00f8 9B69     		ldr	r3, [r3, #24]
 570:Drivers/w25qxx/w25qxx.c **** 		{
 2235              		.loc 1 570 3 discriminator 1 view .LVU577
 2236 00fa BB42     		cmp	r3, r7
 2237 00fc 12D9     		bls	.L158
 572:Drivers/w25qxx/w25qxx.c **** 			WorkAddress = (i + Block_Address * w25qxx.BlockSize);
 2238              		.loc 1 572 4 is_stmt 1 view .LVU578
 2239 00fe 0022     		movs	r2, #0
 2240 0100 1021     		movs	r1, #16
 2241 0102 0F48     		ldr	r0, .L167+4
 2242 0104 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2243              	.LVL246:
 573:Drivers/w25qxx/w25qxx.c **** 
 2244              		.loc 1 573 4 view .LVU579
 573:Drivers/w25qxx/w25qxx.c **** 
 2245              		.loc 1 573 45 is_stmt 0 view .LVU580
 2246 0108 0C4B     		ldr	r3, .L167
 2247 010a 9D69     		ldr	r5, [r3, #24]
 573:Drivers/w25qxx/w25qxx.c **** 
ARM GAS  /tmp/ccmQGMh6.s 			page 53


 2248              		.loc 1 573 16 view .LVU581
 2249 010c 04FB0575 		mla	r5, r4, r5, r7
 2250              	.LVL247:
 575:Drivers/w25qxx/w25qxx.c **** 			{
 2251              		.loc 1 575 4 is_stmt 1 view .LVU582
 575:Drivers/w25qxx/w25qxx.c **** 			{
 2252              		.loc 1 575 14 is_stmt 0 view .LVU583
 2253 0110 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 575:Drivers/w25qxx/w25qxx.c **** 			{
 2254              		.loc 1 575 7 view .LVU584
 2255 0112 082B     		cmp	r3, #8
 2256 0114 CED9     		bls	.L160
 577:Drivers/w25qxx/w25qxx.c **** 				W25qxx_Spi((WorkAddress & 0xFF000000) >> 24);
 2257              		.loc 1 577 5 is_stmt 1 view .LVU585
 2258 0116 0C20     		movs	r0, #12
 2259 0118 FFF7FEFF 		bl	W25qxx_Spi
 2260              	.LVL248:
 578:Drivers/w25qxx/w25qxx.c **** 			}
 2261              		.loc 1 578 5 view .LVU586
 2262 011c 280E     		lsrs	r0, r5, #24
 2263 011e FFF7FEFF 		bl	W25qxx_Spi
 2264              	.LVL249:
 2265 0122 CAE7     		b	.L161
 2266              	.LVL250:
 2267              	.L158:
 591:Drivers/w25qxx/w25qxx.c **** 				goto NOT_EMPTY;
 592:Drivers/w25qxx/w25qxx.c **** 		}
 593:Drivers/w25qxx/w25qxx.c **** 	}
 594:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 595:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx CheckBlock is Empty in %d ms\r\n", HAL_GetTick() - StartTime);
 596:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 597:Drivers/w25qxx/w25qxx.c **** #endif
 598:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 2268              		.loc 1 598 2 view .LVU587
 2269              		.loc 1 598 14 is_stmt 0 view .LVU588
 2270 0124 054B     		ldr	r3, .L167
 2271 0126 0022     		movs	r2, #0
 2272 0128 83F82720 		strb	r2, [r3, #39]
 599:Drivers/w25qxx/w25qxx.c **** 	return true;
 2273              		.loc 1 599 2 is_stmt 1 view .LVU589
 2274              		.loc 1 599 9 is_stmt 0 view .LVU590
 2275 012c 0120     		movs	r0, #1
 2276 012e 03E0     		b	.L163
 2277              	.L155:
 600:Drivers/w25qxx/w25qxx.c **** NOT_EMPTY:
 601:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 602:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx CheckBlock is Not Empty in %d ms\r\n", HAL_GetTick() - StartTime);
 603:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 604:Drivers/w25qxx/w25qxx.c **** #endif
 605:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 2278              		.loc 1 605 2 is_stmt 1 view .LVU591
 2279              		.loc 1 605 14 is_stmt 0 view .LVU592
 2280 0130 0020     		movs	r0, #0
 2281 0132 024B     		ldr	r3, .L167
 2282 0134 83F82700 		strb	r0, [r3, #39]
 606:Drivers/w25qxx/w25qxx.c **** 	return false;
 2283              		.loc 1 606 2 is_stmt 1 view .LVU593
ARM GAS  /tmp/ccmQGMh6.s 			page 54


 2284              	.L163:
 607:Drivers/w25qxx/w25qxx.c **** }
 2285              		.loc 1 607 1 is_stmt 0 view .LVU594
 2286 0138 09B0     		add	sp, sp, #36
 2287              	.LCFI22:
 2288              		.cfi_def_cfa_offset 20
 2289              		@ sp needed
 2290 013a F0BD     		pop	{r4, r5, r6, r7, pc}
 2291              	.LVL251:
 2292              	.L168:
 2293              		.loc 1 607 1 view .LVU595
 2294              		.align	2
 2295              	.L167:
 2296 013c 00000000 		.word	.LANCHOR0
 2297 0140 00000240 		.word	1073872896
 2298 0144 00000000 		.word	hspi1
 2299              		.cfi_endproc
 2300              	.LFE149:
 2302              		.section	.text.W25qxx_WriteByte,"ax",%progbits
 2303              		.align	1
 2304              		.global	W25qxx_WriteByte
 2305              		.syntax unified
 2306              		.thumb
 2307              		.thumb_func
 2309              	W25qxx_WriteByte:
 2310              	.LVL252:
 2311              	.LFB150:
 608:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 609:Drivers/w25qxx/w25qxx.c **** void W25qxx_WriteByte(uint8_t pBuffer, uint32_t WriteAddr_inBytes)
 610:Drivers/w25qxx/w25qxx.c **** {
 2312              		.loc 1 610 1 is_stmt 1 view -0
 2313              		.cfi_startproc
 2314              		@ args = 0, pretend = 0, frame = 0
 2315              		@ frame_needed = 0, uses_anonymous_args = 0
 2316              		.loc 1 610 1 is_stmt 0 view .LVU597
 2317 0000 70B5     		push	{r4, r5, r6, lr}
 2318              	.LCFI23:
 2319              		.cfi_def_cfa_offset 16
 2320              		.cfi_offset 4, -16
 2321              		.cfi_offset 5, -12
 2322              		.cfi_offset 6, -8
 2323              		.cfi_offset 14, -4
 2324 0002 0546     		mov	r5, r0
 2325 0004 0C46     		mov	r4, r1
 611:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2326              		.loc 1 611 2 is_stmt 1 view .LVU598
 2327              		.loc 1 611 8 is_stmt 0 view .LVU599
 2328 0006 02E0     		b	.L170
 2329              	.LVL253:
 2330              	.L171:
 612:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 2331              		.loc 1 612 3 is_stmt 1 view .LVU600
 2332 0008 0120     		movs	r0, #1
 2333 000a FFF7FEFF 		bl	HAL_Delay
 2334              	.LVL254:
 2335              	.L170:
 611:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
ARM GAS  /tmp/ccmQGMh6.s 			page 55


 2336              		.loc 1 611 8 view .LVU601
 611:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2337              		.loc 1 611 15 is_stmt 0 view .LVU602
 2338 000e 1C4B     		ldr	r3, .L175
 2339 0010 93F82730 		ldrb	r3, [r3, #39]	@ zero_extendqisi2
 611:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2340              		.loc 1 611 8 view .LVU603
 2341 0014 012B     		cmp	r3, #1
 2342 0016 F7D0     		beq	.L171
 613:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 2343              		.loc 1 613 2 is_stmt 1 view .LVU604
 2344              		.loc 1 613 14 is_stmt 0 view .LVU605
 2345 0018 194E     		ldr	r6, .L175
 2346 001a 0123     		movs	r3, #1
 2347 001c 86F82730 		strb	r3, [r6, #39]
 614:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 615:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 616:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx WriteByte 0x%02X at address %d begin...", pBuffer, WriteAddr_inBytes);
 617:Drivers/w25qxx/w25qxx.c **** #endif
 618:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WaitForWriteEnd();
 2348              		.loc 1 618 2 is_stmt 1 view .LVU606
 2349 0020 FFF7FEFF 		bl	W25qxx_WaitForWriteEnd
 2350              	.LVL255:
 619:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WriteEnable();
 2351              		.loc 1 619 2 view .LVU607
 2352 0024 FFF7FEFF 		bl	W25qxx_WriteEnable
 2353              	.LVL256:
 620:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 2354              		.loc 1 620 2 view .LVU608
 2355 0028 0022     		movs	r2, #0
 2356 002a 1021     		movs	r1, #16
 2357 002c 1548     		ldr	r0, .L175+4
 2358 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2359              	.LVL257:
 621:Drivers/w25qxx/w25qxx.c **** 
 622:Drivers/w25qxx/w25qxx.c **** 	if (w25qxx.ID >= W25Q256)
 2360              		.loc 1 622 2 view .LVU609
 2361              		.loc 1 622 12 is_stmt 0 view .LVU610
 2362 0032 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 2363              		.loc 1 622 5 view .LVU611
 2364 0034 082B     		cmp	r3, #8
 2365 0036 1FD9     		bls	.L172
 623:Drivers/w25qxx/w25qxx.c **** 	{
 624:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x12);
 2366              		.loc 1 624 3 is_stmt 1 view .LVU612
 2367 0038 1220     		movs	r0, #18
 2368 003a FFF7FEFF 		bl	W25qxx_Spi
 2369              	.LVL258:
 625:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((WriteAddr_inBytes & 0xFF000000) >> 24);
 2370              		.loc 1 625 3 view .LVU613
 2371 003e 200E     		lsrs	r0, r4, #24
 2372 0040 FFF7FEFF 		bl	W25qxx_Spi
 2373              	.LVL259:
 2374              	.L173:
 626:Drivers/w25qxx/w25qxx.c **** 	}
 627:Drivers/w25qxx/w25qxx.c **** 	else
 628:Drivers/w25qxx/w25qxx.c **** 	{
ARM GAS  /tmp/ccmQGMh6.s 			page 56


 629:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x02);
 630:Drivers/w25qxx/w25qxx.c **** 	}
 631:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((WriteAddr_inBytes & 0xFF0000) >> 16);
 2375              		.loc 1 631 2 view .LVU614
 2376 0044 C4F30740 		ubfx	r0, r4, #16, #8
 2377 0048 FFF7FEFF 		bl	W25qxx_Spi
 2378              	.LVL260:
 632:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((WriteAddr_inBytes & 0xFF00) >> 8);
 2379              		.loc 1 632 2 view .LVU615
 2380 004c C4F30720 		ubfx	r0, r4, #8, #8
 2381 0050 FFF7FEFF 		bl	W25qxx_Spi
 2382              	.LVL261:
 633:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(WriteAddr_inBytes & 0xFF);
 2383              		.loc 1 633 2 view .LVU616
 2384 0054 E0B2     		uxtb	r0, r4
 2385 0056 FFF7FEFF 		bl	W25qxx_Spi
 2386              	.LVL262:
 634:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(pBuffer);
 2387              		.loc 1 634 2 view .LVU617
 2388 005a 2846     		mov	r0, r5
 2389 005c FFF7FEFF 		bl	W25qxx_Spi
 2390              	.LVL263:
 635:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 2391              		.loc 1 635 2 view .LVU618
 2392 0060 0122     		movs	r2, #1
 2393 0062 1021     		movs	r1, #16
 2394 0064 0748     		ldr	r0, .L175+4
 2395 0066 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2396              	.LVL264:
 636:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WaitForWriteEnd();
 2397              		.loc 1 636 2 view .LVU619
 2398 006a FFF7FEFF 		bl	W25qxx_WaitForWriteEnd
 2399              	.LVL265:
 637:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 638:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx WriteByte done after %d ms\r\n", HAL_GetTick() - StartTime);
 639:Drivers/w25qxx/w25qxx.c **** #endif
 640:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 2400              		.loc 1 640 2 view .LVU620
 2401              		.loc 1 640 14 is_stmt 0 view .LVU621
 2402 006e 044B     		ldr	r3, .L175
 2403 0070 0022     		movs	r2, #0
 2404 0072 83F82720 		strb	r2, [r3, #39]
 641:Drivers/w25qxx/w25qxx.c **** }
 2405              		.loc 1 641 1 view .LVU622
 2406 0076 70BD     		pop	{r4, r5, r6, pc}
 2407              	.LVL266:
 2408              	.L172:
 629:Drivers/w25qxx/w25qxx.c **** 	}
 2409              		.loc 1 629 3 is_stmt 1 view .LVU623
 2410 0078 0220     		movs	r0, #2
 2411 007a FFF7FEFF 		bl	W25qxx_Spi
 2412              	.LVL267:
 2413 007e E1E7     		b	.L173
 2414              	.L176:
 2415              		.align	2
 2416              	.L175:
 2417 0080 00000000 		.word	.LANCHOR0
ARM GAS  /tmp/ccmQGMh6.s 			page 57


 2418 0084 00000240 		.word	1073872896
 2419              		.cfi_endproc
 2420              	.LFE150:
 2422              		.section	.text.W25qxx_WritePage,"ax",%progbits
 2423              		.align	1
 2424              		.global	W25qxx_WritePage
 2425              		.syntax unified
 2426              		.thumb
 2427              		.thumb_func
 2429              	W25qxx_WritePage:
 2430              	.LVL268:
 2431              	.LFB151:
 642:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 643:Drivers/w25qxx/w25qxx.c **** void W25qxx_WritePage(uint8_t *pBuffer, uint32_t Page_Address, uint32_t OffsetInByte, uint32_t NumB
 644:Drivers/w25qxx/w25qxx.c **** {
 2432              		.loc 1 644 1 view -0
 2433              		.cfi_startproc
 2434              		@ args = 0, pretend = 0, frame = 0
 2435              		@ frame_needed = 0, uses_anonymous_args = 0
 2436              		.loc 1 644 1 is_stmt 0 view .LVU625
 2437 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2438              	.LCFI24:
 2439              		.cfi_def_cfa_offset 24
 2440              		.cfi_offset 4, -24
 2441              		.cfi_offset 5, -20
 2442              		.cfi_offset 6, -16
 2443              		.cfi_offset 7, -12
 2444              		.cfi_offset 8, -8
 2445              		.cfi_offset 14, -4
 2446 0004 0746     		mov	r7, r0
 2447 0006 8846     		mov	r8, r1
 2448 0008 1546     		mov	r5, r2
 2449 000a 1E46     		mov	r6, r3
 645:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2450              		.loc 1 645 2 is_stmt 1 view .LVU626
 2451              		.loc 1 645 8 is_stmt 0 view .LVU627
 2452 000c 02E0     		b	.L178
 2453              	.LVL269:
 2454              	.L179:
 646:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 2455              		.loc 1 646 3 is_stmt 1 view .LVU628
 2456 000e 0120     		movs	r0, #1
 2457 0010 FFF7FEFF 		bl	HAL_Delay
 2458              	.LVL270:
 2459              	.L178:
 645:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2460              		.loc 1 645 8 view .LVU629
 645:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2461              		.loc 1 645 15 is_stmt 0 view .LVU630
 2462 0014 264C     		ldr	r4, .L186
 2463 0016 94F827C0 		ldrb	ip, [r4, #39]	@ zero_extendqisi2
 645:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2464              		.loc 1 645 8 view .LVU631
 2465 001a BCF1010F 		cmp	ip, #1
 2466 001e F6D0     		beq	.L179
 647:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 2467              		.loc 1 647 2 is_stmt 1 view .LVU632
ARM GAS  /tmp/ccmQGMh6.s 			page 58


 2468              		.loc 1 647 14 is_stmt 0 view .LVU633
 2469 0020 0122     		movs	r2, #1
 2470 0022 84F82720 		strb	r2, [r4, #39]
 648:Drivers/w25qxx/w25qxx.c **** 	if (((NumByteToWrite_up_to_PageSize + OffsetInByte) > w25qxx.PageSize) || (NumByteToWrite_up_to_Pa
 2471              		.loc 1 648 2 is_stmt 1 view .LVU634
 2472              		.loc 1 648 38 is_stmt 0 view .LVU635
 2473 0026 7219     		adds	r2, r6, r5
 2474              		.loc 1 648 62 view .LVU636
 2475 0028 6389     		ldrh	r3, [r4, #10]
 2476              		.loc 1 648 5 view .LVU637
 2477 002a 9A42     		cmp	r2, r3
 2478 002c 00D8     		bhi	.L180
 2479              		.loc 1 648 73 discriminator 1 view .LVU638
 2480 002e 06B9     		cbnz	r6, .L181
 2481              	.L180:
 649:Drivers/w25qxx/w25qxx.c **** 		NumByteToWrite_up_to_PageSize = w25qxx.PageSize - OffsetInByte;
 2482              		.loc 1 649 3 is_stmt 1 view .LVU639
 2483              		.loc 1 649 33 is_stmt 0 view .LVU640
 2484 0030 5E1B     		subs	r6, r3, r5
 2485              	.LVL271:
 2486              	.L181:
 650:Drivers/w25qxx/w25qxx.c **** 	if ((OffsetInByte + NumByteToWrite_up_to_PageSize) > w25qxx.PageSize)
 2487              		.loc 1 650 2 is_stmt 1 view .LVU641
 2488              		.loc 1 650 20 is_stmt 0 view .LVU642
 2489 0032 7219     		adds	r2, r6, r5
 2490              		.loc 1 650 5 view .LVU643
 2491 0034 9342     		cmp	r3, r2
 2492 0036 00D2     		bcs	.L182
 651:Drivers/w25qxx/w25qxx.c **** 		NumByteToWrite_up_to_PageSize = w25qxx.PageSize - OffsetInByte;
 2493              		.loc 1 651 3 is_stmt 1 view .LVU644
 2494              		.loc 1 651 33 is_stmt 0 view .LVU645
 2495 0038 5E1B     		subs	r6, r3, r5
 2496              	.LVL272:
 2497              	.L182:
 652:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 653:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx WritePage:%d, Offset:%d ,Writes %d Bytes, begin...\r\n", Page_Address, OffsetInByte
 654:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 655:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 656:Drivers/w25qxx/w25qxx.c **** #endif
 657:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WaitForWriteEnd();
 2498              		.loc 1 657 2 is_stmt 1 view .LVU646
 2499 003a FFF7FEFF 		bl	W25qxx_WaitForWriteEnd
 2500              	.LVL273:
 658:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WriteEnable();
 2501              		.loc 1 658 2 view .LVU647
 2502 003e FFF7FEFF 		bl	W25qxx_WriteEnable
 2503              	.LVL274:
 659:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 2504              		.loc 1 659 2 view .LVU648
 2505 0042 0022     		movs	r2, #0
 2506 0044 1021     		movs	r1, #16
 2507 0046 1B48     		ldr	r0, .L186+4
 2508 0048 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2509              	.LVL275:
 660:Drivers/w25qxx/w25qxx.c **** 	Page_Address = (Page_Address * w25qxx.PageSize) + OffsetInByte;
 2510              		.loc 1 660 2 view .LVU649
 2511              		.loc 1 660 39 is_stmt 0 view .LVU650
ARM GAS  /tmp/ccmQGMh6.s 			page 59


 2512 004c 184B     		ldr	r3, .L186
 2513 004e 5A89     		ldrh	r2, [r3, #10]
 2514              		.loc 1 660 15 view .LVU651
 2515 0050 08FB0255 		mla	r5, r8, r2, r5
 2516              	.LVL276:
 661:Drivers/w25qxx/w25qxx.c **** 	if (w25qxx.ID >= W25Q256)
 2517              		.loc 1 661 2 is_stmt 1 view .LVU652
 2518              		.loc 1 661 12 is_stmt 0 view .LVU653
 2519 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2520              		.loc 1 661 5 view .LVU654
 2521 0056 082B     		cmp	r3, #8
 2522 0058 26D9     		bls	.L183
 662:Drivers/w25qxx/w25qxx.c **** 	{
 663:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x12);
 2523              		.loc 1 663 3 is_stmt 1 view .LVU655
 2524 005a 1220     		movs	r0, #18
 2525 005c FFF7FEFF 		bl	W25qxx_Spi
 2526              	.LVL277:
 664:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((Page_Address & 0xFF000000) >> 24);
 2527              		.loc 1 664 3 view .LVU656
 2528 0060 280E     		lsrs	r0, r5, #24
 2529 0062 FFF7FEFF 		bl	W25qxx_Spi
 2530              	.LVL278:
 2531              	.L184:
 665:Drivers/w25qxx/w25qxx.c **** 	}
 666:Drivers/w25qxx/w25qxx.c **** 	else
 667:Drivers/w25qxx/w25qxx.c **** 	{
 668:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x02);
 669:Drivers/w25qxx/w25qxx.c **** 	}
 670:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((Page_Address & 0xFF0000) >> 16);
 2532              		.loc 1 670 2 view .LVU657
 2533 0066 C5F30740 		ubfx	r0, r5, #16, #8
 2534 006a FFF7FEFF 		bl	W25qxx_Spi
 2535              	.LVL279:
 671:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((Page_Address & 0xFF00) >> 8);
 2536              		.loc 1 671 2 view .LVU658
 2537 006e C5F30720 		ubfx	r0, r5, #8, #8
 2538 0072 FFF7FEFF 		bl	W25qxx_Spi
 2539              	.LVL280:
 672:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(Page_Address & 0xFF);
 2540              		.loc 1 672 2 view .LVU659
 2541 0076 E8B2     		uxtb	r0, r5
 2542 0078 FFF7FEFF 		bl	W25qxx_Spi
 2543              	.LVL281:
 673:Drivers/w25qxx/w25qxx.c **** 	HAL_SPI_Transmit(&_W25QXX_SPI, pBuffer, NumByteToWrite_up_to_PageSize, 100);
 2544              		.loc 1 673 2 view .LVU660
 2545 007c 6423     		movs	r3, #100
 2546 007e B2B2     		uxth	r2, r6
 2547 0080 3946     		mov	r1, r7
 2548 0082 0D48     		ldr	r0, .L186+8
 2549 0084 FFF7FEFF 		bl	HAL_SPI_Transmit
 2550              	.LVL282:
 674:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 2551              		.loc 1 674 2 view .LVU661
 2552 0088 0122     		movs	r2, #1
 2553 008a 1021     		movs	r1, #16
 2554 008c 0948     		ldr	r0, .L186+4
ARM GAS  /tmp/ccmQGMh6.s 			page 60


 2555 008e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2556              	.LVL283:
 675:Drivers/w25qxx/w25qxx.c **** 	W25qxx_WaitForWriteEnd();
 2557              		.loc 1 675 2 view .LVU662
 2558 0092 FFF7FEFF 		bl	W25qxx_WaitForWriteEnd
 2559              	.LVL284:
 676:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 677:Drivers/w25qxx/w25qxx.c **** 	StartTime = HAL_GetTick() - StartTime;
 678:Drivers/w25qxx/w25qxx.c **** 	for (uint32_t i = 0; i < NumByteToWrite_up_to_PageSize; i++)
 679:Drivers/w25qxx/w25qxx.c **** 	{
 680:Drivers/w25qxx/w25qxx.c **** 		if ((i % 8 == 0) && (i > 2))
 681:Drivers/w25qxx/w25qxx.c **** 		{
 682:Drivers/w25qxx/w25qxx.c **** 			printf("\r\n");
 683:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Delay(10);
 684:Drivers/w25qxx/w25qxx.c **** 		}
 685:Drivers/w25qxx/w25qxx.c **** 		printf("0x%02X,", pBuffer[i]);
 686:Drivers/w25qxx/w25qxx.c **** 	}
 687:Drivers/w25qxx/w25qxx.c **** 	printf("\r\n");
 688:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx WritePage done after %d ms\r\n", StartTime);
 689:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 690:Drivers/w25qxx/w25qxx.c **** #endif
 691:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(1);
 2560              		.loc 1 691 2 view .LVU663
 2561 0096 0120     		movs	r0, #1
 2562 0098 FFF7FEFF 		bl	HAL_Delay
 2563              	.LVL285:
 692:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 2564              		.loc 1 692 2 view .LVU664
 2565              		.loc 1 692 14 is_stmt 0 view .LVU665
 2566 009c 044B     		ldr	r3, .L186
 2567 009e 0022     		movs	r2, #0
 2568 00a0 83F82720 		strb	r2, [r3, #39]
 693:Drivers/w25qxx/w25qxx.c **** }
 2569              		.loc 1 693 1 view .LVU666
 2570 00a4 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2571              	.LVL286:
 2572              	.L183:
 668:Drivers/w25qxx/w25qxx.c **** 	}
 2573              		.loc 1 668 3 is_stmt 1 view .LVU667
 2574 00a8 0220     		movs	r0, #2
 2575 00aa FFF7FEFF 		bl	W25qxx_Spi
 2576              	.LVL287:
 2577 00ae DAE7     		b	.L184
 2578              	.L187:
 2579              		.align	2
 2580              	.L186:
 2581 00b0 00000000 		.word	.LANCHOR0
 2582 00b4 00000240 		.word	1073872896
 2583 00b8 00000000 		.word	hspi1
 2584              		.cfi_endproc
 2585              	.LFE151:
 2587              		.section	.text.W25qxx_WriteSector,"ax",%progbits
 2588              		.align	1
 2589              		.global	W25qxx_WriteSector
 2590              		.syntax unified
 2591              		.thumb
 2592              		.thumb_func
ARM GAS  /tmp/ccmQGMh6.s 			page 61


 2594              	W25qxx_WriteSector:
 2595              	.LVL288:
 2596              	.LFB152:
 694:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 695:Drivers/w25qxx/w25qxx.c **** void W25qxx_WriteSector(uint8_t *pBuffer, uint32_t Sector_Address, uint32_t OffsetInByte, uint32_t 
 696:Drivers/w25qxx/w25qxx.c **** {
 2597              		.loc 1 696 1 view -0
 2598              		.cfi_startproc
 2599              		@ args = 0, pretend = 0, frame = 0
 2600              		@ frame_needed = 0, uses_anonymous_args = 0
 2601              		.loc 1 696 1 is_stmt 0 view .LVU669
 2602 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2603              	.LCFI25:
 2604              		.cfi_def_cfa_offset 24
 2605              		.cfi_offset 3, -24
 2606              		.cfi_offset 4, -20
 2607              		.cfi_offset 5, -16
 2608              		.cfi_offset 6, -12
 2609              		.cfi_offset 7, -8
 2610              		.cfi_offset 14, -4
 2611 0002 0646     		mov	r6, r0
 2612 0004 0846     		mov	r0, r1
 2613              	.LVL289:
 2614              		.loc 1 696 1 view .LVU670
 2615 0006 1446     		mov	r4, r2
 697:Drivers/w25qxx/w25qxx.c **** 	if ((NumByteToWrite_up_to_SectorSize > w25qxx.SectorSize) || (NumByteToWrite_up_to_SectorSize == 0
 2616              		.loc 1 697 2 is_stmt 1 view .LVU671
 2617              		.loc 1 697 47 is_stmt 0 view .LVU672
 2618 0008 144A     		ldr	r2, .L197
 2619              	.LVL290:
 2620              		.loc 1 697 47 view .LVU673
 2621 000a 1569     		ldr	r5, [r2, #16]
 2622              		.loc 1 697 5 view .LVU674
 2623 000c 9D42     		cmp	r5, r3
 2624 000e 02D3     		bcc	.L194
 2625              		.loc 1 697 60 discriminator 1 view .LVU675
 2626 0010 13B9     		cbnz	r3, .L189
 698:Drivers/w25qxx/w25qxx.c **** 		NumByteToWrite_up_to_SectorSize = w25qxx.SectorSize;
 2627              		.loc 1 698 35 view .LVU676
 2628 0012 2B46     		mov	r3, r5
 2629              	.LVL291:
 2630              		.loc 1 698 35 view .LVU677
 2631 0014 00E0     		b	.L189
 2632              	.LVL292:
 2633              	.L194:
 2634              		.loc 1 698 35 view .LVU678
 2635 0016 2B46     		mov	r3, r5
 2636              	.LVL293:
 2637              	.L189:
 699:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 700:Drivers/w25qxx/w25qxx.c **** 	printf("+++w25qxx WriteSector:%d, Offset:%d ,Write %d Bytes, begin...\r\n", Sector_Address, Offset
 701:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 702:Drivers/w25qxx/w25qxx.c **** #endif
 703:Drivers/w25qxx/w25qxx.c **** 	if (OffsetInByte >= w25qxx.SectorSize)
 2638              		.loc 1 703 2 is_stmt 1 view .LVU679
 2639              		.loc 1 703 5 is_stmt 0 view .LVU680
 2640 0018 A542     		cmp	r5, r4
ARM GAS  /tmp/ccmQGMh6.s 			page 62


 2641 001a 1CD9     		bls	.L188
 704:Drivers/w25qxx/w25qxx.c **** 	{
 705:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 706:Drivers/w25qxx/w25qxx.c **** 		printf("---w25qxx WriteSector Faild!\r\n");
 707:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(100);
 708:Drivers/w25qxx/w25qxx.c **** #endif
 709:Drivers/w25qxx/w25qxx.c **** 		return;
 710:Drivers/w25qxx/w25qxx.c **** 	}
 711:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartPage;
 2642              		.loc 1 711 2 is_stmt 1 view .LVU681
 712:Drivers/w25qxx/w25qxx.c **** 	int32_t BytesToWrite;
 2643              		.loc 1 712 2 view .LVU682
 713:Drivers/w25qxx/w25qxx.c **** 	uint32_t LocalOffset;
 2644              		.loc 1 713 2 view .LVU683
 714:Drivers/w25qxx/w25qxx.c **** 	if ((OffsetInByte + NumByteToWrite_up_to_SectorSize) > w25qxx.SectorSize)
 2645              		.loc 1 714 2 view .LVU684
 2646              		.loc 1 714 20 is_stmt 0 view .LVU685
 2647 001c 1A19     		adds	r2, r3, r4
 2648              		.loc 1 714 5 view .LVU686
 2649 001e 9542     		cmp	r5, r2
 2650 0020 1AD2     		bcs	.L191
 715:Drivers/w25qxx/w25qxx.c **** 		BytesToWrite = w25qxx.SectorSize - OffsetInByte;
 2651              		.loc 1 715 3 is_stmt 1 view .LVU687
 2652              		.loc 1 715 36 is_stmt 0 view .LVU688
 2653 0022 2D1B     		subs	r5, r5, r4
 2654              	.LVL294:
 2655              	.L192:
 716:Drivers/w25qxx/w25qxx.c **** 	else
 717:Drivers/w25qxx/w25qxx.c **** 		BytesToWrite = NumByteToWrite_up_to_SectorSize;
 718:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_SectorToPage(Sector_Address) + (OffsetInByte / w25qxx.PageSize);
 2656              		.loc 1 718 2 is_stmt 1 view .LVU689
 2657              		.loc 1 718 14 is_stmt 0 view .LVU690
 2658 0024 FFF7FEFF 		bl	W25qxx_SectorToPage
 2659              	.LVL295:
 2660              		.loc 1 718 74 view .LVU691
 2661 0028 0C4B     		ldr	r3, .L197
 2662 002a 5A89     		ldrh	r2, [r3, #10]
 2663              		.loc 1 718 66 view .LVU692
 2664 002c B4FBF2F3 		udiv	r3, r4, r2
 2665              		.loc 1 718 12 view .LVU693
 2666 0030 C718     		adds	r7, r0, r3
 2667              	.LVL296:
 719:Drivers/w25qxx/w25qxx.c **** 	LocalOffset = OffsetInByte % w25qxx.PageSize;
 2668              		.loc 1 719 2 is_stmt 1 view .LVU694
 2669              		.loc 1 719 14 is_stmt 0 view .LVU695
 2670 0032 02FB1344 		mls	r4, r2, r3, r4
 2671              	.LVL297:
 2672              	.L193:
 720:Drivers/w25qxx/w25qxx.c **** 	do
 2673              		.loc 1 720 2 is_stmt 1 discriminator 1 view .LVU696
 721:Drivers/w25qxx/w25qxx.c **** 	{
 722:Drivers/w25qxx/w25qxx.c **** 		W25qxx_WritePage(pBuffer, StartPage, LocalOffset, BytesToWrite);
 2674              		.loc 1 722 3 discriminator 1 view .LVU697
 2675 0036 2B46     		mov	r3, r5
 2676 0038 2246     		mov	r2, r4
 2677 003a 3946     		mov	r1, r7
 2678 003c 3046     		mov	r0, r6
ARM GAS  /tmp/ccmQGMh6.s 			page 63


 2679 003e FFF7FEFF 		bl	W25qxx_WritePage
 2680              	.LVL298:
 723:Drivers/w25qxx/w25qxx.c **** 		StartPage++;
 2681              		.loc 1 723 3 discriminator 1 view .LVU698
 2682              		.loc 1 723 12 is_stmt 0 discriminator 1 view .LVU699
 2683 0042 0137     		adds	r7, r7, #1
 2684              	.LVL299:
 724:Drivers/w25qxx/w25qxx.c **** 		BytesToWrite -= w25qxx.PageSize - LocalOffset;
 2685              		.loc 1 724 3 is_stmt 1 discriminator 1 view .LVU700
 2686              		.loc 1 724 25 is_stmt 0 discriminator 1 view .LVU701
 2687 0044 054B     		ldr	r3, .L197
 2688 0046 5B89     		ldrh	r3, [r3, #10]
 2689              		.loc 1 724 16 discriminator 1 view .LVU702
 2690 0048 E21A     		subs	r2, r4, r3
 2691 004a 1544     		add	r5, r5, r2
 2692              	.LVL300:
 725:Drivers/w25qxx/w25qxx.c **** 		pBuffer += w25qxx.PageSize - LocalOffset;
 2693              		.loc 1 725 3 is_stmt 1 discriminator 1 view .LVU703
 2694              		.loc 1 725 30 is_stmt 0 discriminator 1 view .LVU704
 2695 004c 1B1B     		subs	r3, r3, r4
 2696              		.loc 1 725 11 discriminator 1 view .LVU705
 2697 004e 1E44     		add	r6, r6, r3
 2698              	.LVL301:
 726:Drivers/w25qxx/w25qxx.c **** 		LocalOffset = 0;
 2699              		.loc 1 726 3 is_stmt 1 discriminator 1 view .LVU706
 727:Drivers/w25qxx/w25qxx.c **** 	} while (BytesToWrite > 0);
 2700              		.loc 1 727 10 discriminator 1 view .LVU707
 726:Drivers/w25qxx/w25qxx.c **** 		LocalOffset = 0;
 2701              		.loc 1 726 15 is_stmt 0 discriminator 1 view .LVU708
 2702 0050 0024     		movs	r4, #0
 2703              		.loc 1 727 2 discriminator 1 view .LVU709
 2704 0052 A542     		cmp	r5, r4
 2705 0054 EFDC     		bgt	.L193
 2706              	.LVL302:
 2707              	.L188:
 728:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 729:Drivers/w25qxx/w25qxx.c **** 	printf("---w25qxx WriteSector Done\r\n");
 730:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 731:Drivers/w25qxx/w25qxx.c **** #endif
 732:Drivers/w25qxx/w25qxx.c **** }
 2708              		.loc 1 732 1 view .LVU710
 2709 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2710              	.LVL303:
 2711              	.L191:
 717:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_SectorToPage(Sector_Address) + (OffsetInByte / w25qxx.PageSize);
 2712              		.loc 1 717 3 is_stmt 1 view .LVU711
 717:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_SectorToPage(Sector_Address) + (OffsetInByte / w25qxx.PageSize);
 2713              		.loc 1 717 16 is_stmt 0 view .LVU712
 2714 0058 1D46     		mov	r5, r3
 2715              	.LVL304:
 717:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_SectorToPage(Sector_Address) + (OffsetInByte / w25qxx.PageSize);
 2716              		.loc 1 717 16 view .LVU713
 2717 005a E3E7     		b	.L192
 2718              	.L198:
 2719              		.align	2
 2720              	.L197:
 2721 005c 00000000 		.word	.LANCHOR0
ARM GAS  /tmp/ccmQGMh6.s 			page 64


 2722              		.cfi_endproc
 2723              	.LFE152:
 2725              		.section	.text.W25qxx_WriteBlock,"ax",%progbits
 2726              		.align	1
 2727              		.global	W25qxx_WriteBlock
 2728              		.syntax unified
 2729              		.thumb
 2730              		.thumb_func
 2732              	W25qxx_WriteBlock:
 2733              	.LVL305:
 2734              	.LFB153:
 733:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 734:Drivers/w25qxx/w25qxx.c **** void W25qxx_WriteBlock(uint8_t *pBuffer, uint32_t Block_Address, uint32_t OffsetInByte, uint32_t Nu
 735:Drivers/w25qxx/w25qxx.c **** {
 2735              		.loc 1 735 1 is_stmt 1 view -0
 2736              		.cfi_startproc
 2737              		@ args = 0, pretend = 0, frame = 0
 2738              		@ frame_needed = 0, uses_anonymous_args = 0
 2739              		.loc 1 735 1 is_stmt 0 view .LVU715
 2740 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2741              	.LCFI26:
 2742              		.cfi_def_cfa_offset 24
 2743              		.cfi_offset 3, -24
 2744              		.cfi_offset 4, -20
 2745              		.cfi_offset 5, -16
 2746              		.cfi_offset 6, -12
 2747              		.cfi_offset 7, -8
 2748              		.cfi_offset 14, -4
 2749 0002 0646     		mov	r6, r0
 2750 0004 0846     		mov	r0, r1
 2751              	.LVL306:
 2752              		.loc 1 735 1 view .LVU716
 2753 0006 1446     		mov	r4, r2
 736:Drivers/w25qxx/w25qxx.c **** 	if ((NumByteToWrite_up_to_BlockSize > w25qxx.BlockSize) || (NumByteToWrite_up_to_BlockSize == 0))
 2754              		.loc 1 736 2 is_stmt 1 view .LVU717
 2755              		.loc 1 736 46 is_stmt 0 view .LVU718
 2756 0008 144A     		ldr	r2, .L208
 2757              	.LVL307:
 2758              		.loc 1 736 46 view .LVU719
 2759 000a 9569     		ldr	r5, [r2, #24]
 2760              		.loc 1 736 5 view .LVU720
 2761 000c 9D42     		cmp	r5, r3
 2762 000e 02D3     		bcc	.L205
 2763              		.loc 1 736 58 discriminator 1 view .LVU721
 2764 0010 13B9     		cbnz	r3, .L200
 737:Drivers/w25qxx/w25qxx.c **** 		NumByteToWrite_up_to_BlockSize = w25qxx.BlockSize;
 2765              		.loc 1 737 34 view .LVU722
 2766 0012 2B46     		mov	r3, r5
 2767              	.LVL308:
 2768              		.loc 1 737 34 view .LVU723
 2769 0014 00E0     		b	.L200
 2770              	.LVL309:
 2771              	.L205:
 2772              		.loc 1 737 34 view .LVU724
 2773 0016 2B46     		mov	r3, r5
 2774              	.LVL310:
 2775              	.L200:
ARM GAS  /tmp/ccmQGMh6.s 			page 65


 738:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 739:Drivers/w25qxx/w25qxx.c **** 	printf("+++w25qxx WriteBlock:%d, Offset:%d ,Write %d Bytes, begin...\r\n", Block_Address, OffsetIn
 740:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 741:Drivers/w25qxx/w25qxx.c **** #endif
 742:Drivers/w25qxx/w25qxx.c **** 	if (OffsetInByte >= w25qxx.BlockSize)
 2776              		.loc 1 742 2 is_stmt 1 view .LVU725
 2777              		.loc 1 742 5 is_stmt 0 view .LVU726
 2778 0018 A542     		cmp	r5, r4
 2779 001a 1CD9     		bls	.L199
 743:Drivers/w25qxx/w25qxx.c **** 	{
 744:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 745:Drivers/w25qxx/w25qxx.c **** 		printf("---w25qxx WriteBlock Faild!\r\n");
 746:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(100);
 747:Drivers/w25qxx/w25qxx.c **** #endif
 748:Drivers/w25qxx/w25qxx.c **** 		return;
 749:Drivers/w25qxx/w25qxx.c **** 	}
 750:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartPage;
 2780              		.loc 1 750 2 is_stmt 1 view .LVU727
 751:Drivers/w25qxx/w25qxx.c **** 	int32_t BytesToWrite;
 2781              		.loc 1 751 2 view .LVU728
 752:Drivers/w25qxx/w25qxx.c **** 	uint32_t LocalOffset;
 2782              		.loc 1 752 2 view .LVU729
 753:Drivers/w25qxx/w25qxx.c **** 	if ((OffsetInByte + NumByteToWrite_up_to_BlockSize) > w25qxx.BlockSize)
 2783              		.loc 1 753 2 view .LVU730
 2784              		.loc 1 753 20 is_stmt 0 view .LVU731
 2785 001c 1A19     		adds	r2, r3, r4
 2786              		.loc 1 753 5 view .LVU732
 2787 001e 9542     		cmp	r5, r2
 2788 0020 1AD2     		bcs	.L202
 754:Drivers/w25qxx/w25qxx.c **** 		BytesToWrite = w25qxx.BlockSize - OffsetInByte;
 2789              		.loc 1 754 3 is_stmt 1 view .LVU733
 2790              		.loc 1 754 35 is_stmt 0 view .LVU734
 2791 0022 2D1B     		subs	r5, r5, r4
 2792              	.LVL311:
 2793              	.L203:
 755:Drivers/w25qxx/w25qxx.c **** 	else
 756:Drivers/w25qxx/w25qxx.c **** 		BytesToWrite = NumByteToWrite_up_to_BlockSize;
 757:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_BlockToPage(Block_Address) + (OffsetInByte / w25qxx.PageSize);
 2794              		.loc 1 757 2 is_stmt 1 view .LVU735
 2795              		.loc 1 757 14 is_stmt 0 view .LVU736
 2796 0024 FFF7FEFF 		bl	W25qxx_BlockToPage
 2797              	.LVL312:
 2798              		.loc 1 757 72 view .LVU737
 2799 0028 0C4B     		ldr	r3, .L208
 2800 002a 5A89     		ldrh	r2, [r3, #10]
 2801              		.loc 1 757 64 view .LVU738
 2802 002c B4FBF2F3 		udiv	r3, r4, r2
 2803              		.loc 1 757 12 view .LVU739
 2804 0030 C718     		adds	r7, r0, r3
 2805              	.LVL313:
 758:Drivers/w25qxx/w25qxx.c **** 	LocalOffset = OffsetInByte % w25qxx.PageSize;
 2806              		.loc 1 758 2 is_stmt 1 view .LVU740
 2807              		.loc 1 758 14 is_stmt 0 view .LVU741
 2808 0032 02FB1344 		mls	r4, r2, r3, r4
 2809              	.LVL314:
 2810              	.L204:
 759:Drivers/w25qxx/w25qxx.c **** 	do
ARM GAS  /tmp/ccmQGMh6.s 			page 66


 2811              		.loc 1 759 2 is_stmt 1 discriminator 1 view .LVU742
 760:Drivers/w25qxx/w25qxx.c **** 	{
 761:Drivers/w25qxx/w25qxx.c **** 		W25qxx_WritePage(pBuffer, StartPage, LocalOffset, BytesToWrite);
 2812              		.loc 1 761 3 discriminator 1 view .LVU743
 2813 0036 2B46     		mov	r3, r5
 2814 0038 2246     		mov	r2, r4
 2815 003a 3946     		mov	r1, r7
 2816 003c 3046     		mov	r0, r6
 2817 003e FFF7FEFF 		bl	W25qxx_WritePage
 2818              	.LVL315:
 762:Drivers/w25qxx/w25qxx.c **** 		StartPage++;
 2819              		.loc 1 762 3 discriminator 1 view .LVU744
 2820              		.loc 1 762 12 is_stmt 0 discriminator 1 view .LVU745
 2821 0042 0137     		adds	r7, r7, #1
 2822              	.LVL316:
 763:Drivers/w25qxx/w25qxx.c **** 		BytesToWrite -= w25qxx.PageSize - LocalOffset;
 2823              		.loc 1 763 3 is_stmt 1 discriminator 1 view .LVU746
 2824              		.loc 1 763 25 is_stmt 0 discriminator 1 view .LVU747
 2825 0044 054B     		ldr	r3, .L208
 2826 0046 5B89     		ldrh	r3, [r3, #10]
 2827              		.loc 1 763 16 discriminator 1 view .LVU748
 2828 0048 E21A     		subs	r2, r4, r3
 2829 004a 1544     		add	r5, r5, r2
 2830              	.LVL317:
 764:Drivers/w25qxx/w25qxx.c **** 		pBuffer += w25qxx.PageSize - LocalOffset;
 2831              		.loc 1 764 3 is_stmt 1 discriminator 1 view .LVU749
 2832              		.loc 1 764 30 is_stmt 0 discriminator 1 view .LVU750
 2833 004c 1B1B     		subs	r3, r3, r4
 2834              		.loc 1 764 11 discriminator 1 view .LVU751
 2835 004e 1E44     		add	r6, r6, r3
 2836              	.LVL318:
 765:Drivers/w25qxx/w25qxx.c **** 		LocalOffset = 0;
 2837              		.loc 1 765 3 is_stmt 1 discriminator 1 view .LVU752
 766:Drivers/w25qxx/w25qxx.c **** 	} while (BytesToWrite > 0);
 2838              		.loc 1 766 10 discriminator 1 view .LVU753
 765:Drivers/w25qxx/w25qxx.c **** 		LocalOffset = 0;
 2839              		.loc 1 765 15 is_stmt 0 discriminator 1 view .LVU754
 2840 0050 0024     		movs	r4, #0
 2841              		.loc 1 766 2 discriminator 1 view .LVU755
 2842 0052 A542     		cmp	r5, r4
 2843 0054 EFDC     		bgt	.L204
 2844              	.LVL319:
 2845              	.L199:
 767:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 768:Drivers/w25qxx/w25qxx.c **** 	printf("---w25qxx WriteBlock Done\r\n");
 769:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 770:Drivers/w25qxx/w25qxx.c **** #endif
 771:Drivers/w25qxx/w25qxx.c **** }
 2846              		.loc 1 771 1 view .LVU756
 2847 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2848              	.LVL320:
 2849              	.L202:
 756:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_BlockToPage(Block_Address) + (OffsetInByte / w25qxx.PageSize);
 2850              		.loc 1 756 3 is_stmt 1 view .LVU757
 756:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_BlockToPage(Block_Address) + (OffsetInByte / w25qxx.PageSize);
 2851              		.loc 1 756 16 is_stmt 0 view .LVU758
 2852 0058 1D46     		mov	r5, r3
ARM GAS  /tmp/ccmQGMh6.s 			page 67


 2853              	.LVL321:
 756:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_BlockToPage(Block_Address) + (OffsetInByte / w25qxx.PageSize);
 2854              		.loc 1 756 16 view .LVU759
 2855 005a E3E7     		b	.L203
 2856              	.L209:
 2857              		.align	2
 2858              	.L208:
 2859 005c 00000000 		.word	.LANCHOR0
 2860              		.cfi_endproc
 2861              	.LFE153:
 2863              		.section	.text.W25qxx_ReadByte,"ax",%progbits
 2864              		.align	1
 2865              		.global	W25qxx_ReadByte
 2866              		.syntax unified
 2867              		.thumb
 2868              		.thumb_func
 2870              	W25qxx_ReadByte:
 2871              	.LVL322:
 2872              	.LFB154:
 772:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 773:Drivers/w25qxx/w25qxx.c **** void W25qxx_ReadByte(uint8_t *pBuffer, uint32_t Bytes_Address)
 774:Drivers/w25qxx/w25qxx.c **** {
 2873              		.loc 1 774 1 is_stmt 1 view -0
 2874              		.cfi_startproc
 2875              		@ args = 0, pretend = 0, frame = 0
 2876              		@ frame_needed = 0, uses_anonymous_args = 0
 2877              		.loc 1 774 1 is_stmt 0 view .LVU761
 2878 0000 70B5     		push	{r4, r5, r6, lr}
 2879              	.LCFI27:
 2880              		.cfi_def_cfa_offset 16
 2881              		.cfi_offset 4, -16
 2882              		.cfi_offset 5, -12
 2883              		.cfi_offset 6, -8
 2884              		.cfi_offset 14, -4
 2885 0002 0546     		mov	r5, r0
 2886 0004 0C46     		mov	r4, r1
 775:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2887              		.loc 1 775 2 is_stmt 1 view .LVU762
 2888              		.loc 1 775 8 is_stmt 0 view .LVU763
 2889 0006 02E0     		b	.L211
 2890              	.LVL323:
 2891              	.L212:
 776:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 2892              		.loc 1 776 3 is_stmt 1 view .LVU764
 2893 0008 0120     		movs	r0, #1
 2894 000a FFF7FEFF 		bl	HAL_Delay
 2895              	.LVL324:
 2896              	.L211:
 775:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2897              		.loc 1 775 8 view .LVU765
 775:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2898              		.loc 1 775 15 is_stmt 0 view .LVU766
 2899 000e 1B4B     		ldr	r3, .L216
 2900 0010 93F82730 		ldrb	r3, [r3, #39]	@ zero_extendqisi2
 775:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 2901              		.loc 1 775 8 view .LVU767
 2902 0014 012B     		cmp	r3, #1
ARM GAS  /tmp/ccmQGMh6.s 			page 68


 2903 0016 F7D0     		beq	.L212
 777:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 2904              		.loc 1 777 2 is_stmt 1 view .LVU768
 2905              		.loc 1 777 14 is_stmt 0 view .LVU769
 2906 0018 184E     		ldr	r6, .L216
 2907 001a 0123     		movs	r3, #1
 2908 001c 86F82730 		strb	r3, [r6, #39]
 778:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 779:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 780:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx ReadByte at address %d begin...\r\n", Bytes_Address);
 781:Drivers/w25qxx/w25qxx.c **** #endif
 782:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 2909              		.loc 1 782 2 is_stmt 1 view .LVU770
 2910 0020 0022     		movs	r2, #0
 2911 0022 1021     		movs	r1, #16
 2912 0024 1648     		ldr	r0, .L216+4
 2913 0026 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2914              	.LVL325:
 783:Drivers/w25qxx/w25qxx.c **** 
 784:Drivers/w25qxx/w25qxx.c **** 	if (w25qxx.ID >= W25Q256)
 2915              		.loc 1 784 2 view .LVU771
 2916              		.loc 1 784 12 is_stmt 0 view .LVU772
 2917 002a 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 2918              		.loc 1 784 5 view .LVU773
 2919 002c 082B     		cmp	r3, #8
 2920 002e 21D9     		bls	.L213
 785:Drivers/w25qxx/w25qxx.c **** 	{
 786:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x0C);
 2921              		.loc 1 786 3 is_stmt 1 view .LVU774
 2922 0030 0C20     		movs	r0, #12
 2923 0032 FFF7FEFF 		bl	W25qxx_Spi
 2924              	.LVL326:
 787:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((Bytes_Address & 0xFF000000) >> 24);
 2925              		.loc 1 787 3 view .LVU775
 2926 0036 200E     		lsrs	r0, r4, #24
 2927 0038 FFF7FEFF 		bl	W25qxx_Spi
 2928              	.LVL327:
 2929              	.L214:
 788:Drivers/w25qxx/w25qxx.c **** 	}
 789:Drivers/w25qxx/w25qxx.c **** 	else
 790:Drivers/w25qxx/w25qxx.c **** 	{
 791:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x0B);
 792:Drivers/w25qxx/w25qxx.c **** 	}
 793:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((Bytes_Address & 0xFF0000) >> 16);
 2930              		.loc 1 793 2 view .LVU776
 2931 003c C4F30740 		ubfx	r0, r4, #16, #8
 2932 0040 FFF7FEFF 		bl	W25qxx_Spi
 2933              	.LVL328:
 794:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((Bytes_Address & 0xFF00) >> 8);
 2934              		.loc 1 794 2 view .LVU777
 2935 0044 C4F30720 		ubfx	r0, r4, #8, #8
 2936 0048 FFF7FEFF 		bl	W25qxx_Spi
 2937              	.LVL329:
 795:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(Bytes_Address & 0xFF);
 2938              		.loc 1 795 2 view .LVU778
 2939 004c E0B2     		uxtb	r0, r4
 2940 004e FFF7FEFF 		bl	W25qxx_Spi
ARM GAS  /tmp/ccmQGMh6.s 			page 69


 2941              	.LVL330:
 796:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(0);
 2942              		.loc 1 796 2 view .LVU779
 2943 0052 0020     		movs	r0, #0
 2944 0054 FFF7FEFF 		bl	W25qxx_Spi
 2945              	.LVL331:
 797:Drivers/w25qxx/w25qxx.c **** 	*pBuffer = W25qxx_Spi(W25QXX_DUMMY_BYTE);
 2946              		.loc 1 797 2 view .LVU780
 2947              		.loc 1 797 13 is_stmt 0 view .LVU781
 2948 0058 A520     		movs	r0, #165
 2949 005a FFF7FEFF 		bl	W25qxx_Spi
 2950              	.LVL332:
 2951              		.loc 1 797 11 view .LVU782
 2952 005e 2870     		strb	r0, [r5]
 798:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 2953              		.loc 1 798 2 is_stmt 1 view .LVU783
 2954 0060 0122     		movs	r2, #1
 2955 0062 1021     		movs	r1, #16
 2956 0064 0648     		ldr	r0, .L216+4
 2957 0066 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2958              	.LVL333:
 799:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 800:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx ReadByte 0x%02X done after %d ms\r\n", *pBuffer, HAL_GetTick() - StartTime);
 801:Drivers/w25qxx/w25qxx.c **** #endif
 802:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 2959              		.loc 1 802 2 view .LVU784
 2960              		.loc 1 802 14 is_stmt 0 view .LVU785
 2961 006a 044B     		ldr	r3, .L216
 2962 006c 0022     		movs	r2, #0
 2963 006e 83F82720 		strb	r2, [r3, #39]
 803:Drivers/w25qxx/w25qxx.c **** }
 2964              		.loc 1 803 1 view .LVU786
 2965 0072 70BD     		pop	{r4, r5, r6, pc}
 2966              	.LVL334:
 2967              	.L213:
 791:Drivers/w25qxx/w25qxx.c **** 	}
 2968              		.loc 1 791 3 is_stmt 1 view .LVU787
 2969 0074 0B20     		movs	r0, #11
 2970 0076 FFF7FEFF 		bl	W25qxx_Spi
 2971              	.LVL335:
 2972 007a DFE7     		b	.L214
 2973              	.L217:
 2974              		.align	2
 2975              	.L216:
 2976 007c 00000000 		.word	.LANCHOR0
 2977 0080 00000240 		.word	1073872896
 2978              		.cfi_endproc
 2979              	.LFE154:
 2981              		.section	.text.W25qxx_ReadBytes,"ax",%progbits
 2982              		.align	1
 2983              		.global	W25qxx_ReadBytes
 2984              		.syntax unified
 2985              		.thumb
 2986              		.thumb_func
 2988              	W25qxx_ReadBytes:
 2989              	.LVL336:
 2990              	.LFB155:
ARM GAS  /tmp/ccmQGMh6.s 			page 70


 804:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 805:Drivers/w25qxx/w25qxx.c **** void W25qxx_ReadBytes(uint8_t *pBuffer, uint32_t ReadAddr, uint32_t NumByteToRead)
 806:Drivers/w25qxx/w25qxx.c **** {
 2991              		.loc 1 806 1 view -0
 2992              		.cfi_startproc
 2993              		@ args = 0, pretend = 0, frame = 0
 2994              		@ frame_needed = 0, uses_anonymous_args = 0
 2995              		.loc 1 806 1 is_stmt 0 view .LVU789
 2996 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2997              	.LCFI28:
 2998              		.cfi_def_cfa_offset 24
 2999              		.cfi_offset 3, -24
 3000              		.cfi_offset 4, -20
 3001              		.cfi_offset 5, -16
 3002              		.cfi_offset 6, -12
 3003              		.cfi_offset 7, -8
 3004              		.cfi_offset 14, -4
 3005 0002 0546     		mov	r5, r0
 3006 0004 0C46     		mov	r4, r1
 3007 0006 1646     		mov	r6, r2
 807:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 3008              		.loc 1 807 2 is_stmt 1 view .LVU790
 3009              		.loc 1 807 8 is_stmt 0 view .LVU791
 3010 0008 02E0     		b	.L219
 3011              	.LVL337:
 3012              	.L220:
 808:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 3013              		.loc 1 808 3 is_stmt 1 view .LVU792
 3014 000a 0120     		movs	r0, #1
 3015 000c FFF7FEFF 		bl	HAL_Delay
 3016              	.LVL338:
 3017              	.L219:
 807:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 3018              		.loc 1 807 8 view .LVU793
 807:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 3019              		.loc 1 807 15 is_stmt 0 view .LVU794
 3020 0010 1E4B     		ldr	r3, .L224
 3021 0012 93F82730 		ldrb	r3, [r3, #39]	@ zero_extendqisi2
 807:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 3022              		.loc 1 807 8 view .LVU795
 3023 0016 012B     		cmp	r3, #1
 3024 0018 F7D0     		beq	.L220
 809:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 3025              		.loc 1 809 2 is_stmt 1 view .LVU796
 3026              		.loc 1 809 14 is_stmt 0 view .LVU797
 3027 001a 1C4F     		ldr	r7, .L224
 3028 001c 0123     		movs	r3, #1
 3029 001e 87F82730 		strb	r3, [r7, #39]
 810:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 811:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 812:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx ReadBytes at Address:%d, %d Bytes  begin...\r\n", ReadAddr, NumByteToRead);
 813:Drivers/w25qxx/w25qxx.c **** #endif
 814:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 3030              		.loc 1 814 2 is_stmt 1 view .LVU798
 3031 0022 0022     		movs	r2, #0
 3032 0024 1021     		movs	r1, #16
 3033 0026 1A48     		ldr	r0, .L224+4
ARM GAS  /tmp/ccmQGMh6.s 			page 71


 3034 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3035              	.LVL339:
 815:Drivers/w25qxx/w25qxx.c **** 
 816:Drivers/w25qxx/w25qxx.c **** 	if (w25qxx.ID >= W25Q256)
 3036              		.loc 1 816 2 view .LVU799
 3037              		.loc 1 816 12 is_stmt 0 view .LVU800
 3038 002c 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 3039              		.loc 1 816 5 view .LVU801
 3040 002e 082B     		cmp	r3, #8
 3041 0030 27D9     		bls	.L221
 817:Drivers/w25qxx/w25qxx.c **** 	{
 818:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x0C);
 3042              		.loc 1 818 3 is_stmt 1 view .LVU802
 3043 0032 0C20     		movs	r0, #12
 3044 0034 FFF7FEFF 		bl	W25qxx_Spi
 3045              	.LVL340:
 819:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((ReadAddr & 0xFF000000) >> 24);
 3046              		.loc 1 819 3 view .LVU803
 3047 0038 200E     		lsrs	r0, r4, #24
 3048 003a FFF7FEFF 		bl	W25qxx_Spi
 3049              	.LVL341:
 3050              	.L222:
 820:Drivers/w25qxx/w25qxx.c **** 	}
 821:Drivers/w25qxx/w25qxx.c **** 	else
 822:Drivers/w25qxx/w25qxx.c **** 	{
 823:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x0B);
 824:Drivers/w25qxx/w25qxx.c **** 	}
 825:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((ReadAddr & 0xFF0000) >> 16);
 3051              		.loc 1 825 2 view .LVU804
 3052 003e C4F30740 		ubfx	r0, r4, #16, #8
 3053 0042 FFF7FEFF 		bl	W25qxx_Spi
 3054              	.LVL342:
 826:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((ReadAddr & 0xFF00) >> 8);
 3055              		.loc 1 826 2 view .LVU805
 3056 0046 C4F30720 		ubfx	r0, r4, #8, #8
 3057 004a FFF7FEFF 		bl	W25qxx_Spi
 3058              	.LVL343:
 827:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(ReadAddr & 0xFF);
 3059              		.loc 1 827 2 view .LVU806
 3060 004e E0B2     		uxtb	r0, r4
 3061 0050 FFF7FEFF 		bl	W25qxx_Spi
 3062              	.LVL344:
 828:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(0);
 3063              		.loc 1 828 2 view .LVU807
 3064 0054 0020     		movs	r0, #0
 3065 0056 FFF7FEFF 		bl	W25qxx_Spi
 3066              	.LVL345:
 829:Drivers/w25qxx/w25qxx.c **** 	HAL_SPI_Receive(&_W25QXX_SPI, pBuffer, NumByteToRead, 2000);
 3067              		.loc 1 829 2 view .LVU808
 3068 005a 4FF4FA63 		mov	r3, #2000
 3069 005e B2B2     		uxth	r2, r6
 3070 0060 2946     		mov	r1, r5
 3071 0062 0C48     		ldr	r0, .L224+8
 3072 0064 FFF7FEFF 		bl	HAL_SPI_Receive
 3073              	.LVL346:
 830:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 3074              		.loc 1 830 2 view .LVU809
ARM GAS  /tmp/ccmQGMh6.s 			page 72


 3075 0068 0122     		movs	r2, #1
 3076 006a 1021     		movs	r1, #16
 3077 006c 0848     		ldr	r0, .L224+4
 3078 006e FFF7FEFF 		bl	HAL_GPIO_WritePin
 3079              	.LVL347:
 831:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 832:Drivers/w25qxx/w25qxx.c **** 	StartTime = HAL_GetTick() - StartTime;
 833:Drivers/w25qxx/w25qxx.c **** 	for (uint32_t i = 0; i < NumByteToRead; i++)
 834:Drivers/w25qxx/w25qxx.c **** 	{
 835:Drivers/w25qxx/w25qxx.c **** 		if ((i % 8 == 0) && (i > 2))
 836:Drivers/w25qxx/w25qxx.c **** 		{
 837:Drivers/w25qxx/w25qxx.c **** 			printf("\r\n");
 838:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Delay(10);
 839:Drivers/w25qxx/w25qxx.c **** 		}
 840:Drivers/w25qxx/w25qxx.c **** 		printf("0x%02X,", pBuffer[i]);
 841:Drivers/w25qxx/w25qxx.c **** 	}
 842:Drivers/w25qxx/w25qxx.c **** 	printf("\r\n");
 843:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx ReadBytes done after %d ms\r\n", StartTime);
 844:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 845:Drivers/w25qxx/w25qxx.c **** #endif
 846:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(1);
 3080              		.loc 1 846 2 view .LVU810
 3081 0072 0120     		movs	r0, #1
 3082 0074 FFF7FEFF 		bl	HAL_Delay
 3083              	.LVL348:
 847:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 3084              		.loc 1 847 2 view .LVU811
 3085              		.loc 1 847 14 is_stmt 0 view .LVU812
 3086 0078 044B     		ldr	r3, .L224
 3087 007a 0022     		movs	r2, #0
 3088 007c 83F82720 		strb	r2, [r3, #39]
 848:Drivers/w25qxx/w25qxx.c **** }
 3089              		.loc 1 848 1 view .LVU813
 3090 0080 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3091              	.LVL349:
 3092              	.L221:
 823:Drivers/w25qxx/w25qxx.c **** 	}
 3093              		.loc 1 823 3 is_stmt 1 view .LVU814
 3094 0082 0B20     		movs	r0, #11
 3095 0084 FFF7FEFF 		bl	W25qxx_Spi
 3096              	.LVL350:
 3097 0088 D9E7     		b	.L222
 3098              	.L225:
 3099 008a 00BF     		.align	2
 3100              	.L224:
 3101 008c 00000000 		.word	.LANCHOR0
 3102 0090 00000240 		.word	1073872896
 3103 0094 00000000 		.word	hspi1
 3104              		.cfi_endproc
 3105              	.LFE155:
 3107              		.section	.text.W25qxx_ReadPage,"ax",%progbits
 3108              		.align	1
 3109              		.global	W25qxx_ReadPage
 3110              		.syntax unified
 3111              		.thumb
 3112              		.thumb_func
 3114              	W25qxx_ReadPage:
ARM GAS  /tmp/ccmQGMh6.s 			page 73


 3115              	.LVL351:
 3116              	.LFB156:
 849:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 850:Drivers/w25qxx/w25qxx.c **** void W25qxx_ReadPage(uint8_t *pBuffer, uint32_t Page_Address, uint32_t OffsetInByte, uint32_t NumBy
 851:Drivers/w25qxx/w25qxx.c **** {
 3117              		.loc 1 851 1 view -0
 3118              		.cfi_startproc
 3119              		@ args = 0, pretend = 0, frame = 0
 3120              		@ frame_needed = 0, uses_anonymous_args = 0
 3121              		.loc 1 851 1 is_stmt 0 view .LVU816
 3122 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3123              	.LCFI29:
 3124              		.cfi_def_cfa_offset 24
 3125              		.cfi_offset 4, -24
 3126              		.cfi_offset 5, -20
 3127              		.cfi_offset 6, -16
 3128              		.cfi_offset 7, -12
 3129              		.cfi_offset 8, -8
 3130              		.cfi_offset 14, -4
 3131 0004 0746     		mov	r7, r0
 3132 0006 8846     		mov	r8, r1
 3133 0008 1546     		mov	r5, r2
 3134 000a 1E46     		mov	r6, r3
 852:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 3135              		.loc 1 852 2 is_stmt 1 view .LVU817
 3136              		.loc 1 852 8 is_stmt 0 view .LVU818
 3137 000c 02E0     		b	.L227
 3138              	.LVL352:
 3139              	.L228:
 853:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(1);
 3140              		.loc 1 853 3 is_stmt 1 view .LVU819
 3141 000e 0120     		movs	r0, #1
 3142 0010 FFF7FEFF 		bl	HAL_Delay
 3143              	.LVL353:
 3144              	.L227:
 852:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 3145              		.loc 1 852 8 view .LVU820
 852:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 3146              		.loc 1 852 15 is_stmt 0 view .LVU821
 3147 0014 254C     		ldr	r4, .L236
 3148 0016 94F827C0 		ldrb	ip, [r4, #39]	@ zero_extendqisi2
 852:Drivers/w25qxx/w25qxx.c **** 	while (w25qxx.Lock == 1)
 3149              		.loc 1 852 8 view .LVU822
 3150 001a BCF1010F 		cmp	ip, #1
 3151 001e F6D0     		beq	.L228
 854:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 1;
 3152              		.loc 1 854 2 is_stmt 1 view .LVU823
 3153              		.loc 1 854 14 is_stmt 0 view .LVU824
 3154 0020 0122     		movs	r2, #1
 3155 0022 84F82720 		strb	r2, [r4, #39]
 855:Drivers/w25qxx/w25qxx.c **** 	if ((NumByteToRead_up_to_PageSize > w25qxx.PageSize) || (NumByteToRead_up_to_PageSize == 0))
 3156              		.loc 1 855 2 is_stmt 1 view .LVU825
 3157              		.loc 1 855 44 is_stmt 0 view .LVU826
 3158 0026 6489     		ldrh	r4, [r4, #10]
 3159              		.loc 1 855 5 view .LVU827
 3160 0028 B442     		cmp	r4, r6
 3161 002a 02D3     		bcc	.L233
ARM GAS  /tmp/ccmQGMh6.s 			page 74


 3162              		.loc 1 855 55 discriminator 1 view .LVU828
 3163 002c 16B9     		cbnz	r6, .L229
 856:Drivers/w25qxx/w25qxx.c **** 		NumByteToRead_up_to_PageSize = w25qxx.PageSize;
 3164              		.loc 1 856 32 view .LVU829
 3165 002e 2646     		mov	r6, r4
 3166              	.LVL354:
 3167              		.loc 1 856 32 view .LVU830
 3168 0030 00E0     		b	.L229
 3169              	.LVL355:
 3170              	.L233:
 3171              		.loc 1 856 32 view .LVU831
 3172 0032 2646     		mov	r6, r4
 3173              	.LVL356:
 3174              	.L229:
 857:Drivers/w25qxx/w25qxx.c **** 	if ((OffsetInByte + NumByteToRead_up_to_PageSize) > w25qxx.PageSize)
 3175              		.loc 1 857 2 is_stmt 1 view .LVU832
 3176              		.loc 1 857 20 is_stmt 0 view .LVU833
 3177 0034 7319     		adds	r3, r6, r5
 3178              		.loc 1 857 5 view .LVU834
 3179 0036 9C42     		cmp	r4, r3
 3180 0038 00D2     		bcs	.L230
 858:Drivers/w25qxx/w25qxx.c **** 		NumByteToRead_up_to_PageSize = w25qxx.PageSize - OffsetInByte;
 3181              		.loc 1 858 3 is_stmt 1 view .LVU835
 3182              		.loc 1 858 32 is_stmt 0 view .LVU836
 3183 003a 661B     		subs	r6, r4, r5
 3184              	.LVL357:
 3185              	.L230:
 859:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 860:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx ReadPage:%d, Offset:%d ,Read %d Bytes, begin...\r\n", Page_Address, OffsetInByte, N
 861:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 862:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartTime = HAL_GetTick();
 863:Drivers/w25qxx/w25qxx.c **** #endif
 864:Drivers/w25qxx/w25qxx.c **** 	Page_Address = Page_Address * w25qxx.PageSize + OffsetInByte;
 3186              		.loc 1 864 2 is_stmt 1 view .LVU837
 3187              		.loc 1 864 15 is_stmt 0 view .LVU838
 3188 003c 08FB0454 		mla	r4, r8, r4, r5
 3189              	.LVL358:
 865:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_RESET);
 3190              		.loc 1 865 2 is_stmt 1 view .LVU839
 3191 0040 0022     		movs	r2, #0
 3192 0042 1021     		movs	r1, #16
 3193 0044 1A48     		ldr	r0, .L236+4
 3194 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3195              	.LVL359:
 866:Drivers/w25qxx/w25qxx.c **** 	if (w25qxx.ID >= W25Q256)
 3196              		.loc 1 866 2 view .LVU840
 3197              		.loc 1 866 12 is_stmt 0 view .LVU841
 3198 004a 184B     		ldr	r3, .L236
 3199 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3200              		.loc 1 866 5 view .LVU842
 3201 004e 082B     		cmp	r3, #8
 3202 0050 27D9     		bls	.L231
 867:Drivers/w25qxx/w25qxx.c **** 	{
 868:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x0C);
 3203              		.loc 1 868 3 is_stmt 1 view .LVU843
 3204 0052 0C20     		movs	r0, #12
 3205 0054 FFF7FEFF 		bl	W25qxx_Spi
ARM GAS  /tmp/ccmQGMh6.s 			page 75


 3206              	.LVL360:
 869:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi((Page_Address & 0xFF000000) >> 24);
 3207              		.loc 1 869 3 view .LVU844
 3208 0058 200E     		lsrs	r0, r4, #24
 3209 005a FFF7FEFF 		bl	W25qxx_Spi
 3210              	.LVL361:
 3211              	.L232:
 870:Drivers/w25qxx/w25qxx.c **** 	}
 871:Drivers/w25qxx/w25qxx.c **** 	else
 872:Drivers/w25qxx/w25qxx.c **** 	{
 873:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Spi(0x0B);
 874:Drivers/w25qxx/w25qxx.c **** 	}
 875:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((Page_Address & 0xFF0000) >> 16);
 3212              		.loc 1 875 2 view .LVU845
 3213 005e C4F30740 		ubfx	r0, r4, #16, #8
 3214 0062 FFF7FEFF 		bl	W25qxx_Spi
 3215              	.LVL362:
 876:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi((Page_Address & 0xFF00) >> 8);
 3216              		.loc 1 876 2 view .LVU846
 3217 0066 C4F30720 		ubfx	r0, r4, #8, #8
 3218 006a FFF7FEFF 		bl	W25qxx_Spi
 3219              	.LVL363:
 877:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(Page_Address & 0xFF);
 3220              		.loc 1 877 2 view .LVU847
 3221 006e E0B2     		uxtb	r0, r4
 3222 0070 FFF7FEFF 		bl	W25qxx_Spi
 3223              	.LVL364:
 878:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Spi(0);
 3224              		.loc 1 878 2 view .LVU848
 3225 0074 0020     		movs	r0, #0
 3226 0076 FFF7FEFF 		bl	W25qxx_Spi
 3227              	.LVL365:
 879:Drivers/w25qxx/w25qxx.c **** 	HAL_SPI_Receive(&_W25QXX_SPI, pBuffer, NumByteToRead_up_to_PageSize, 100);
 3228              		.loc 1 879 2 view .LVU849
 3229 007a 6423     		movs	r3, #100
 3230 007c B2B2     		uxth	r2, r6
 3231 007e 3946     		mov	r1, r7
 3232 0080 0C48     		ldr	r0, .L236+8
 3233 0082 FFF7FEFF 		bl	HAL_SPI_Receive
 3234              	.LVL366:
 880:Drivers/w25qxx/w25qxx.c **** 	HAL_GPIO_WritePin(_W25QXX_CS_GPIO, _W25QXX_CS_PIN, GPIO_PIN_SET);
 3235              		.loc 1 880 2 view .LVU850
 3236 0086 0122     		movs	r2, #1
 3237 0088 1021     		movs	r1, #16
 3238 008a 0948     		ldr	r0, .L236+4
 3239 008c FFF7FEFF 		bl	HAL_GPIO_WritePin
 3240              	.LVL367:
 881:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 882:Drivers/w25qxx/w25qxx.c **** 	StartTime = HAL_GetTick() - StartTime;
 883:Drivers/w25qxx/w25qxx.c **** 	for (uint32_t i = 0; i < NumByteToRead_up_to_PageSize; i++)
 884:Drivers/w25qxx/w25qxx.c **** 	{
 885:Drivers/w25qxx/w25qxx.c **** 		if ((i % 8 == 0) && (i > 2))
 886:Drivers/w25qxx/w25qxx.c **** 		{
 887:Drivers/w25qxx/w25qxx.c **** 			printf("\r\n");
 888:Drivers/w25qxx/w25qxx.c **** 			W25qxx_Delay(10);
 889:Drivers/w25qxx/w25qxx.c **** 		}
 890:Drivers/w25qxx/w25qxx.c **** 		printf("0x%02X,", pBuffer[i]);
ARM GAS  /tmp/ccmQGMh6.s 			page 76


 891:Drivers/w25qxx/w25qxx.c **** 	}
 892:Drivers/w25qxx/w25qxx.c **** 	printf("\r\n");
 893:Drivers/w25qxx/w25qxx.c **** 	printf("w25qxx ReadPage done after %d ms\r\n", StartTime);
 894:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 895:Drivers/w25qxx/w25qxx.c **** #endif
 896:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(1);
 3241              		.loc 1 896 2 view .LVU851
 3242 0090 0120     		movs	r0, #1
 3243 0092 FFF7FEFF 		bl	HAL_Delay
 3244              	.LVL368:
 897:Drivers/w25qxx/w25qxx.c **** 	w25qxx.Lock = 0;
 3245              		.loc 1 897 2 view .LVU852
 3246              		.loc 1 897 14 is_stmt 0 view .LVU853
 3247 0096 054B     		ldr	r3, .L236
 3248 0098 0022     		movs	r2, #0
 3249 009a 83F82720 		strb	r2, [r3, #39]
 898:Drivers/w25qxx/w25qxx.c **** }
 3250              		.loc 1 898 1 view .LVU854
 3251 009e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3252              	.LVL369:
 3253              	.L231:
 873:Drivers/w25qxx/w25qxx.c **** 	}
 3254              		.loc 1 873 3 is_stmt 1 view .LVU855
 3255 00a2 0B20     		movs	r0, #11
 3256 00a4 FFF7FEFF 		bl	W25qxx_Spi
 3257              	.LVL370:
 3258 00a8 D9E7     		b	.L232
 3259              	.L237:
 3260 00aa 00BF     		.align	2
 3261              	.L236:
 3262 00ac 00000000 		.word	.LANCHOR0
 3263 00b0 00000240 		.word	1073872896
 3264 00b4 00000000 		.word	hspi1
 3265              		.cfi_endproc
 3266              	.LFE156:
 3268              		.section	.text.W25qxx_ReadSector,"ax",%progbits
 3269              		.align	1
 3270              		.global	W25qxx_ReadSector
 3271              		.syntax unified
 3272              		.thumb
 3273              		.thumb_func
 3275              	W25qxx_ReadSector:
 3276              	.LVL371:
 3277              	.LFB157:
 899:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 900:Drivers/w25qxx/w25qxx.c **** void W25qxx_ReadSector(uint8_t *pBuffer, uint32_t Sector_Address, uint32_t OffsetInByte, uint32_t N
 901:Drivers/w25qxx/w25qxx.c **** {
 3278              		.loc 1 901 1 view -0
 3279              		.cfi_startproc
 3280              		@ args = 0, pretend = 0, frame = 0
 3281              		@ frame_needed = 0, uses_anonymous_args = 0
 3282              		.loc 1 901 1 is_stmt 0 view .LVU857
 3283 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3284              	.LCFI30:
 3285              		.cfi_def_cfa_offset 24
 3286              		.cfi_offset 3, -24
 3287              		.cfi_offset 4, -20
ARM GAS  /tmp/ccmQGMh6.s 			page 77


 3288              		.cfi_offset 5, -16
 3289              		.cfi_offset 6, -12
 3290              		.cfi_offset 7, -8
 3291              		.cfi_offset 14, -4
 3292 0002 0646     		mov	r6, r0
 3293 0004 0846     		mov	r0, r1
 3294              	.LVL372:
 3295              		.loc 1 901 1 view .LVU858
 3296 0006 1446     		mov	r4, r2
 902:Drivers/w25qxx/w25qxx.c **** 	if ((NumByteToRead_up_to_SectorSize > w25qxx.SectorSize) || (NumByteToRead_up_to_SectorSize == 0))
 3297              		.loc 1 902 2 is_stmt 1 view .LVU859
 3298              		.loc 1 902 46 is_stmt 0 view .LVU860
 3299 0008 144A     		ldr	r2, .L247
 3300              	.LVL373:
 3301              		.loc 1 902 46 view .LVU861
 3302 000a 1569     		ldr	r5, [r2, #16]
 3303              		.loc 1 902 5 view .LVU862
 3304 000c 9D42     		cmp	r5, r3
 3305 000e 02D3     		bcc	.L244
 3306              		.loc 1 902 59 discriminator 1 view .LVU863
 3307 0010 13B9     		cbnz	r3, .L239
 903:Drivers/w25qxx/w25qxx.c **** 		NumByteToRead_up_to_SectorSize = w25qxx.SectorSize;
 3308              		.loc 1 903 34 view .LVU864
 3309 0012 2B46     		mov	r3, r5
 3310              	.LVL374:
 3311              		.loc 1 903 34 view .LVU865
 3312 0014 00E0     		b	.L239
 3313              	.LVL375:
 3314              	.L244:
 3315              		.loc 1 903 34 view .LVU866
 3316 0016 2B46     		mov	r3, r5
 3317              	.LVL376:
 3318              	.L239:
 904:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 905:Drivers/w25qxx/w25qxx.c **** 	printf("+++w25qxx ReadSector:%d, Offset:%d ,Read %d Bytes, begin...\r\n", Sector_Address, OffsetIn
 906:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 907:Drivers/w25qxx/w25qxx.c **** #endif
 908:Drivers/w25qxx/w25qxx.c **** 	if (OffsetInByte >= w25qxx.SectorSize)
 3319              		.loc 1 908 2 is_stmt 1 view .LVU867
 3320              		.loc 1 908 5 is_stmt 0 view .LVU868
 3321 0018 A542     		cmp	r5, r4
 3322 001a 1CD9     		bls	.L238
 909:Drivers/w25qxx/w25qxx.c **** 	{
 910:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 911:Drivers/w25qxx/w25qxx.c **** 		printf("---w25qxx ReadSector Faild!\r\n");
 912:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(100);
 913:Drivers/w25qxx/w25qxx.c **** #endif
 914:Drivers/w25qxx/w25qxx.c **** 		return;
 915:Drivers/w25qxx/w25qxx.c **** 	}
 916:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartPage;
 3323              		.loc 1 916 2 is_stmt 1 view .LVU869
 917:Drivers/w25qxx/w25qxx.c **** 	int32_t BytesToRead;
 3324              		.loc 1 917 2 view .LVU870
 918:Drivers/w25qxx/w25qxx.c **** 	uint32_t LocalOffset;
 3325              		.loc 1 918 2 view .LVU871
 919:Drivers/w25qxx/w25qxx.c **** 	if ((OffsetInByte + NumByteToRead_up_to_SectorSize) > w25qxx.SectorSize)
 3326              		.loc 1 919 2 view .LVU872
ARM GAS  /tmp/ccmQGMh6.s 			page 78


 3327              		.loc 1 919 20 is_stmt 0 view .LVU873
 3328 001c 1A19     		adds	r2, r3, r4
 3329              		.loc 1 919 5 view .LVU874
 3330 001e 9542     		cmp	r5, r2
 3331 0020 1AD2     		bcs	.L241
 920:Drivers/w25qxx/w25qxx.c **** 		BytesToRead = w25qxx.SectorSize - OffsetInByte;
 3332              		.loc 1 920 3 is_stmt 1 view .LVU875
 3333              		.loc 1 920 35 is_stmt 0 view .LVU876
 3334 0022 2D1B     		subs	r5, r5, r4
 3335              	.LVL377:
 3336              	.L242:
 921:Drivers/w25qxx/w25qxx.c **** 	else
 922:Drivers/w25qxx/w25qxx.c **** 		BytesToRead = NumByteToRead_up_to_SectorSize;
 923:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_SectorToPage(Sector_Address) + (OffsetInByte / w25qxx.PageSize);
 3337              		.loc 1 923 2 is_stmt 1 view .LVU877
 3338              		.loc 1 923 14 is_stmt 0 view .LVU878
 3339 0024 FFF7FEFF 		bl	W25qxx_SectorToPage
 3340              	.LVL378:
 3341              		.loc 1 923 74 view .LVU879
 3342 0028 0C4B     		ldr	r3, .L247
 3343 002a 5A89     		ldrh	r2, [r3, #10]
 3344              		.loc 1 923 66 view .LVU880
 3345 002c B4FBF2F3 		udiv	r3, r4, r2
 3346              		.loc 1 923 12 view .LVU881
 3347 0030 C718     		adds	r7, r0, r3
 3348              	.LVL379:
 924:Drivers/w25qxx/w25qxx.c **** 	LocalOffset = OffsetInByte % w25qxx.PageSize;
 3349              		.loc 1 924 2 is_stmt 1 view .LVU882
 3350              		.loc 1 924 14 is_stmt 0 view .LVU883
 3351 0032 02FB1344 		mls	r4, r2, r3, r4
 3352              	.LVL380:
 3353              	.L243:
 925:Drivers/w25qxx/w25qxx.c **** 	do
 3354              		.loc 1 925 2 is_stmt 1 discriminator 1 view .LVU884
 926:Drivers/w25qxx/w25qxx.c **** 	{
 927:Drivers/w25qxx/w25qxx.c **** 		W25qxx_ReadPage(pBuffer, StartPage, LocalOffset, BytesToRead);
 3355              		.loc 1 927 3 discriminator 1 view .LVU885
 3356 0036 2B46     		mov	r3, r5
 3357 0038 2246     		mov	r2, r4
 3358 003a 3946     		mov	r1, r7
 3359 003c 3046     		mov	r0, r6
 3360 003e FFF7FEFF 		bl	W25qxx_ReadPage
 3361              	.LVL381:
 928:Drivers/w25qxx/w25qxx.c **** 		StartPage++;
 3362              		.loc 1 928 3 discriminator 1 view .LVU886
 3363              		.loc 1 928 12 is_stmt 0 discriminator 1 view .LVU887
 3364 0042 0137     		adds	r7, r7, #1
 3365              	.LVL382:
 929:Drivers/w25qxx/w25qxx.c **** 		BytesToRead -= w25qxx.PageSize - LocalOffset;
 3366              		.loc 1 929 3 is_stmt 1 discriminator 1 view .LVU888
 3367              		.loc 1 929 24 is_stmt 0 discriminator 1 view .LVU889
 3368 0044 054B     		ldr	r3, .L247
 3369 0046 5B89     		ldrh	r3, [r3, #10]
 3370              		.loc 1 929 15 discriminator 1 view .LVU890
 3371 0048 E21A     		subs	r2, r4, r3
 3372 004a 1544     		add	r5, r5, r2
 3373              	.LVL383:
ARM GAS  /tmp/ccmQGMh6.s 			page 79


 930:Drivers/w25qxx/w25qxx.c **** 		pBuffer += w25qxx.PageSize - LocalOffset;
 3374              		.loc 1 930 3 is_stmt 1 discriminator 1 view .LVU891
 3375              		.loc 1 930 30 is_stmt 0 discriminator 1 view .LVU892
 3376 004c 1B1B     		subs	r3, r3, r4
 3377              		.loc 1 930 11 discriminator 1 view .LVU893
 3378 004e 1E44     		add	r6, r6, r3
 3379              	.LVL384:
 931:Drivers/w25qxx/w25qxx.c **** 		LocalOffset = 0;
 3380              		.loc 1 931 3 is_stmt 1 discriminator 1 view .LVU894
 932:Drivers/w25qxx/w25qxx.c **** 	} while (BytesToRead > 0);
 3381              		.loc 1 932 10 discriminator 1 view .LVU895
 931:Drivers/w25qxx/w25qxx.c **** 		LocalOffset = 0;
 3382              		.loc 1 931 15 is_stmt 0 discriminator 1 view .LVU896
 3383 0050 0024     		movs	r4, #0
 3384              		.loc 1 932 2 discriminator 1 view .LVU897
 3385 0052 A542     		cmp	r5, r4
 3386 0054 EFDC     		bgt	.L243
 3387              	.LVL385:
 3388              	.L238:
 933:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 934:Drivers/w25qxx/w25qxx.c **** 	printf("---w25qxx ReadSector Done\r\n");
 935:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 936:Drivers/w25qxx/w25qxx.c **** #endif
 937:Drivers/w25qxx/w25qxx.c **** }
 3389              		.loc 1 937 1 view .LVU898
 3390 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3391              	.LVL386:
 3392              	.L241:
 922:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_SectorToPage(Sector_Address) + (OffsetInByte / w25qxx.PageSize);
 3393              		.loc 1 922 3 is_stmt 1 view .LVU899
 922:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_SectorToPage(Sector_Address) + (OffsetInByte / w25qxx.PageSize);
 3394              		.loc 1 922 15 is_stmt 0 view .LVU900
 3395 0058 1D46     		mov	r5, r3
 3396              	.LVL387:
 922:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_SectorToPage(Sector_Address) + (OffsetInByte / w25qxx.PageSize);
 3397              		.loc 1 922 15 view .LVU901
 3398 005a E3E7     		b	.L242
 3399              	.L248:
 3400              		.align	2
 3401              	.L247:
 3402 005c 00000000 		.word	.LANCHOR0
 3403              		.cfi_endproc
 3404              	.LFE157:
 3406              		.section	.text.W25qxx_ReadBlock,"ax",%progbits
 3407              		.align	1
 3408              		.global	W25qxx_ReadBlock
 3409              		.syntax unified
 3410              		.thumb
 3411              		.thumb_func
 3413              	W25qxx_ReadBlock:
 3414              	.LVL388:
 3415              	.LFB158:
 938:Drivers/w25qxx/w25qxx.c **** //#################################################################################################
 939:Drivers/w25qxx/w25qxx.c **** void W25qxx_ReadBlock(uint8_t *pBuffer, uint32_t Block_Address, uint32_t OffsetInByte, uint32_t Num
 940:Drivers/w25qxx/w25qxx.c **** {
 3416              		.loc 1 940 1 is_stmt 1 view -0
 3417              		.cfi_startproc
ARM GAS  /tmp/ccmQGMh6.s 			page 80


 3418              		@ args = 0, pretend = 0, frame = 0
 3419              		@ frame_needed = 0, uses_anonymous_args = 0
 3420              		.loc 1 940 1 is_stmt 0 view .LVU903
 3421 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3422              	.LCFI31:
 3423              		.cfi_def_cfa_offset 24
 3424              		.cfi_offset 3, -24
 3425              		.cfi_offset 4, -20
 3426              		.cfi_offset 5, -16
 3427              		.cfi_offset 6, -12
 3428              		.cfi_offset 7, -8
 3429              		.cfi_offset 14, -4
 3430 0002 0646     		mov	r6, r0
 3431 0004 0846     		mov	r0, r1
 3432              	.LVL389:
 3433              		.loc 1 940 1 view .LVU904
 3434 0006 1446     		mov	r4, r2
 941:Drivers/w25qxx/w25qxx.c **** 	if ((NumByteToRead_up_to_BlockSize > w25qxx.BlockSize) || (NumByteToRead_up_to_BlockSize == 0))
 3435              		.loc 1 941 2 is_stmt 1 view .LVU905
 3436              		.loc 1 941 45 is_stmt 0 view .LVU906
 3437 0008 144A     		ldr	r2, .L258
 3438              	.LVL390:
 3439              		.loc 1 941 45 view .LVU907
 3440 000a 9569     		ldr	r5, [r2, #24]
 3441              		.loc 1 941 5 view .LVU908
 3442 000c 9D42     		cmp	r5, r3
 3443 000e 02D3     		bcc	.L255
 3444              		.loc 1 941 57 discriminator 1 view .LVU909
 3445 0010 13B9     		cbnz	r3, .L250
 942:Drivers/w25qxx/w25qxx.c **** 		NumByteToRead_up_to_BlockSize = w25qxx.BlockSize;
 3446              		.loc 1 942 33 view .LVU910
 3447 0012 2B46     		mov	r3, r5
 3448              	.LVL391:
 3449              		.loc 1 942 33 view .LVU911
 3450 0014 00E0     		b	.L250
 3451              	.LVL392:
 3452              	.L255:
 3453              		.loc 1 942 33 view .LVU912
 3454 0016 2B46     		mov	r3, r5
 3455              	.LVL393:
 3456              	.L250:
 943:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 944:Drivers/w25qxx/w25qxx.c **** 	printf("+++w25qxx ReadBlock:%d, Offset:%d ,Read %d Bytes, begin...\r\n", Block_Address, OffsetInBy
 945:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 946:Drivers/w25qxx/w25qxx.c **** #endif
 947:Drivers/w25qxx/w25qxx.c **** 	if (OffsetInByte >= w25qxx.BlockSize)
 3457              		.loc 1 947 2 is_stmt 1 view .LVU913
 3458              		.loc 1 947 5 is_stmt 0 view .LVU914
 3459 0018 A542     		cmp	r5, r4
 3460 001a 1CD9     		bls	.L249
 948:Drivers/w25qxx/w25qxx.c **** 	{
 949:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 950:Drivers/w25qxx/w25qxx.c **** 		printf("w25qxx ReadBlock Faild!\r\n");
 951:Drivers/w25qxx/w25qxx.c **** 		W25qxx_Delay(100);
 952:Drivers/w25qxx/w25qxx.c **** #endif
 953:Drivers/w25qxx/w25qxx.c **** 		return;
 954:Drivers/w25qxx/w25qxx.c **** 	}
ARM GAS  /tmp/ccmQGMh6.s 			page 81


 955:Drivers/w25qxx/w25qxx.c **** 	uint32_t StartPage;
 3461              		.loc 1 955 2 is_stmt 1 view .LVU915
 956:Drivers/w25qxx/w25qxx.c **** 	int32_t BytesToRead;
 3462              		.loc 1 956 2 view .LVU916
 957:Drivers/w25qxx/w25qxx.c **** 	uint32_t LocalOffset;
 3463              		.loc 1 957 2 view .LVU917
 958:Drivers/w25qxx/w25qxx.c **** 	if ((OffsetInByte + NumByteToRead_up_to_BlockSize) > w25qxx.BlockSize)
 3464              		.loc 1 958 2 view .LVU918
 3465              		.loc 1 958 20 is_stmt 0 view .LVU919
 3466 001c 1A19     		adds	r2, r3, r4
 3467              		.loc 1 958 5 view .LVU920
 3468 001e 9542     		cmp	r5, r2
 3469 0020 1AD2     		bcs	.L252
 959:Drivers/w25qxx/w25qxx.c **** 		BytesToRead = w25qxx.BlockSize - OffsetInByte;
 3470              		.loc 1 959 3 is_stmt 1 view .LVU921
 3471              		.loc 1 959 34 is_stmt 0 view .LVU922
 3472 0022 2D1B     		subs	r5, r5, r4
 3473              	.LVL394:
 3474              	.L253:
 960:Drivers/w25qxx/w25qxx.c **** 	else
 961:Drivers/w25qxx/w25qxx.c **** 		BytesToRead = NumByteToRead_up_to_BlockSize;
 962:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_BlockToPage(Block_Address) + (OffsetInByte / w25qxx.PageSize);
 3475              		.loc 1 962 2 is_stmt 1 view .LVU923
 3476              		.loc 1 962 14 is_stmt 0 view .LVU924
 3477 0024 FFF7FEFF 		bl	W25qxx_BlockToPage
 3478              	.LVL395:
 3479              		.loc 1 962 72 view .LVU925
 3480 0028 0C4B     		ldr	r3, .L258
 3481 002a 5A89     		ldrh	r2, [r3, #10]
 3482              		.loc 1 962 64 view .LVU926
 3483 002c B4FBF2F3 		udiv	r3, r4, r2
 3484              		.loc 1 962 12 view .LVU927
 3485 0030 C718     		adds	r7, r0, r3
 3486              	.LVL396:
 963:Drivers/w25qxx/w25qxx.c **** 	LocalOffset = OffsetInByte % w25qxx.PageSize;
 3487              		.loc 1 963 2 is_stmt 1 view .LVU928
 3488              		.loc 1 963 14 is_stmt 0 view .LVU929
 3489 0032 02FB1344 		mls	r4, r2, r3, r4
 3490              	.LVL397:
 3491              	.L254:
 964:Drivers/w25qxx/w25qxx.c **** 	do
 3492              		.loc 1 964 2 is_stmt 1 discriminator 1 view .LVU930
 965:Drivers/w25qxx/w25qxx.c **** 	{
 966:Drivers/w25qxx/w25qxx.c **** 		W25qxx_ReadPage(pBuffer, StartPage, LocalOffset, BytesToRead);
 3493              		.loc 1 966 3 discriminator 1 view .LVU931
 3494 0036 2B46     		mov	r3, r5
 3495 0038 2246     		mov	r2, r4
 3496 003a 3946     		mov	r1, r7
 3497 003c 3046     		mov	r0, r6
 3498 003e FFF7FEFF 		bl	W25qxx_ReadPage
 3499              	.LVL398:
 967:Drivers/w25qxx/w25qxx.c **** 		StartPage++;
 3500              		.loc 1 967 3 discriminator 1 view .LVU932
 3501              		.loc 1 967 12 is_stmt 0 discriminator 1 view .LVU933
 3502 0042 0137     		adds	r7, r7, #1
 3503              	.LVL399:
 968:Drivers/w25qxx/w25qxx.c **** 		BytesToRead -= w25qxx.PageSize - LocalOffset;
ARM GAS  /tmp/ccmQGMh6.s 			page 82


 3504              		.loc 1 968 3 is_stmt 1 discriminator 1 view .LVU934
 3505              		.loc 1 968 24 is_stmt 0 discriminator 1 view .LVU935
 3506 0044 054B     		ldr	r3, .L258
 3507 0046 5B89     		ldrh	r3, [r3, #10]
 3508              		.loc 1 968 15 discriminator 1 view .LVU936
 3509 0048 E21A     		subs	r2, r4, r3
 3510 004a 1544     		add	r5, r5, r2
 3511              	.LVL400:
 969:Drivers/w25qxx/w25qxx.c **** 		pBuffer += w25qxx.PageSize - LocalOffset;
 3512              		.loc 1 969 3 is_stmt 1 discriminator 1 view .LVU937
 3513              		.loc 1 969 30 is_stmt 0 discriminator 1 view .LVU938
 3514 004c 1B1B     		subs	r3, r3, r4
 3515              		.loc 1 969 11 discriminator 1 view .LVU939
 3516 004e 1E44     		add	r6, r6, r3
 3517              	.LVL401:
 970:Drivers/w25qxx/w25qxx.c **** 		LocalOffset = 0;
 3518              		.loc 1 970 3 is_stmt 1 discriminator 1 view .LVU940
 971:Drivers/w25qxx/w25qxx.c **** 	} while (BytesToRead > 0);
 3519              		.loc 1 971 10 discriminator 1 view .LVU941
 970:Drivers/w25qxx/w25qxx.c **** 		LocalOffset = 0;
 3520              		.loc 1 970 15 is_stmt 0 discriminator 1 view .LVU942
 3521 0050 0024     		movs	r4, #0
 3522              		.loc 1 971 2 discriminator 1 view .LVU943
 3523 0052 A542     		cmp	r5, r4
 3524 0054 EFDC     		bgt	.L254
 3525              	.LVL402:
 3526              	.L249:
 972:Drivers/w25qxx/w25qxx.c **** #if (_W25QXX_DEBUG == 1)
 973:Drivers/w25qxx/w25qxx.c **** 	printf("---w25qxx ReadBlock Done\r\n");
 974:Drivers/w25qxx/w25qxx.c **** 	W25qxx_Delay(100);
 975:Drivers/w25qxx/w25qxx.c **** #endif
 976:Drivers/w25qxx/w25qxx.c **** }
 3527              		.loc 1 976 1 view .LVU944
 3528 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3529              	.LVL403:
 3530              	.L252:
 961:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_BlockToPage(Block_Address) + (OffsetInByte / w25qxx.PageSize);
 3531              		.loc 1 961 3 is_stmt 1 view .LVU945
 961:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_BlockToPage(Block_Address) + (OffsetInByte / w25qxx.PageSize);
 3532              		.loc 1 961 15 is_stmt 0 view .LVU946
 3533 0058 1D46     		mov	r5, r3
 3534              	.LVL404:
 961:Drivers/w25qxx/w25qxx.c **** 	StartPage = W25qxx_BlockToPage(Block_Address) + (OffsetInByte / w25qxx.PageSize);
 3535              		.loc 1 961 15 view .LVU947
 3536 005a E3E7     		b	.L253
 3537              	.L259:
 3538              		.align	2
 3539              	.L258:
 3540 005c 00000000 		.word	.LANCHOR0
 3541              		.cfi_endproc
 3542              	.LFE158:
 3544              		.global	w25qxx
 3545              		.section	.bss.w25qxx,"aw",%nobits
 3546              		.align	2
 3547              		.set	.LANCHOR0,. + 0
 3550              	w25qxx:
 3551 0000 00000000 		.space	40
ARM GAS  /tmp/ccmQGMh6.s 			page 83


 3551      00000000 
 3551      00000000 
 3551      00000000 
 3551      00000000 
 3552              		.text
 3553              	.Letext0:
 3554              		.file 2 "/opt/gcc-arm/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.
 3555              		.file 3 "/opt/gcc-arm/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 3556              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f411xe.h"
 3557              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 3558              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 3559              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 3560              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 3561              		.file 9 "Drivers/w25qxx/w25qxx.h"
 3562              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/ccmQGMh6.s 			page 84


DEFINED SYMBOLS
                            *ABS*:0000000000000000 w25qxx.c
     /tmp/ccmQGMh6.s:20     .text.W25qxx_Spi:0000000000000000 $t
     /tmp/ccmQGMh6.s:26     .text.W25qxx_Spi:0000000000000000 W25qxx_Spi
     /tmp/ccmQGMh6.s:66     .text.W25qxx_Spi:0000000000000028 $d
     /tmp/ccmQGMh6.s:71     .text.W25qxx_ReadID:0000000000000000 $t
     /tmp/ccmQGMh6.s:77     .text.W25qxx_ReadID:0000000000000000 W25qxx_ReadID
     /tmp/ccmQGMh6.s:156    .text.W25qxx_ReadID:0000000000000044 $d
     /tmp/ccmQGMh6.s:161    .text.W25qxx_ReadUniqID:0000000000000000 $t
     /tmp/ccmQGMh6.s:167    .text.W25qxx_ReadUniqID:0000000000000000 W25qxx_ReadUniqID
     /tmp/ccmQGMh6.s:258    .text.W25qxx_ReadUniqID:0000000000000048 $d
     /tmp/ccmQGMh6.s:264    .text.W25qxx_WriteEnable:0000000000000000 $t
     /tmp/ccmQGMh6.s:270    .text.W25qxx_WriteEnable:0000000000000000 W25qxx_WriteEnable
     /tmp/ccmQGMh6.s:307    .text.W25qxx_WriteEnable:0000000000000028 $d
     /tmp/ccmQGMh6.s:312    .text.W25qxx_WriteDisable:0000000000000000 $t
     /tmp/ccmQGMh6.s:318    .text.W25qxx_WriteDisable:0000000000000000 W25qxx_WriteDisable
     /tmp/ccmQGMh6.s:355    .text.W25qxx_WriteDisable:0000000000000028 $d
     /tmp/ccmQGMh6.s:360    .text.W25qxx_ReadStatusRegister:0000000000000000 $t
     /tmp/ccmQGMh6.s:366    .text.W25qxx_ReadStatusRegister:0000000000000000 W25qxx_ReadStatusRegister
     /tmp/ccmQGMh6.s:464    .text.W25qxx_ReadStatusRegister:0000000000000064 $d
     /tmp/ccmQGMh6.s:470    .text.W25qxx_WriteStatusRegister:0000000000000000 $t
     /tmp/ccmQGMh6.s:476    .text.W25qxx_WriteStatusRegister:0000000000000000 W25qxx_WriteStatusRegister
     /tmp/ccmQGMh6.s:555    .text.W25qxx_WriteStatusRegister:0000000000000054 $d
     /tmp/ccmQGMh6.s:561    .text.W25qxx_WaitForWriteEnd:0000000000000000 $t
     /tmp/ccmQGMh6.s:567    .text.W25qxx_WaitForWriteEnd:0000000000000000 W25qxx_WaitForWriteEnd
     /tmp/ccmQGMh6.s:623    .text.W25qxx_WaitForWriteEnd:0000000000000040 $d
     /tmp/ccmQGMh6.s:629    .text.W25qxx_Init:0000000000000000 $t
     /tmp/ccmQGMh6.s:635    .text.W25qxx_Init:0000000000000000 W25qxx_Init
     /tmp/ccmQGMh6.s:692    .text.W25qxx_Init:000000000000003a $d
     /tmp/ccmQGMh6.s:708    .text.W25qxx_Init:000000000000004a $t
     /tmp/ccmQGMh6.s:898    .text.W25qxx_Init:0000000000000114 $d
     /tmp/ccmQGMh6.s:904    .text.W25qxx_EraseChip:0000000000000000 $t
     /tmp/ccmQGMh6.s:910    .text.W25qxx_EraseChip:0000000000000000 W25qxx_EraseChip
     /tmp/ccmQGMh6.s:980    .text.W25qxx_EraseChip:0000000000000050 $d
     /tmp/ccmQGMh6.s:986    .text.W25qxx_EraseSector:0000000000000000 $t
     /tmp/ccmQGMh6.s:992    .text.W25qxx_EraseSector:0000000000000000 W25qxx_EraseSector
     /tmp/ccmQGMh6.s:1105   .text.W25qxx_EraseSector:0000000000000084 $d
     /tmp/ccmQGMh6.s:1111   .text.W25qxx_EraseBlock:0000000000000000 $t
     /tmp/ccmQGMh6.s:1117   .text.W25qxx_EraseBlock:0000000000000000 W25qxx_EraseBlock
     /tmp/ccmQGMh6.s:1232   .text.W25qxx_EraseBlock:0000000000000088 $d
     /tmp/ccmQGMh6.s:1238   .text.W25qxx_PageToSector:0000000000000000 $t
     /tmp/ccmQGMh6.s:1244   .text.W25qxx_PageToSector:0000000000000000 W25qxx_PageToSector
     /tmp/ccmQGMh6.s:1267   .text.W25qxx_PageToSector:0000000000000010 $d
     /tmp/ccmQGMh6.s:1272   .text.W25qxx_PageToBlock:0000000000000000 $t
     /tmp/ccmQGMh6.s:1278   .text.W25qxx_PageToBlock:0000000000000000 W25qxx_PageToBlock
     /tmp/ccmQGMh6.s:1301   .text.W25qxx_PageToBlock:0000000000000010 $d
     /tmp/ccmQGMh6.s:1306   .text.W25qxx_SectorToBlock:0000000000000000 $t
     /tmp/ccmQGMh6.s:1312   .text.W25qxx_SectorToBlock:0000000000000000 W25qxx_SectorToBlock
     /tmp/ccmQGMh6.s:1335   .text.W25qxx_SectorToBlock:0000000000000010 $d
     /tmp/ccmQGMh6.s:1340   .text.W25qxx_SectorToPage:0000000000000000 $t
     /tmp/ccmQGMh6.s:1346   .text.W25qxx_SectorToPage:0000000000000000 W25qxx_SectorToPage
     /tmp/ccmQGMh6.s:1369   .text.W25qxx_SectorToPage:0000000000000010 $d
     /tmp/ccmQGMh6.s:1374   .text.W25qxx_BlockToPage:0000000000000000 $t
     /tmp/ccmQGMh6.s:1380   .text.W25qxx_BlockToPage:0000000000000000 W25qxx_BlockToPage
     /tmp/ccmQGMh6.s:1403   .text.W25qxx_BlockToPage:0000000000000010 $d
     /tmp/ccmQGMh6.s:1408   .text.W25qxx_IsEmptyPage:0000000000000000 $t
     /tmp/ccmQGMh6.s:1414   .text.W25qxx_IsEmptyPage:0000000000000000 W25qxx_IsEmptyPage
ARM GAS  /tmp/ccmQGMh6.s 			page 85


     /tmp/ccmQGMh6.s:1702   .text.W25qxx_IsEmptyPage:0000000000000144 $d
     /tmp/ccmQGMh6.s:1709   .text.W25qxx_IsEmptySector:0000000000000000 $t
     /tmp/ccmQGMh6.s:1715   .text.W25qxx_IsEmptySector:0000000000000000 W25qxx_IsEmptySector
     /tmp/ccmQGMh6.s:1999   .text.W25qxx_IsEmptySector:000000000000013c $d
     /tmp/ccmQGMh6.s:2006   .text.W25qxx_IsEmptyBlock:0000000000000000 $t
     /tmp/ccmQGMh6.s:2012   .text.W25qxx_IsEmptyBlock:0000000000000000 W25qxx_IsEmptyBlock
     /tmp/ccmQGMh6.s:2296   .text.W25qxx_IsEmptyBlock:000000000000013c $d
     /tmp/ccmQGMh6.s:2303   .text.W25qxx_WriteByte:0000000000000000 $t
     /tmp/ccmQGMh6.s:2309   .text.W25qxx_WriteByte:0000000000000000 W25qxx_WriteByte
     /tmp/ccmQGMh6.s:2417   .text.W25qxx_WriteByte:0000000000000080 $d
     /tmp/ccmQGMh6.s:2423   .text.W25qxx_WritePage:0000000000000000 $t
     /tmp/ccmQGMh6.s:2429   .text.W25qxx_WritePage:0000000000000000 W25qxx_WritePage
     /tmp/ccmQGMh6.s:2581   .text.W25qxx_WritePage:00000000000000b0 $d
     /tmp/ccmQGMh6.s:2588   .text.W25qxx_WriteSector:0000000000000000 $t
     /tmp/ccmQGMh6.s:2594   .text.W25qxx_WriteSector:0000000000000000 W25qxx_WriteSector
     /tmp/ccmQGMh6.s:2721   .text.W25qxx_WriteSector:000000000000005c $d
     /tmp/ccmQGMh6.s:2726   .text.W25qxx_WriteBlock:0000000000000000 $t
     /tmp/ccmQGMh6.s:2732   .text.W25qxx_WriteBlock:0000000000000000 W25qxx_WriteBlock
     /tmp/ccmQGMh6.s:2859   .text.W25qxx_WriteBlock:000000000000005c $d
     /tmp/ccmQGMh6.s:2864   .text.W25qxx_ReadByte:0000000000000000 $t
     /tmp/ccmQGMh6.s:2870   .text.W25qxx_ReadByte:0000000000000000 W25qxx_ReadByte
     /tmp/ccmQGMh6.s:2976   .text.W25qxx_ReadByte:000000000000007c $d
     /tmp/ccmQGMh6.s:2982   .text.W25qxx_ReadBytes:0000000000000000 $t
     /tmp/ccmQGMh6.s:2988   .text.W25qxx_ReadBytes:0000000000000000 W25qxx_ReadBytes
     /tmp/ccmQGMh6.s:3101   .text.W25qxx_ReadBytes:000000000000008c $d
     /tmp/ccmQGMh6.s:3108   .text.W25qxx_ReadPage:0000000000000000 $t
     /tmp/ccmQGMh6.s:3114   .text.W25qxx_ReadPage:0000000000000000 W25qxx_ReadPage
     /tmp/ccmQGMh6.s:3262   .text.W25qxx_ReadPage:00000000000000ac $d
     /tmp/ccmQGMh6.s:3269   .text.W25qxx_ReadSector:0000000000000000 $t
     /tmp/ccmQGMh6.s:3275   .text.W25qxx_ReadSector:0000000000000000 W25qxx_ReadSector
     /tmp/ccmQGMh6.s:3402   .text.W25qxx_ReadSector:000000000000005c $d
     /tmp/ccmQGMh6.s:3407   .text.W25qxx_ReadBlock:0000000000000000 $t
     /tmp/ccmQGMh6.s:3413   .text.W25qxx_ReadBlock:0000000000000000 W25qxx_ReadBlock
     /tmp/ccmQGMh6.s:3540   .text.W25qxx_ReadBlock:000000000000005c $d
     /tmp/ccmQGMh6.s:3550   .bss.w25qxx:0000000000000000 w25qxx
     /tmp/ccmQGMh6.s:3546   .bss.w25qxx:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_SPI_TransmitReceive
hspi1
HAL_GPIO_WritePin
HAL_Delay
HAL_GetTick
HAL_SPI_Receive
HAL_SPI_Transmit
